diff a/jcheck/src/test/java/org/openjdk/skara/jcheck/TestRepository.java b/jcheck/src/test/java/org/openjdk/skara/jcheck/TestRepository.java
--- a/jcheck/src/test/java/org/openjdk/skara/jcheck/TestRepository.java
+++ b/jcheck/src/test/java/org/openjdk/skara/jcheck/TestRepository.java
@@ -232,23 +232,23 @@
     }
 
     public void dump(FileEntry entry, Path to) throws IOException {
     }
 
-    public Diff diff(Hash base, Hash head) throws IOException {
+    public Diff diff(Hash base, Hash head, int similarity) throws IOException {
         return null;
     }
 
-    public Diff diff(Hash base, Hash head, List<Path> files) throws IOException {
+    public Diff diff(Hash base, Hash head, List<Path> files, int similarity) throws IOException {
         return null;
     }
 
-    public Diff diff(Hash head) throws IOException {
+    public Diff diff(Hash head, int similarity) throws IOException {
         return null;
     }
 
-    public Diff diff(Hash head, List<Path> files) throws IOException {
+    public Diff diff(Hash head, List<Path> files, int similarity) throws IOException {
         return null;
     }
 
     public List<String> config(String key) throws IOException {
         return null;
