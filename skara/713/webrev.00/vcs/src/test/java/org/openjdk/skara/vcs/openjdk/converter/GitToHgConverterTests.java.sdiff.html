<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff vcs/src/test/java/org/openjdk/skara/vcs/openjdk/converter/GitToHgConverterTests.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../RepositoryTests.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="HgToGitConverterTests.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>vcs/src/test/java/org/openjdk/skara/vcs/openjdk/converter/GitToHgConverterTests.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 67 
 68                 assertEquals(gitPatch.status(), hgPatch.status());
 69                 assertEquals(gitPatch.isBinary(), hgPatch.isBinary());
 70                 assertEquals(gitPatch.isTextual(), hgPatch.isTextual());
 71 
 72                 if (gitPatch.isTextual()) {
 73                     var hgHunks = hgPatch.asTextualPatch().hunks();
 74                     var gitHunks = gitPatch.asTextualPatch().hunks();
 75                     assertEquals(gitHunks.size(), hgHunks.size());
 76 
 77                     for (var k = 0; k &lt; gitHunks.size(); k++) {
 78                         var hgHunk = hgHunks.get(k);
 79                         var gitHunk = gitHunks.get(k);
 80 
 81                         assertEquals(gitHunk.source().range(), hgHunk.source().range());
 82                         assertEquals(gitHunk.source().lines(), hgHunk.source().lines());
 83 
 84                         assertEquals(gitHunk.target().range(), hgHunk.target().range());
 85                         assertEquals(gitHunk.target().lines(), hgHunk.target().lines());
 86 
<span class="line-modified"> 87                         assertEquals(gitHunk.added(), hgHunk.added());</span>
<span class="line-modified"> 88                         assertEquals(gitHunk.removed(), hgHunk.removed());</span>
<span class="line-modified"> 89                         assertEquals(gitHunk.modified(), hgHunk.modified());</span>


 90                     }
 91                 }
 92             }
 93         }
 94     }
 95 
 96     void assertReposEquals(ReadOnlyRepository gitRepo, ReadOnlyRepository hgRepo) throws IOException {
 97         assertEquals(gitRepo.branches().size(), hgRepo.branches().size());
 98         assertEquals(gitRepo.tags().size() + 1, hgRepo.tags().size()); // hg alwayas has &#39;tip&#39; tag
 99 
100         var gitCommits = gitRepo.commits().asList();
101         var hgCommits = hgRepo.commits().asList();
102         assertEquals(gitCommits.size(), hgCommits.size());
103 
104         for (var i = 0; i &lt; gitCommits.size(); i++) {
105             assertCommitEquals(gitCommits.get(i), hgCommits.get(i));
106         }
107     }
108 
109     @Test
</pre>
</td>
<td>
<hr />
<pre>
 67 
 68                 assertEquals(gitPatch.status(), hgPatch.status());
 69                 assertEquals(gitPatch.isBinary(), hgPatch.isBinary());
 70                 assertEquals(gitPatch.isTextual(), hgPatch.isTextual());
 71 
 72                 if (gitPatch.isTextual()) {
 73                     var hgHunks = hgPatch.asTextualPatch().hunks();
 74                     var gitHunks = gitPatch.asTextualPatch().hunks();
 75                     assertEquals(gitHunks.size(), hgHunks.size());
 76 
 77                     for (var k = 0; k &lt; gitHunks.size(); k++) {
 78                         var hgHunk = hgHunks.get(k);
 79                         var gitHunk = gitHunks.get(k);
 80 
 81                         assertEquals(gitHunk.source().range(), hgHunk.source().range());
 82                         assertEquals(gitHunk.source().lines(), hgHunk.source().lines());
 83 
 84                         assertEquals(gitHunk.target().range(), hgHunk.target().range());
 85                         assertEquals(gitHunk.target().lines(), hgHunk.target().lines());
 86 
<span class="line-modified"> 87                         var hgStats = hgHunk.stats();</span>
<span class="line-modified"> 88                         var gitStats = gitHunk.stats();</span>
<span class="line-modified"> 89                         assertEquals(gitStats.added(), hgStats.added());</span>
<span class="line-added"> 90                         assertEquals(gitStats.removed(), hgStats.removed());</span>
<span class="line-added"> 91                         assertEquals(gitStats.modified(), hgStats.modified());</span>
 92                     }
 93                 }
 94             }
 95         }
 96     }
 97 
 98     void assertReposEquals(ReadOnlyRepository gitRepo, ReadOnlyRepository hgRepo) throws IOException {
 99         assertEquals(gitRepo.branches().size(), hgRepo.branches().size());
100         assertEquals(gitRepo.tags().size() + 1, hgRepo.tags().size()); // hg alwayas has &#39;tip&#39; tag
101 
102         var gitCommits = gitRepo.commits().asList();
103         var hgCommits = hgRepo.commits().asList();
104         assertEquals(gitCommits.size(), hgCommits.size());
105 
106         for (var i = 0; i &lt; gitCommits.size(); i++) {
107             assertCommitEquals(gitCommits.get(i), hgCommits.get(i));
108         }
109     }
110 
111     @Test
</pre>
</td>
</tr>
</table>
<center><a href="../../RepositoryTests.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="HgToGitConverterTests.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>