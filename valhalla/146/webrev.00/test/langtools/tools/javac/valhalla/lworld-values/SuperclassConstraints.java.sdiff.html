<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/langtools/tools/javac/valhalla/lworld-values/SuperclassConstraints.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="InlineAnnotationTest.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="TopInterfaceNegativeTest.out.sdiff.html" target="_top">next &gt;</a></center>    <h2>test/langtools/tools/javac/valhalla/lworld-values/SuperclassConstraints.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 /*
  2  * @test /nodynamiccopyright/
  3  * @bug 8242900
  4  * @summary Verify various constraints for an inline class&#39;s super types.
<span class="line-modified">  5  * @compile/fail/ref=SuperclassConstraints.out -XDallowEmptyValues -XDrawDiagnostics -XDdev SuperclassConstraints.java</span>
  6  */
  7 
  8 public class SuperclassConstraints {
  9 
 10     // -------------------------------------------------------------
 11 
 12     // Test that super class cannot be concrete, including express jlO
 13     static class BadSuper {}
 14     inline class I0 extends BadSuper {} // ERROR: concrete super class
 15     inline class I1 extends Object {}   // OK: concrete jlO can be express-superclass
 16     inline class I2 {} // OK
 17 
 18     // Test that abstract class is allowed to be super including when extending jlO
 19     interface GoodSuperInterface {}
 20     static abstract class GoodSuper extends Object {}
 21     inline class I3 extends GoodSuper implements GoodSuperInterface {} // jlO can be indirect super class
 22     static abstract class Integer extends Number {
 23         public double doubleValue() { return 0; }
 24         public float floatValue() { return 0; }
 25         public long longValue() { return 0; }
</pre>
</td>
<td>
<hr />
<pre>
  1 /*
  2  * @test /nodynamiccopyright/
  3  * @bug 8242900
  4  * @summary Verify various constraints for an inline class&#39;s super types.
<span class="line-modified">  5  * @compile/fail/ref=SuperclassConstraints.out -XDrawDiagnostics -XDdev SuperclassConstraints.java</span>
  6  */
  7 
  8 public class SuperclassConstraints {
  9 
 10     // -------------------------------------------------------------
 11 
 12     // Test that super class cannot be concrete, including express jlO
 13     static class BadSuper {}
 14     inline class I0 extends BadSuper {} // ERROR: concrete super class
 15     inline class I1 extends Object {}   // OK: concrete jlO can be express-superclass
 16     inline class I2 {} // OK
 17 
 18     // Test that abstract class is allowed to be super including when extending jlO
 19     interface GoodSuperInterface {}
 20     static abstract class GoodSuper extends Object {}
 21     inline class I3 extends GoodSuper implements GoodSuperInterface {} // jlO can be indirect super class
 22     static abstract class Integer extends Number {
 23         public double doubleValue() { return 0; }
 24         public float floatValue() { return 0; }
 25         public long longValue() { return 0; }
</pre>
</td>
</tr>
</table>
<center><a href="InlineAnnotationTest.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="TopInterfaceNegativeTest.out.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>