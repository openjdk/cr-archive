<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff test/jdk/valhalla/valuetypes/SubstitutabilityTest.java</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="ObjectMethods.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="Value.java.udiff.html" target="_top">next &gt;</a></center>    <h2>test/jdk/valhalla/valuetypes/SubstitutabilityTest.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -55,10 +55,14 @@</span>
              new Object[] { box1, Point.makePoint(10, 10) },
              new Object[] { mpath, mpath},
              new Object[] { mixedValues, mixedValues},
              new Object[] { valueBuilder().setPoint(p1).build(),
                             valueBuilder().setPoint(Point.makePoint(10, 10)).build() },
<span class="udiff-line-added">+             new Object[] { valueBuilder().setPointRef(p2).build(),</span>
<span class="udiff-line-added">+                            valueBuilder().setPointRef(Point.makePoint(20, 20)).build() },</span>
<span class="udiff-line-added">+             new Object[] { valueBuilder().setReference(p2).build(),</span>
<span class="udiff-line-added">+                            valueBuilder().setReference(Point.makePoint(20, 20)).build() },</span>
              new Object[] { valueBuilder().setFloat(Float.NaN).setDouble(Double.NaN).setPoint(p1).build(),
                             valueBuilder().setFloat(Float.NaN).setDouble(Double.NaN).setPoint(l1.p1).build() },
              new Object[] { valueBuilder().setFloat(Float.NaN).setDouble(Double.NaN).setNumber(number).build(),
                             valueBuilder().setFloat(Float.NaN).setDouble(Double.NaN).setNumber(Value.Number.intValue(99)).build() },
              new Object[] { valueBuilder().setFloat(+0.0f).setDouble(+0.0).setReference(list).build(),
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -88,10 +92,12 @@</span>
                             valueBuilder().setFloat(-0.0f).setDouble(+0.0).build() },
              new Object[] { valueBuilder().setFloat(+0.0f).setDouble(+0.0).build(),
                             valueBuilder().setFloat(+0.0f).setDouble(-0.0).build() },
              new Object[] { valueBuilder().setPoint(point).build(),
                             valueBuilder().setPoint(Point.makePoint(20, 20)).build() },
<span class="udiff-line-added">+             new Object[] { valueBuilder().setPointRef(point).build(),</span>
<span class="udiff-line-added">+                            valueBuilder().setPointRef(Point.makePoint(20, 20)).build() },</span>
              new Object[] { valueBuilder().setNumber(number).build(),
                             valueBuilder().setNumber(new Value.IntNumber(99)).build() },
              new Object[] { valueBuilder().setNumber(Value.Number.intValue(1)).build(),
                             valueBuilder().setNumber(Value.Number.shortValue((short)1)).build() },
              new Object[] { valueBuilder().setNumber(new Value.IntNumber(99)).build(),
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -191,20 +197,20 @@</span>
  
      private static Object zerothElement(Object[] oa) {
          return oa[0];
      }
  
<span class="udiff-line-modified-removed">-     private static final Method IS_SUBSTITUTABLE0;</span>
<span class="udiff-line-modified-added">+     private static final Method IS_SUBSTITUTABLE;</span>
      static {
          Method m = null;
          try {
<span class="udiff-line-modified-removed">-             m = ValueBootstrapMethods.class.getDeclaredMethod(&quot;isSubstitutable0&quot;, Object.class, Object.class);</span>
<span class="udiff-line-modified-added">+             m = ValueBootstrapMethods.class.getDeclaredMethod(&quot;isSubstitutable&quot;, Object.class, Object.class);</span>
              m.setAccessible(true);
          } catch (ReflectiveOperationException e) {
              throw new RuntimeException(e);
          }
<span class="udiff-line-modified-removed">-         IS_SUBSTITUTABLE0 = m;</span>
<span class="udiff-line-modified-added">+         IS_SUBSTITUTABLE = m;</span>
      }
      private static boolean isSubstitutable(Object a, Object b) throws ReflectiveOperationException {
<span class="udiff-line-modified-removed">-         return (boolean) IS_SUBSTITUTABLE0.invoke(null, a, b);</span>
<span class="udiff-line-modified-added">+         return (boolean) IS_SUBSTITUTABLE.invoke(null, a, b);</span>
      }
  }
</pre>
<center><a href="ObjectMethods.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="Value.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>