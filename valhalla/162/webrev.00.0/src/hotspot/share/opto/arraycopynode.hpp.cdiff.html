<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/hotspot/share/opto/arraycopynode.hpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="../oops/symbol.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="c2compiler.cpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/opto/arraycopynode.hpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 112,12 ***</span>
    void copy(GraphKit&amp; kit, const TypeAryPtr* atp_src, const TypeAryPtr* atp_dest, int i,
              Node* base_src, Node* base_dest, Node* adr_src, Node* adr_dest,
              BasicType copy_type, const Type* value_type);
  
    static bool may_modify_helper(const TypeOopPtr *t_oop, Node* n, PhaseTransform *phase, CallNode*&amp; call);
<span class="line-modified">! </span>
    static Node* load(BarrierSetC2* bs, PhaseGVN *phase, Node*&amp; ctl, MergeMemNode* mem, Node* addr, const TypePtr* adr_type, const Type *type, BasicType bt);
    void store(BarrierSetC2* bs, PhaseGVN *phase, Node*&amp; ctl, MergeMemNode* mem, Node* addr, const TypePtr* adr_type, Node* val, const Type *type, BasicType bt);
  
  public:
  
    enum {
<span class="line-new-header">--- 112,13 ---</span>
    void copy(GraphKit&amp; kit, const TypeAryPtr* atp_src, const TypeAryPtr* atp_dest, int i,
              Node* base_src, Node* base_dest, Node* adr_src, Node* adr_dest,
              BasicType copy_type, const Type* value_type);
  
    static bool may_modify_helper(const TypeOopPtr *t_oop, Node* n, PhaseTransform *phase, CallNode*&amp; call);
<span class="line-modified">! public:</span>
    static Node* load(BarrierSetC2* bs, PhaseGVN *phase, Node*&amp; ctl, MergeMemNode* mem, Node* addr, const TypePtr* adr_type, const Type *type, BasicType bt);
<span class="line-added">+ private:</span>
    void store(BarrierSetC2* bs, PhaseGVN *phase, Node*&amp; ctl, MergeMemNode* mem, Node* addr, const TypePtr* adr_type, Node* val, const Type *type, BasicType bt);
  
  public:
  
    enum {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 153,11 ***</span>
    bool is_clone_inst()            const  { assert(_kind != None, &quot;should bet set&quot;); return _kind == CloneInst; }
    // is_clone_array - true for all arrays when using GCs that has no barriers
    bool is_clone_array()           const  { assert(_kind != None, &quot;should bet set&quot;); return _kind == CloneArray; }
    // is_clone_oop_array is used when oop arrays need GC barriers
    bool is_clone_oop_array()       const  { assert(_kind != None, &quot;should bet set&quot;); return _kind == CloneOopArray; }
<span class="line-modified">!   // is_clonebasic - is true for any type of clone that doesn&#39;t need a barrier.</span>
    bool is_clonebasic()            const  { assert(_kind != None, &quot;should bet set&quot;); return _kind == CloneInst || _kind == CloneArray; }
    bool is_copyof()                const  { assert(_kind != None, &quot;should bet set&quot;); return _kind == CopyOf; }
    bool is_copyof_validated()      const  { assert(_kind != None, &quot;should bet set&quot;); return _kind == CopyOf &amp;&amp; _arguments_validated; }
    bool is_copyofrange()           const  { assert(_kind != None, &quot;should bet set&quot;); return _kind == CopyOfRange; }
    bool is_copyofrange_validated() const  { assert(_kind != None, &quot;should bet set&quot;); return _kind == CopyOfRange &amp;&amp; _arguments_validated; }
<span class="line-new-header">--- 154,11 ---</span>
    bool is_clone_inst()            const  { assert(_kind != None, &quot;should bet set&quot;); return _kind == CloneInst; }
    // is_clone_array - true for all arrays when using GCs that has no barriers
    bool is_clone_array()           const  { assert(_kind != None, &quot;should bet set&quot;); return _kind == CloneArray; }
    // is_clone_oop_array is used when oop arrays need GC barriers
    bool is_clone_oop_array()       const  { assert(_kind != None, &quot;should bet set&quot;); return _kind == CloneOopArray; }
<span class="line-modified">!   // is_clonebasic - is true for any type of clone that doesn&#39;t need a writebarrier.</span>
    bool is_clonebasic()            const  { assert(_kind != None, &quot;should bet set&quot;); return _kind == CloneInst || _kind == CloneArray; }
    bool is_copyof()                const  { assert(_kind != None, &quot;should bet set&quot;); return _kind == CopyOf; }
    bool is_copyof_validated()      const  { assert(_kind != None, &quot;should bet set&quot;); return _kind == CopyOf &amp;&amp; _arguments_validated; }
    bool is_copyofrange()           const  { assert(_kind != None, &quot;should bet set&quot;); return _kind == CopyOfRange; }
    bool is_copyofrange_validated() const  { assert(_kind != None, &quot;should bet set&quot;); return _kind == CopyOfRange &amp;&amp; _arguments_validated; }
</pre>
<center><a href="../oops/symbol.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="c2compiler.cpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>