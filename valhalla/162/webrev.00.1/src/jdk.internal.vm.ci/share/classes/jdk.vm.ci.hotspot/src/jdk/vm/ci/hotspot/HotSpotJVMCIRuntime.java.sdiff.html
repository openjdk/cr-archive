<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.internal.vm.ci/share/classes/jdk.vm.ci.hotspot/src/jdk/vm/ci/hotspot/HotSpotJVMCIRuntime.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../../../../../../jdk.compiler/share/classes/com/sun/tools/javac/comp/LambdaToMethod.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../../../jdk.internal.vm.compiler/share/classes/org.graalvm.compiler.hotspot.test/src/org/graalvm/compiler/hotspot/test/CheckGraalIntrinsics.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.internal.vm.ci/share/classes/jdk.vm.ci.hotspot/src/jdk/vm/ci/hotspot/HotSpotJVMCIRuntime.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  67 /**
  68  * HotSpot implementation of a JVMCI runtime.
  69  */
  70 public final class HotSpotJVMCIRuntime implements JVMCIRuntime {
  71 
  72     /**
  73      * Singleton instance lazily initialized via double-checked locking.
  74      */
  75     @NativeImageReinitialize private static volatile HotSpotJVMCIRuntime instance;
  76 
  77     private HotSpotResolvedObjectTypeImpl javaLangObject;
  78     private HotSpotResolvedObjectTypeImpl javaLangInvokeMethodHandle;
  79     private HotSpotResolvedObjectTypeImpl constantCallSiteType;
  80     private HotSpotResolvedObjectTypeImpl callSiteType;
  81     private HotSpotResolvedObjectTypeImpl javaLangString;
  82     private HotSpotResolvedObjectTypeImpl javaLangClass;
  83     private HotSpotResolvedObjectTypeImpl throwableType;
  84     private HotSpotResolvedObjectTypeImpl serializableType;
  85     private HotSpotResolvedObjectTypeImpl cloneableType;
  86     private HotSpotResolvedObjectTypeImpl enumType;

  87 
  88     HotSpotResolvedObjectTypeImpl getJavaLangObject() {
  89         if (javaLangObject == null) {
  90             javaLangObject = (HotSpotResolvedObjectTypeImpl) fromClass(Object.class);
  91         }
  92         return javaLangObject;
  93     }
  94 
  95     HotSpotResolvedObjectTypeImpl getJavaLangString() {
  96         if (javaLangString == null) {
  97             javaLangString = (HotSpotResolvedObjectTypeImpl) fromClass(String.class);
  98         }
  99         return javaLangString;
 100     }
 101 
 102     HotSpotResolvedObjectTypeImpl getJavaLangClass() {
 103         if (javaLangClass == null) {
 104             javaLangClass = (HotSpotResolvedObjectTypeImpl) fromClass(Class.class);
 105         }
 106         return javaLangClass;
 107     }
 108 
 109     HotSpotResolvedObjectTypeImpl getJavaLangCloneable() {
 110         if (cloneableType == null) {
 111             cloneableType = (HotSpotResolvedObjectTypeImpl) fromClass(Cloneable.class);
 112         }
 113         return cloneableType;
 114     }
 115 
 116     HotSpotResolvedObjectTypeImpl getJavaLangSerializable() {
 117         if (serializableType == null) {
 118             serializableType = (HotSpotResolvedObjectTypeImpl) fromClass(Serializable.class);
 119         }
 120         return serializableType;
 121     }
 122 







 123     HotSpotResolvedObjectTypeImpl getJavaLangThrowable() {
 124         if (throwableType == null) {
 125             throwableType = (HotSpotResolvedObjectTypeImpl) fromClass(Throwable.class);
 126         }
 127         return throwableType;
 128     }
 129 
 130     HotSpotResolvedObjectTypeImpl getJavaLangEnum() {
 131         if (enumType == null) {
 132             enumType = (HotSpotResolvedObjectTypeImpl) fromClass(Enum.class);
 133         }
 134         return enumType;
 135     }
 136 
 137     HotSpotResolvedObjectTypeImpl getConstantCallSite() {
 138         if (constantCallSiteType == null) {
 139             constantCallSiteType = (HotSpotResolvedObjectTypeImpl) fromClass(ConstantCallSite.class);
 140         }
 141         return constantCallSiteType;
 142     }
</pre>
</td>
<td>
<hr />
<pre>
  67 /**
  68  * HotSpot implementation of a JVMCI runtime.
  69  */
  70 public final class HotSpotJVMCIRuntime implements JVMCIRuntime {
  71 
  72     /**
  73      * Singleton instance lazily initialized via double-checked locking.
  74      */
  75     @NativeImageReinitialize private static volatile HotSpotJVMCIRuntime instance;
  76 
  77     private HotSpotResolvedObjectTypeImpl javaLangObject;
  78     private HotSpotResolvedObjectTypeImpl javaLangInvokeMethodHandle;
  79     private HotSpotResolvedObjectTypeImpl constantCallSiteType;
  80     private HotSpotResolvedObjectTypeImpl callSiteType;
  81     private HotSpotResolvedObjectTypeImpl javaLangString;
  82     private HotSpotResolvedObjectTypeImpl javaLangClass;
  83     private HotSpotResolvedObjectTypeImpl throwableType;
  84     private HotSpotResolvedObjectTypeImpl serializableType;
  85     private HotSpotResolvedObjectTypeImpl cloneableType;
  86     private HotSpotResolvedObjectTypeImpl enumType;
<span class="line-added">  87     private HotSpotResolvedObjectTypeImpl identityObjectType;</span>
  88 
  89     HotSpotResolvedObjectTypeImpl getJavaLangObject() {
  90         if (javaLangObject == null) {
  91             javaLangObject = (HotSpotResolvedObjectTypeImpl) fromClass(Object.class);
  92         }
  93         return javaLangObject;
  94     }
  95 
  96     HotSpotResolvedObjectTypeImpl getJavaLangString() {
  97         if (javaLangString == null) {
  98             javaLangString = (HotSpotResolvedObjectTypeImpl) fromClass(String.class);
  99         }
 100         return javaLangString;
 101     }
 102 
 103     HotSpotResolvedObjectTypeImpl getJavaLangClass() {
 104         if (javaLangClass == null) {
 105             javaLangClass = (HotSpotResolvedObjectTypeImpl) fromClass(Class.class);
 106         }
 107         return javaLangClass;
 108     }
 109 
 110     HotSpotResolvedObjectTypeImpl getJavaLangCloneable() {
 111         if (cloneableType == null) {
 112             cloneableType = (HotSpotResolvedObjectTypeImpl) fromClass(Cloneable.class);
 113         }
 114         return cloneableType;
 115     }
 116 
 117     HotSpotResolvedObjectTypeImpl getJavaLangSerializable() {
 118         if (serializableType == null) {
 119             serializableType = (HotSpotResolvedObjectTypeImpl) fromClass(Serializable.class);
 120         }
 121         return serializableType;
 122     }
 123 
<span class="line-added"> 124     HotSpotResolvedObjectTypeImpl getJavaLangIdentityObject() {</span>
<span class="line-added"> 125         if (identityObjectType == null) {</span>
<span class="line-added"> 126             identityObjectType = (HotSpotResolvedObjectTypeImpl) fromClass(IdentityObject.class);</span>
<span class="line-added"> 127         }</span>
<span class="line-added"> 128         return identityObjectType;</span>
<span class="line-added"> 129     }</span>
<span class="line-added"> 130 </span>
 131     HotSpotResolvedObjectTypeImpl getJavaLangThrowable() {
 132         if (throwableType == null) {
 133             throwableType = (HotSpotResolvedObjectTypeImpl) fromClass(Throwable.class);
 134         }
 135         return throwableType;
 136     }
 137 
 138     HotSpotResolvedObjectTypeImpl getJavaLangEnum() {
 139         if (enumType == null) {
 140             enumType = (HotSpotResolvedObjectTypeImpl) fromClass(Enum.class);
 141         }
 142         return enumType;
 143     }
 144 
 145     HotSpotResolvedObjectTypeImpl getConstantCallSite() {
 146         if (constantCallSiteType == null) {
 147             constantCallSiteType = (HotSpotResolvedObjectTypeImpl) fromClass(ConstantCallSite.class);
 148         }
 149         return constantCallSiteType;
 150     }
</pre>
</td>
</tr>
</table>
<center><a href="../../../../../../../../../jdk.compiler/share/classes/com/sun/tools/javac/comp/LambdaToMethod.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../../../jdk.internal.vm.compiler/share/classes/org.graalvm.compiler.hotspot.test/src/org/graalvm/compiler/hotspot/test/CheckGraalIntrinsics.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>