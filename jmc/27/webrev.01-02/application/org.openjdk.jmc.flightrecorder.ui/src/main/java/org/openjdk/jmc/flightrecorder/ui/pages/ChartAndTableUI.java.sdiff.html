<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff application/org.openjdk.jmc.flightrecorder.ui/src/main/java/org/openjdk/jmc/flightrecorder/ui/pages/ChartAndTableUI.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../messages/internal/Messages.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="ThreadsPage.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>application/org.openjdk.jmc.flightrecorder.ui/src/main/java/org/openjdk/jmc/flightrecorder/ui/pages/ChartAndTableUI.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 93 	protected ChartCanvas chartCanvas;
 94 	protected FilterComponent tableFilterComponent;
 95 	protected ItemHistogram table;
 96 	protected SashForm sash;
 97 	private IPageContainer pageContainer;
 98 	protected List&lt;IAction&gt; allChartSeriesActions;
 99 	private IItemCollection selectionItems;
100 	private IRange&lt;IQuantity&gt; timeRange;
101 	protected XYChart chart;
102 	protected FlavorSelector flavorSelector;
103 
104 	ChartAndTableUI(IItemFilter pageFilter, StreamModel model, Composite parent, FormToolkit toolkit,
105 			IPageContainer pageContainer, IState state, String sectionTitle, IItemFilter tableFilter, Image icon,
106 			FlavorSelectorState flavorSelectorState, IAttribute&lt;?&gt; classifier) {
107 		init(pageFilter, model, parent, toolkit, pageContainer, state, sectionTitle, tableFilter, icon,
108 				flavorSelectorState, classifier);
109 	}
110 
111 	protected void init(
112 		IItemFilter pageFilter, StreamModel model, Composite parent, FormToolkit toolkit, IPageContainer pageContainer,
<span class="line-modified">113 		IState state, String sectionTitle, IItemFilter tableFilter, Image icon,</span>
<span class="line-modified">114 		FlavorSelectorState flavorSelectorState, IAttribute&lt;?&gt; classifier) {</span>
115 		this.pageFilter = pageFilter;
116 		this.model = model;
117 		this.pageContainer = pageContainer;
118 		form = DataPageToolkit.createForm(parent, toolkit, sectionTitle, icon);
119 		sash = new SashForm(form.getBody(), SWT.VERTICAL);
120 		toolkit.adapt(sash);
121 
122 		table = buildHistogram(sash, state.getChild(TABLE), classifier);
123 		MCContextMenuManager mm = MCContextMenuManager.create(table.getManager().getViewer().getControl());
124 		ColumnMenusFactory.addDefaultMenus(table.getManager(), mm);
125 		table.getManager().getViewer().addSelectionChangedListener(e -&gt; buildChart());
126 		table.getManager().getViewer()
127 				.addSelectionChangedListener(e -&gt; pageContainer.showSelection(table.getSelection().getItems()));
128 		SelectionStoreActionToolkit.addSelectionStoreActions(pageContainer.getSelectionStore(), table,
129 				NLS.bind(Messages.ChartAndTableUI_HISTOGRAM_SELECTION, sectionTitle), mm);
130 		tableFilterComponent = FilterComponent.createFilterComponent(table.getManager().getViewer().getControl(),
131 				table.getManager(), tableFilter, model.getItems().apply(pageFilter),
132 				pageContainer.getSelectionStore()::getSelections, this::onFilterChange);
133 		mm.add(tableFilterComponent.getShowFilterAction());
134 		mm.add(tableFilterComponent.getShowSearchAction());
</pre>
</td>
<td>
<hr />
<pre>
 93 	protected ChartCanvas chartCanvas;
 94 	protected FilterComponent tableFilterComponent;
 95 	protected ItemHistogram table;
 96 	protected SashForm sash;
 97 	private IPageContainer pageContainer;
 98 	protected List&lt;IAction&gt; allChartSeriesActions;
 99 	private IItemCollection selectionItems;
100 	private IRange&lt;IQuantity&gt; timeRange;
101 	protected XYChart chart;
102 	protected FlavorSelector flavorSelector;
103 
104 	ChartAndTableUI(IItemFilter pageFilter, StreamModel model, Composite parent, FormToolkit toolkit,
105 			IPageContainer pageContainer, IState state, String sectionTitle, IItemFilter tableFilter, Image icon,
106 			FlavorSelectorState flavorSelectorState, IAttribute&lt;?&gt; classifier) {
107 		init(pageFilter, model, parent, toolkit, pageContainer, state, sectionTitle, tableFilter, icon,
108 				flavorSelectorState, classifier);
109 	}
110 
111 	protected void init(
112 		IItemFilter pageFilter, StreamModel model, Composite parent, FormToolkit toolkit, IPageContainer pageContainer,
<span class="line-modified">113 		IState state, String sectionTitle, IItemFilter tableFilter, Image icon, FlavorSelectorState flavorSelectorState,</span>
<span class="line-modified">114 		IAttribute&lt;?&gt; classifier) {</span>
115 		this.pageFilter = pageFilter;
116 		this.model = model;
117 		this.pageContainer = pageContainer;
118 		form = DataPageToolkit.createForm(parent, toolkit, sectionTitle, icon);
119 		sash = new SashForm(form.getBody(), SWT.VERTICAL);
120 		toolkit.adapt(sash);
121 
122 		table = buildHistogram(sash, state.getChild(TABLE), classifier);
123 		MCContextMenuManager mm = MCContextMenuManager.create(table.getManager().getViewer().getControl());
124 		ColumnMenusFactory.addDefaultMenus(table.getManager(), mm);
125 		table.getManager().getViewer().addSelectionChangedListener(e -&gt; buildChart());
126 		table.getManager().getViewer()
127 				.addSelectionChangedListener(e -&gt; pageContainer.showSelection(table.getSelection().getItems()));
128 		SelectionStoreActionToolkit.addSelectionStoreActions(pageContainer.getSelectionStore(), table,
129 				NLS.bind(Messages.ChartAndTableUI_HISTOGRAM_SELECTION, sectionTitle), mm);
130 		tableFilterComponent = FilterComponent.createFilterComponent(table.getManager().getViewer().getControl(),
131 				table.getManager(), tableFilter, model.getItems().apply(pageFilter),
132 				pageContainer.getSelectionStore()::getSelections, this::onFilterChange);
133 		mm.add(tableFilterComponent.getShowFilterAction());
134 		mm.add(tableFilterComponent.getShowSearchAction());
</pre>
</td>
</tr>
</table>
<center><a href="../messages/internal/Messages.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="ThreadsPage.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>