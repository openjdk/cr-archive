<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff application/uitests/org.openjdk.jmc.test.jemmy/src/test/java/org/openjdk/jmc/test/jemmy/misc/wrappers/MCChartCanvas.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="MCButton.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../../../index.html" target="_top">index</a> <a href="MCTable.java.udiff.html" target="_top">next &gt;</a></center>    <h2>application/uitests/org.openjdk.jmc.test.jemmy/src/test/java/org/openjdk/jmc/test/jemmy/misc/wrappers/MCChartCanvas.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -1,8 +1,8 @@</span>
  /*
<span class="udiff-line-modified-removed">-  * Copyright (c) 2018, 2019, Oracle and/or its affiliates. All rights reserved.</span>
<span class="udiff-line-modified-removed">-  * Copyright (c) 2019, Red Hat Inc. All rights reserved.</span>
<span class="udiff-line-modified-added">+  * Copyright (c) 2018, 2020, Oracle and/or its affiliates. All rights reserved.</span>
<span class="udiff-line-modified-added">+  * Copyright (c) 2019, 2020, Red Hat Inc. All rights reserved.</span>
   *
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * The contents of this file are subject to the terms of either the Universal Permissive License
   * v 1.0 as shown at http://oss.oracle.com/licenses/upl
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -42,10 +42,12 @@</span>
  import org.openjdk.jmc.test.jemmy.misc.fetchers.Fetcher;
  import org.openjdk.jmc.ui.misc.ChartCanvas;
  import org.jemmy.Point;
  import org.jemmy.control.Wrap;
  import org.jemmy.input.StringPopupOwner;
<span class="udiff-line-added">+ import org.jemmy.interfaces.Keyboard.KeyboardButtons;</span>
<span class="udiff-line-added">+ import org.jemmy.interfaces.Mouse.MouseButtons;</span>
  import org.jemmy.interfaces.Parent;
  import org.jemmy.resources.StringComparePolicy;
  
  /**
   * The Jemmy wrapper for the Mission Control Chart Canvas.
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -107,10 +109,35 @@</span>
  		StringPopupOwner&lt;Shell&gt; contextMenu = control.as(StringPopupOwner.class);
  		contextMenu.setPolicy(StringComparePolicy.SUBSTRING);
  		contextMenu.push(getRelativeClickPoint(), new String[] {menuItemText});
  	}
  
<span class="udiff-line-added">+ 	/**</span>
<span class="udiff-line-added">+ 	 * Click the center of the chart in the ChartCanvas</span>
<span class="udiff-line-added">+ 	 */</span>
<span class="udiff-line-added">+ 	public void clickChart() {</span>
<span class="udiff-line-added">+ 		Display.getDefault().syncExec(() -&gt; {</span>
<span class="udiff-line-added">+ 			control.mouse().click(1, getRelativeClickPoint(), MouseButtons.BUTTON1);</span>
<span class="udiff-line-added">+ 		});</span>
<span class="udiff-line-added">+ 	}</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ 	/**</span>
<span class="udiff-line-added">+ 	 * Zoom in the chart with keyboard controls</span>
<span class="udiff-line-added">+ 	 */</span>
<span class="udiff-line-added">+ 	public void keyboardZoomIn() {</span>
<span class="udiff-line-added">+ 		control.keyboard().pushKey(KeyboardButtons.UP);</span>
<span class="udiff-line-added">+ 		waitForIdle();</span>
<span class="udiff-line-added">+ 	}</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ 	/**</span>
<span class="udiff-line-added">+ 	 * Zoom out the chart with keyboard controls</span>
<span class="udiff-line-added">+ 	 */</span>
<span class="udiff-line-added">+ 	public void keyboardZoomOut() {</span>
<span class="udiff-line-added">+ 		control.keyboard().pushKey(KeyboardButtons.DOWN);</span>
<span class="udiff-line-added">+ 		waitForIdle();</span>
<span class="udiff-line-added">+ 	}</span>
<span class="udiff-line-added">+ </span>
  	/**
  	 * Checks the isEnabled value for a menu item in the context menu
  	 *
  	 * @param menuItemText
  	 *            the menu item of interest
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -127,11 +154,12 @@</span>
  	 */
  	private Point getRelativeClickPoint() {
  		Fetcher&lt;Point&gt; fetcher = new Fetcher&lt;Point&gt;() {
  			@Override
  			public void run() {
<span class="udiff-line-modified-removed">- 				setOutput(new Point(control.getScreenBounds().x / 2, control.getScreenBounds().y / 2));</span>
<span class="udiff-line-modified-added">+ 				setOutput(new Point(control.getControl().getParent().getSize().x / 2,</span>
<span class="udiff-line-added">+ 						control.getControl().getParent().getSize().y / 2));</span>
  			}
  		};
  		Display.getDefault().syncExec(fetcher);
  		return fetcher.getOutput();
  	}
</pre>
<center><a href="MCButton.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../../../index.html" target="_top">index</a> <a href="MCTable.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>