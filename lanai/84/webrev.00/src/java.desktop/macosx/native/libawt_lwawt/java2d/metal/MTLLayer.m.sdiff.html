<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.desktop/macosx/native/libawt_lwawt/java2d/metal/MTLLayer.m</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="MTLBlitLoops.m.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="MTLPaints.m.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/macosx/native/libawt_lwawt/java2d/metal/MTLLayer.m</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 52 
 53     self.contentsGravity = kCAGravityTopLeft;
 54 
 55     //Disable CALayer&#39;s default animation
 56     NSMutableDictionary * actions = [[NSMutableDictionary alloc] initWithObjectsAndKeys:
 57                                     [NSNull null], @&quot;anchorPoint&quot;,
 58                                     [NSNull null], @&quot;bounds&quot;,
 59                                     [NSNull null], @&quot;contents&quot;,
 60                                     [NSNull null], @&quot;contentsScale&quot;,
 61                                     [NSNull null], @&quot;onOrderIn&quot;,
 62                                     [NSNull null], @&quot;onOrderOut&quot;,
 63                                     [NSNull null], @&quot;position&quot;,
 64                                     [NSNull null], @&quot;sublayers&quot;,
 65                                     nil];
 66     self.actions = actions;
 67     [actions release];
 68     self.topInset = 0;
 69     self.leftInset = 0;
 70     self.framebufferOnly = NO;
 71     self.nextDrawableCount = 0;

 72     return self;
 73 }
 74 
 75 - (void) blitTexture {
 76     if (self.ctx == NULL || self.javaLayer == NULL || self.buffer == nil || self.ctx.device == nil) {
 77         J2dTraceLn4(J2D_TRACE_VERBOSE, &quot;MTLLayer.blitTexture: uninitialized (mtlc=%p, javaLayer=%p, buffer=%p, devide=%p)&quot;, self.ctx, self.javaLayer, self.buffer, ctx.device);
 78         return;
 79     }
 80 
 81     if (self.nextDrawableCount != 0)
 82         return;
 83     @autoreleasepool {
 84         if ((self.buffer.width == 0) || (self.buffer.height == 0)) {
 85             J2dTraceLn(J2D_TRACE_VERBOSE, &quot;MTLLayer.blitTexture: cannot create drawable of size 0&quot;);
 86             return;
 87         }
 88         id&lt;MTLCommandBuffer&gt; commandBuf = [self.ctx createBlitCommandBuffer];
 89         if (commandBuf == nil) {
 90             J2dTraceLn(J2D_TRACE_VERBOSE, &quot;MTLLayer.blitTexture: commandBuf is null&quot;);
 91             return;
</pre>
</td>
<td>
<hr />
<pre>
 52 
 53     self.contentsGravity = kCAGravityTopLeft;
 54 
 55     //Disable CALayer&#39;s default animation
 56     NSMutableDictionary * actions = [[NSMutableDictionary alloc] initWithObjectsAndKeys:
 57                                     [NSNull null], @&quot;anchorPoint&quot;,
 58                                     [NSNull null], @&quot;bounds&quot;,
 59                                     [NSNull null], @&quot;contents&quot;,
 60                                     [NSNull null], @&quot;contentsScale&quot;,
 61                                     [NSNull null], @&quot;onOrderIn&quot;,
 62                                     [NSNull null], @&quot;onOrderOut&quot;,
 63                                     [NSNull null], @&quot;position&quot;,
 64                                     [NSNull null], @&quot;sublayers&quot;,
 65                                     nil];
 66     self.actions = actions;
 67     [actions release];
 68     self.topInset = 0;
 69     self.leftInset = 0;
 70     self.framebufferOnly = NO;
 71     self.nextDrawableCount = 0;
<span class="line-added"> 72     self.opaque = FALSE;</span>
 73     return self;
 74 }
 75 
 76 - (void) blitTexture {
 77     if (self.ctx == NULL || self.javaLayer == NULL || self.buffer == nil || self.ctx.device == nil) {
 78         J2dTraceLn4(J2D_TRACE_VERBOSE, &quot;MTLLayer.blitTexture: uninitialized (mtlc=%p, javaLayer=%p, buffer=%p, devide=%p)&quot;, self.ctx, self.javaLayer, self.buffer, ctx.device);
 79         return;
 80     }
 81 
 82     if (self.nextDrawableCount != 0)
 83         return;
 84     @autoreleasepool {
 85         if ((self.buffer.width == 0) || (self.buffer.height == 0)) {
 86             J2dTraceLn(J2D_TRACE_VERBOSE, &quot;MTLLayer.blitTexture: cannot create drawable of size 0&quot;);
 87             return;
 88         }
 89         id&lt;MTLCommandBuffer&gt; commandBuf = [self.ctx createBlitCommandBuffer];
 90         if (commandBuf == nil) {
 91             J2dTraceLn(J2D_TRACE_VERBOSE, &quot;MTLLayer.blitTexture: commandBuf is null&quot;);
 92             return;
</pre>
</td>
</tr>
</table>
<center><a href="MTLBlitLoops.m.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="MTLPaints.m.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>