<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.desktop/macosx/native/libawt_lwawt/java2d/metal/MTLTextRenderer.m</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="MTLMaskFill.m.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="MTLVertexCache.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/macosx/native/libawt_lwawt/java2d/metal/MTLTextRenderer.m</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 697         }
 698         MTLVertexCache_EnableMaskCache(mtlc, dstOps);
 699         glyphMode = MODE_NO_CACHE_GRAY;
 700     }
 701 
 702     x0 = x;
 703     tw = MTLVC_MASK_CACHE_TILE_WIDTH;
 704     th = MTLVC_MASK_CACHE_TILE_HEIGHT;
 705 
 706     for (sy = 0; sy &lt; h; sy += th, y += th) {
 707         x = x0;
 708         sh = ((sy + th) &gt; h) ? (h - sy) : th;
 709 
 710         for (sx = 0; sx &lt; w; sx += tw, x += tw) {
 711             sw = ((sx + tw) &gt; w) ? (w - sx) : tw;
 712 
 713             J2dTraceLn7(J2D_TRACE_INFO, &quot;sx = %d sy = %d x = %d y = %d sw = %d sh = %d w = %d&quot;, sx, sy, x, y, sw, sh, w);
 714             MTLVertexCache_AddMaskQuad(mtlc,
 715                                        sx, sy, x, y, sw, sh,
 716                                        w, ginfo-&gt;image,
<span class="line-modified"> 717                                        dstOps,</span>
<span class="line-removed"> 718                                        ginfo-&gt;width);</span>
 719         }
 720     }
 721 
 722     return JNI_TRUE;
 723 }
 724 
 725 
 726 static jboolean
 727 MTLTR_DrawLCDGlyphNoCache(MTLContext *mtlc, BMTLSDOps *dstOps,
 728                           GlyphInfo *ginfo, jint x, jint y,
 729                           jint rowBytesOffset,
 730                           jboolean rgbOrder, jint contrast,
 731                           id&lt;MTLTexture&gt; dstTexture)
 732 {
 733     jfloat tx1, ty1, tx2, ty2;
 734     jfloat dtx1=0, dty1=0, dtx2=0, dty2=0;
 735     jint tw, th;
 736     jint sx=0, sy=0, sw=0, sh=0, dxadj=0, dyadj=0;
 737     jint x0;
 738     jint w = ginfo-&gt;width;
</pre>
</td>
<td>
<hr />
<pre>
 697         }
 698         MTLVertexCache_EnableMaskCache(mtlc, dstOps);
 699         glyphMode = MODE_NO_CACHE_GRAY;
 700     }
 701 
 702     x0 = x;
 703     tw = MTLVC_MASK_CACHE_TILE_WIDTH;
 704     th = MTLVC_MASK_CACHE_TILE_HEIGHT;
 705 
 706     for (sy = 0; sy &lt; h; sy += th, y += th) {
 707         x = x0;
 708         sh = ((sy + th) &gt; h) ? (h - sy) : th;
 709 
 710         for (sx = 0; sx &lt; w; sx += tw, x += tw) {
 711             sw = ((sx + tw) &gt; w) ? (w - sx) : tw;
 712 
 713             J2dTraceLn7(J2D_TRACE_INFO, &quot;sx = %d sy = %d x = %d y = %d sw = %d sh = %d w = %d&quot;, sx, sy, x, y, sw, sh, w);
 714             MTLVertexCache_AddMaskQuad(mtlc,
 715                                        sx, sy, x, y, sw, sh,
 716                                        w, ginfo-&gt;image,
<span class="line-modified"> 717                                        dstOps);</span>

 718         }
 719     }
 720 
 721     return JNI_TRUE;
 722 }
 723 
 724 
 725 static jboolean
 726 MTLTR_DrawLCDGlyphNoCache(MTLContext *mtlc, BMTLSDOps *dstOps,
 727                           GlyphInfo *ginfo, jint x, jint y,
 728                           jint rowBytesOffset,
 729                           jboolean rgbOrder, jint contrast,
 730                           id&lt;MTLTexture&gt; dstTexture)
 731 {
 732     jfloat tx1, ty1, tx2, ty2;
 733     jfloat dtx1=0, dty1=0, dtx2=0, dty2=0;
 734     jint tw, th;
 735     jint sx=0, sy=0, sw=0, sh=0, dxadj=0, dyadj=0;
 736     jint x0;
 737     jint w = ginfo-&gt;width;
</pre>
</td>
</tr>
</table>
<center><a href="MTLMaskFill.m.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="MTLVertexCache.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>