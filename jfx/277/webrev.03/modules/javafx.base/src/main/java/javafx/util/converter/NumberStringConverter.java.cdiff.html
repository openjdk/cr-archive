<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.base/src/main/java/javafx/util/converter/NumberStringConverter.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="CurrencyStringConverter.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="PercentageStringConverter.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.base/src/main/java/javafx/util/converter/NumberStringConverter.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 31,50 ***</span>
  import java.text.ParseException;
  import java.util.Locale;
  import javafx.util.StringConverter;
  
  /**
<span class="line-modified">!  * &lt;p&gt;{@link StringConverter} implementation for {@link Number} values.&lt;/p&gt;</span>
   * @since JavaFX 2.1
   */
  public class NumberStringConverter extends StringConverter&lt;Number&gt; {
  
<span class="line-removed">-     // ------------------------------------------------------ Private properties</span>
<span class="line-removed">- </span>
      final Locale locale;
      final String pattern;
      final NumberFormat numberFormat;
  
<span class="line-modified">!     // ------------------------------------------------------------ Constructors</span>
      public NumberStringConverter() {
          this(Locale.getDefault());
      }
  
      public NumberStringConverter(Locale locale) {
          this(locale, null);
      }
  
      public NumberStringConverter(String pattern) {
          this(Locale.getDefault(), pattern);
      }
  
      public NumberStringConverter(Locale locale, String pattern) {
          this(locale, pattern, null);
      }
  
      public NumberStringConverter(NumberFormat numberFormat) {
          this(null, null, numberFormat);
      }
  
      NumberStringConverter(Locale locale, String pattern, NumberFormat numberFormat) {
          this.locale = locale;
          this.pattern = pattern;
          this.numberFormat = numberFormat;
      }
  
<span class="line-removed">-     // ------------------------------------------------------- Converter Methods</span>
<span class="line-removed">- </span>
      /** {@inheritDoc} */
      @Override public Number fromString(String value) {
          try {
              // If the specified value is null or zero-length, return null
              if (value == null) {
<span class="line-new-header">--- 31,74 ---</span>
  import java.text.ParseException;
  import java.util.Locale;
  import javafx.util.StringConverter;
  
  /**
<span class="line-modified">!  * A {@link StringConverter} implementation for {@link Number} values. Instances of this class are immutable.</span>
<span class="line-added">+  *</span>
   * @since JavaFX 2.1
   */
  public class NumberStringConverter extends StringConverter&lt;Number&gt; {
  
      final Locale locale;
      final String pattern;
      final NumberFormat numberFormat;
  
<span class="line-modified">!     /**</span>
<span class="line-added">+      * Constructs a {@code NumberStringConverter} with the default locale and format.</span>
<span class="line-added">+      */</span>
      public NumberStringConverter() {
          this(Locale.getDefault());
      }
  
<span class="line-added">+     /**</span>
<span class="line-added">+      * Constructs a {@code NumberStringConverter} with the given locale and the default format.</span>
<span class="line-added">+      *</span>
<span class="line-added">+      * @param locale the locale used in determining the number format used to format the string</span>
<span class="line-added">+      */</span>
      public NumberStringConverter(Locale locale) {
          this(locale, null);
      }
  
<span class="line-added">+     /**</span>
<span class="line-added">+      * Constructs a {@code NumberStringConverter} with the default locale and the given decimal format pattern.</span>
<span class="line-added">+      *</span>
<span class="line-added">+      * @param pattern the string pattern used in determining the number format used to format the string</span>
<span class="line-added">+      *</span>
<span class="line-added">+      * @see java.text.DecimalFormat</span>
<span class="line-added">+      */</span>
      public NumberStringConverter(String pattern) {
          this(Locale.getDefault(), pattern);
      }
  
<span class="line-added">+     /**</span>
<span class="line-added">+      * Constructs a {@code NumberStringConverter} with the given locale and decimal format pattern.</span>
<span class="line-added">+      *</span>
<span class="line-added">+      * @param locale the locale used in determining the number format used to format the string</span>
<span class="line-added">+      * @param pattern the string pattern used in determining the number format used to format the string</span>
<span class="line-added">+      *</span>
<span class="line-added">+      * @see java.text.DecimalFormat</span>
<span class="line-added">+      */</span>
      public NumberStringConverter(Locale locale, String pattern) {
          this(locale, pattern, null);
      }
  
<span class="line-added">+     /**</span>
<span class="line-added">+      * Constructs a {@code NumberStringConverter} with the given number format.</span>
<span class="line-added">+      *</span>
<span class="line-added">+      * @param numberFormat the number format used to format the string</span>
<span class="line-added">+      */</span>
      public NumberStringConverter(NumberFormat numberFormat) {
          this(null, null, numberFormat);
      }
  
      NumberStringConverter(Locale locale, String pattern, NumberFormat numberFormat) {
          this.locale = locale;
          this.pattern = pattern;
          this.numberFormat = numberFormat;
      }
  
      /** {@inheritDoc} */
      @Override public Number fromString(String value) {
          try {
              // If the specified value is null or zero-length, return null
              if (value == null) {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 110,15 ***</span>
          // Perform the requested formatting
          return formatter.format(value);
      }
  
      /**
<span class="line-modified">!      * &lt;p&gt;Return a &lt;code&gt;NumberFormat&lt;/code&gt; instance to use for formatting</span>
<span class="line-modified">!      * and parsing in this {@link StringConverter}.&lt;/p&gt;</span>
       *
       * @return a {@code NumberFormat} instance for formatting and parsing in this
<span class="line-modified">!      * {@link StringConverter}</span>
       */
      protected NumberFormat getNumberFormat() {
          Locale _locale = locale == null ? Locale.getDefault() : locale;
  
          if (numberFormat != null) {
<span class="line-new-header">--- 134,15 ---</span>
          // Perform the requested formatting
          return formatter.format(value);
      }
  
      /**
<span class="line-modified">!      * Returns a {@code NumberFormat} instance to use for formatting</span>
<span class="line-modified">!      * and parsing in this {@code StringConverter}.</span>
       *
       * @return a {@code NumberFormat} instance for formatting and parsing in this
<span class="line-modified">!      * {@code StringConverter}</span>
       */
      protected NumberFormat getNumberFormat() {
          Locale _locale = locale == null ? Locale.getDefault() : locale;
  
          if (numberFormat != null) {
</pre>
<center><a href="CurrencyStringConverter.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="PercentageStringConverter.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>