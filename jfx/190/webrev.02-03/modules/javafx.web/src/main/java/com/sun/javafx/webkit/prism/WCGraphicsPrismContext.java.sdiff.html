<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/java/com/sun/javafx/webkit/prism/WCGraphicsPrismContext.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>modules/javafx.web/src/main/java/com/sun/javafx/webkit/prism/WCGraphicsPrismContext.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 770         {
 771             return;
 772         }
 773         if (texture != null) {
 774             new Composite() {
 775                 @Override void doPaint(Graphics g) {
 776                     Image img = ((PrismImage)texture).getImage();
 777 
 778                     // Create subImage only if srcRect doesn&#39;t fit the texture bounds. See RT-20193.
 779                     if (!srcRect.contains(new WCRectangle(0, 0, texture.getWidth(), texture.getHeight()))) {
 780 
 781                         img = img.createSubImage(srcRect.getIntX(),
 782                                                  srcRect.getIntY(),
 783                                                  (int)Math.ceil(srcRect.getWidth()),
 784                                                  (int)Math.ceil(srcRect.getHeight()));
 785                     }
 786 
 787                     double m[] = patternTransform.getMatrix();
 788                     Affine3D at = new Affine3D();
 789                     at.translate(phase.getX(), phase.getY());
<span class="line-modified"> 790                     at.concatenate(m[0], m[1], m[4], m[2], m[3], m[5]);</span>
 791 
 792                     g.setPaint(new ImagePattern(
 793                                img,
 794                                srcRect.getX(), srcRect.getY(),
 795                                srcRect.getWidth(), srcRect.getHeight(),
 796                                at, false, false));
 797 
 798                     g.fillRect(destRect.getX(), destRect.getY(),
 799                                destRect.getWidth(), destRect.getHeight());
 800                 }
 801             }.paint();
 802         }
 803     }
 804 
 805     @Override
 806     public void drawImage(final WCImage img,
 807                           final float dstx, final float dsty, final float dstw, final float dsth,
 808                           final float srcx, final float srcy, final float srcw, final float srch)
 809     {
 810         if (log.isLoggable(Level.FINE)){
</pre>
</td>
<td>
<hr />
<pre>
 770         {
 771             return;
 772         }
 773         if (texture != null) {
 774             new Composite() {
 775                 @Override void doPaint(Graphics g) {
 776                     Image img = ((PrismImage)texture).getImage();
 777 
 778                     // Create subImage only if srcRect doesn&#39;t fit the texture bounds. See RT-20193.
 779                     if (!srcRect.contains(new WCRectangle(0, 0, texture.getWidth(), texture.getHeight()))) {
 780 
 781                         img = img.createSubImage(srcRect.getIntX(),
 782                                                  srcRect.getIntY(),
 783                                                  (int)Math.ceil(srcRect.getWidth()),
 784                                                  (int)Math.ceil(srcRect.getHeight()));
 785                     }
 786 
 787                     double m[] = patternTransform.getMatrix();
 788                     Affine3D at = new Affine3D();
 789                     at.translate(phase.getX(), phase.getY());
<span class="line-modified"> 790                     at.concatenate(m[0], -m[1], m[4], -m[2], m[3], m[5]);</span>
 791 
 792                     g.setPaint(new ImagePattern(
 793                                img,
 794                                srcRect.getX(), srcRect.getY(),
 795                                srcRect.getWidth(), srcRect.getHeight(),
 796                                at, false, false));
 797 
 798                     g.fillRect(destRect.getX(), destRect.getY(),
 799                                destRect.getWidth(), destRect.getHeight());
 800                 }
 801             }.paint();
 802         }
 803     }
 804 
 805     @Override
 806     public void drawImage(final WCImage img,
 807                           final float dstx, final float dsty, final float dstw, final float dsth,
 808                           final float srcx, final float srcy, final float srcw, final float srch)
 809     {
 810         if (log.isLoggable(Level.FINE)){
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>