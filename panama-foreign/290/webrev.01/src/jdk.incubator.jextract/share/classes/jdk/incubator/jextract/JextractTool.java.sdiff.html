<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.incubator.jextract/share/classes/jdk/incubator/jextract/JextractTool.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../index.html" target="_top">index</a> <a href="../../internal/clang/Cursor.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.incubator.jextract/share/classes/jdk/incubator/jextract/JextractTool.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
251 
252             List&lt;JavaFileObject&gt; files = generate(
253                 toplevel, header.getFileName().toString(), options.source,
254                 options.targetPackage, options.libraryNames);
255 
256             write(output, !options.source, files);
257         } catch (RuntimeException re) {
258             err.println(re);
259             if (JextractTool.DEBUG) {
260                 re.printStackTrace(err);
261             }
262             return RUNTIME_ERROR;
263         }
264         return SUCCESS;
265     }
266 
267     /**
268      * ToolProvider implementation for jextract tool.
269      */
270     public static class JextractToolProvider implements ToolProvider {


271         @Override
272         public String name() {
273             return &quot;jextract&quot;;
274         }
275 
276         @Override
277         public int run(PrintWriter out, PrintWriter err, String... args) {
278             // defensive check to throw security exception early.
279             // Note that the successful run of jextract under security
280             // manager would require far more permissions like loading
281             // library (clang), file system access etc.
282             if (System.getSecurityManager() != null) {
283                 System.getSecurityManager().
284                     checkPermission(new RuntimePermission(&quot;jextract&quot;));
285             }
286 
287             JextractTool instance = new JextractTool(out, err);
288             return instance.run(args);
289         }
290     }
</pre>
</td>
<td>
<hr />
<pre>
251 
252             List&lt;JavaFileObject&gt; files = generate(
253                 toplevel, header.getFileName().toString(), options.source,
254                 options.targetPackage, options.libraryNames);
255 
256             write(output, !options.source, files);
257         } catch (RuntimeException re) {
258             err.println(re);
259             if (JextractTool.DEBUG) {
260                 re.printStackTrace(err);
261             }
262             return RUNTIME_ERROR;
263         }
264         return SUCCESS;
265     }
266 
267     /**
268      * ToolProvider implementation for jextract tool.
269      */
270     public static class JextractToolProvider implements ToolProvider {
<span class="line-added">271         public JextractToolProvider() {}</span>
<span class="line-added">272 </span>
273         @Override
274         public String name() {
275             return &quot;jextract&quot;;
276         }
277 
278         @Override
279         public int run(PrintWriter out, PrintWriter err, String... args) {
280             // defensive check to throw security exception early.
281             // Note that the successful run of jextract under security
282             // manager would require far more permissions like loading
283             // library (clang), file system access etc.
284             if (System.getSecurityManager() != null) {
285                 System.getSecurityManager().
286                     checkPermission(new RuntimePermission(&quot;jextract&quot;));
287             }
288 
289             JextractTool instance = new JextractTool(out, err);
290             return instance.run(args);
291         }
292     }
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../../../../../index.html" target="_top">index</a> <a href="../../internal/clang/Cursor.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>