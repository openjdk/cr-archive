<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff doc/panama_jextract.md</title>
    <link rel="stylesheet" href="../style.css" />
  </head>
<body>
<center><a href="panama_jextract.html.sdiff.html" target="_top">&lt; prev</a> <a href="../index.html" target="_top">index</a> next &gt;</center>    <h2>doc/panama_jextract.md</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
740             glutDisplayFunc(displayStub);
741             glutIdleFunc(idleStub);
742             glutMainLoop();
743         }
744     }
745 }
746 
747 ```
748 
749 ### Compiling and running the OpenGL sample
750 
751 ```sh
752 
753 java -XstartOnFirstThread -Dforeign.restricted=permit --add-modules jdk.incubator.foreign \
754     -Djava.library.path=.:/System/Library/Frameworks/OpenGL.framework/Versions/Current/Libraries/ Teapot.java $*
755 
756 ```
757 
758 ## Using time.h (Mac OS)
759 
<span class="line-modified">760 ### jextract sqlite3.h</span>
761 
762 
763 ```sh
764 
765 jextract -t org.unix \
766   -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include \
767    /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/time.h
768 
769 ```
770 
771 ### Java program that uses POSIX time library
772 
773 ```java
774 
775 import static org.unix.time_h.*;
776 import static jdk.incubator.foreign.CSupport.*;
777 import jdk.incubator.foreign.*;
778 
779 public class PanamaTime {
780     public static void main(String[] args) {
781         try (NativeScope scope = NativeScope.unboundedScope()) {
782             var now = scope.allocate(C_LONG, System.currentTimeMillis() / 1000);
783             MemorySegment time = tm.allocate(scope);
784             localtime_r(now, time);
785             System.err.printf(&quot;Time = %d:%d\n&quot;, tm.tm_hour$get(time), tm.tm_min$get(time));
786         }
787     }
788 }
789 
790 ```
791 
<span class="line-modified">792 ### Compiling and running the OpenGL sample</span>
793 
794 
795 ```sh
796 
797 java -Dforeign.restricted=permit --add-modules jdk.incubator.foreign PanamaTime.java
798 
799 ```
800 
801 ## Using libclang library (Mac OS)
802 
803 ### jextract Index.h
804 
805 ```sh
806 
807 # LIBCLANG_HOME is the directory where you&#39;ve installed llvm 9.x or above
808 
809 jextract --source -t org.llvm.clang -lclang \
810   -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/ \
811   -I ${LIBCLANG_HOME}/include/ \
812   -I ${LIBCLANG_HOME}/include/clang-c \
</pre>
</td>
<td>
<hr />
<pre>
740             glutDisplayFunc(displayStub);
741             glutIdleFunc(idleStub);
742             glutMainLoop();
743         }
744     }
745 }
746 
747 ```
748 
749 ### Compiling and running the OpenGL sample
750 
751 ```sh
752 
753 java -XstartOnFirstThread -Dforeign.restricted=permit --add-modules jdk.incubator.foreign \
754     -Djava.library.path=.:/System/Library/Frameworks/OpenGL.framework/Versions/Current/Libraries/ Teapot.java $*
755 
756 ```
757 
758 ## Using time.h (Mac OS)
759 
<span class="line-modified">760 ### jextract time.h</span>
761 
762 
763 ```sh
764 
765 jextract -t org.unix \
766   -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include \
767    /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/time.h
768 
769 ```
770 
771 ### Java program that uses POSIX time library
772 
773 ```java
774 
775 import static org.unix.time_h.*;
776 import static jdk.incubator.foreign.CSupport.*;
777 import jdk.incubator.foreign.*;
778 
779 public class PanamaTime {
780     public static void main(String[] args) {
781         try (NativeScope scope = NativeScope.unboundedScope()) {
782             var now = scope.allocate(C_LONG, System.currentTimeMillis() / 1000);
783             MemorySegment time = tm.allocate(scope);
784             localtime_r(now, time);
785             System.err.printf(&quot;Time = %d:%d\n&quot;, tm.tm_hour$get(time), tm.tm_min$get(time));
786         }
787     }
788 }
789 
790 ```
791 
<span class="line-modified">792 ### Compiling and running the time sample</span>
793 
794 
795 ```sh
796 
797 java -Dforeign.restricted=permit --add-modules jdk.incubator.foreign PanamaTime.java
798 
799 ```
800 
801 ## Using libclang library (Mac OS)
802 
803 ### jextract Index.h
804 
805 ```sh
806 
807 # LIBCLANG_HOME is the directory where you&#39;ve installed llvm 9.x or above
808 
809 jextract --source -t org.llvm.clang -lclang \
810   -I /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/ \
811   -I ${LIBCLANG_HOME}/include/ \
812   -I ${LIBCLANG_HOME}/include/clang-c \
</pre>
</td>
</tr>
</table>
<center><a href="panama_jextract.html.sdiff.html" target="_top">&lt; prev</a> <a href="../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>