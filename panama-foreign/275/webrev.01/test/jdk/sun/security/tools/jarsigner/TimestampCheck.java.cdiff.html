<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff test/jdk/sun/security/tools/jarsigner/TimestampCheck.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="../../lib/cacerts/VerifyCACerts.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="../../../../../langtools/jdk/javadoc/doclet/testIndentation/TestIndentation.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>test/jdk/sun/security/tools/jarsigner/TimestampCheck.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 55,11 ***</span>
  import sun.security.pkcs.SignerInfo;
  import sun.security.timestamp.TimestampToken;
  
  /*
   * @test
<span class="line-modified">!  * @bug 6543842 6543440 6939248 8009636 8024302 8163304 8169911 8180289 8172404</span>
   * @summary checking response of timestamp
   * @modules java.base/sun.security.pkcs
   *          java.base/sun.security.timestamp
   *          java.base/sun.security.x509
   *          java.base/sun.security.util
<span class="line-new-header">--- 55,11 ---</span>
  import sun.security.pkcs.SignerInfo;
  import sun.security.timestamp.TimestampToken;
  
  /*
   * @test
<span class="line-modified">!  * @bug 6543842 6543440 6939248 8009636 8024302 8163304 8169911 8180289 8172404 8247960</span>
   * @summary checking response of timestamp
   * @modules java.base/sun.security.pkcs
   *          java.base/sun.security.timestamp
   *          java.base/sun.security.x509
   *          java.base/sun.security.util
</pre>
<hr />
<pre>
<span class="line-old-header">*** 291,27 ***</span>
  
                  // Legacy algorithms
                  signVerbose(null, &quot;unsigned.jar&quot;, &quot;sha1alg.jar&quot;, &quot;signer&quot;,
                          &quot;-strict&quot;, &quot;-digestalg&quot;, &quot;SHA-1&quot;)
                          .shouldHaveExitValue(0)
<span class="line-modified">!                         .shouldContain(&quot;jar signed, with signer errors&quot;)</span>
                          .shouldMatch(&quot;SHA-1.*-digestalg.*will be disabled&quot;);
                  verify(&quot;sha1alg.jar&quot;, &quot;-strict&quot;)
                          .shouldHaveExitValue(0)
<span class="line-modified">!                         .shouldContain(&quot;jar verified, with signer errors&quot;)</span>
                          .shouldContain(&quot;SHA-1 digest algorithm is considered a security risk&quot;)
                          .shouldContain(&quot;This algorithm will be disabled in a future update&quot;)
                          .shouldNotContain(&quot;is disabled&quot;);
  
                  sign(&quot;sha1tsaalg&quot;, &quot;-tsadigestalg&quot;, &quot;SHA-1&quot;, &quot;-strict&quot;)
                          .shouldHaveExitValue(0)
<span class="line-modified">!                         .shouldContain(&quot;jar signed, with signer errors&quot;)</span>
                          .shouldMatch(&quot;SHA-1.*-tsadigestalg.*will be disabled&quot;)
                          .shouldNotContain(&quot;is disabled&quot;);
                  verify(&quot;sha1tsaalg.jar&quot;, &quot;-strict&quot;)
                          .shouldHaveExitValue(0)
<span class="line-modified">!                         .shouldContain(&quot;jar verified, with signer errors&quot;)</span>
                          .shouldContain(&quot;SHA-1 timestamp digest algorithm is considered a security risk&quot;)
                          .shouldNotContain(&quot;is disabled&quot;);
  
                  // Disabled algorithms
                  sign(&quot;tsdisabled&quot;, &quot;-digestalg&quot;, &quot;MD5&quot;,
<span class="line-new-header">--- 291,31 ---</span>
  
                  // Legacy algorithms
                  signVerbose(null, &quot;unsigned.jar&quot;, &quot;sha1alg.jar&quot;, &quot;signer&quot;,
                          &quot;-strict&quot;, &quot;-digestalg&quot;, &quot;SHA-1&quot;)
                          .shouldHaveExitValue(0)
<span class="line-modified">!                         .shouldContain(&quot;jar signed&quot;)</span>
<span class="line-added">+                         .shouldNotContain(&quot;with signer errors&quot;)</span>
                          .shouldMatch(&quot;SHA-1.*-digestalg.*will be disabled&quot;);
                  verify(&quot;sha1alg.jar&quot;, &quot;-strict&quot;)
                          .shouldHaveExitValue(0)
<span class="line-modified">!                         .shouldContain(&quot;jar verified&quot;)</span>
<span class="line-added">+                         .shouldNotContain(&quot;with signer errors&quot;)</span>
                          .shouldContain(&quot;SHA-1 digest algorithm is considered a security risk&quot;)
                          .shouldContain(&quot;This algorithm will be disabled in a future update&quot;)
                          .shouldNotContain(&quot;is disabled&quot;);
  
                  sign(&quot;sha1tsaalg&quot;, &quot;-tsadigestalg&quot;, &quot;SHA-1&quot;, &quot;-strict&quot;)
                          .shouldHaveExitValue(0)
<span class="line-modified">!                         .shouldContain(&quot;jar signed&quot;)</span>
<span class="line-added">+                         .shouldNotContain(&quot;with signer errors&quot;)</span>
                          .shouldMatch(&quot;SHA-1.*-tsadigestalg.*will be disabled&quot;)
                          .shouldNotContain(&quot;is disabled&quot;);
                  verify(&quot;sha1tsaalg.jar&quot;, &quot;-strict&quot;)
                          .shouldHaveExitValue(0)
<span class="line-modified">!                         .shouldContain(&quot;jar verified&quot;)</span>
<span class="line-added">+                         .shouldNotContain(&quot;with signer errors&quot;)</span>
                          .shouldContain(&quot;SHA-1 timestamp digest algorithm is considered a security risk&quot;)
                          .shouldNotContain(&quot;is disabled&quot;);
  
                  // Disabled algorithms
                  sign(&quot;tsdisabled&quot;, &quot;-digestalg&quot;, &quot;MD5&quot;,
</pre>
<center><a href="../../lib/cacerts/VerifyCACerts.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="../../../../../langtools/jdk/javadoc/doclet/testIndentation/TestIndentation.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>