<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames src/java.rmi/share/man/rmid.1</title>
    <link rel="stylesheet" href="../../../../style.css" />
    <script type="text/javascript" src="../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre><a name="1" id="anc1"></a><span class="line-modified">  1 .\&quot; Copyright (c) 1998, 2020, Oracle and/or its affiliates. All rights reserved.</span>
  2 .\&quot; DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  3 .\&quot;
  4 .\&quot; This code is free software; you can redistribute it and/or modify it
  5 .\&quot; under the terms of the GNU General Public License version 2 only, as
  6 .\&quot; published by the Free Software Foundation.
  7 .\&quot;
  8 .\&quot; This code is distributed in the hope that it will be useful, but WITHOUT
  9 .\&quot; ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 10 .\&quot; FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License
 11 .\&quot; version 2 for more details (a copy is included in the LICENSE file that
 12 .\&quot; accompanied this code).
 13 .\&quot;
 14 .\&quot; You should have received a copy of the GNU General Public License version
 15 .\&quot; 2 along with this work; if not, write to the Free Software Foundation,
 16 .\&quot; Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 17 .\&quot;
 18 .\&quot; Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 19 .\&quot; or visit www.oracle.com if you need additional information or have any
 20 .\&quot; questions.
 21 .\&quot;
 22 .\&quot; Automatically generated by Pandoc 2.3.1
 23 .\&quot;
<a name="2" id="anc2"></a><span class="line-modified"> 24 .TH &quot;RMID&quot; &quot;1&quot; &quot;2020&quot; &quot;JDK 15&quot; &quot;JDK Commands&quot;</span>
 25 .hy
 26 .SH NAME
 27 .PP
 28 rmid \- start the activation system daemon that enables objects to be
 29 registered and activated in a Java Virtual Machine (JVM)
 30 .SH SYNOPSIS
 31 .PP
 32 \f[CB]rmid\f[R] [\f[I]options\f[R]]
 33 .TP
 34 .B \f[I]options\f[R]
 35 This represent the command\-line options for the \f[CB]rmid\f[R] command.
 36 See \f[B]Options for rmid\f[R].
 37 .RS
 38 .RE
 39 .SH DESCRIPTION
 40 .PP
<a name="3" id="anc3"></a><span class="line-added"> 41 \f[B]Deprecation Notice:\f[R] The rmid tool and the RMI Activation</span>
<span class="line-added"> 42 mechanism have been deprecated and may be removed from a future version</span>
<span class="line-added"> 43 of the platform.</span>
<span class="line-added"> 44 See \f[B]JEP 385\f[R] [https://openjdk.java.net/jeps/385] for further</span>
<span class="line-added"> 45 information.</span>
<span class="line-added"> 46 .PP</span>
 47 The \f[CB]rmid\f[R] command starts the activation system daemon.
 48 The activation system daemon must be started before objects that can be
 49 activated are either registered with the activation system or activated
 50 in a JVM.
 51 .PP
 52 Start the daemon by executing the \f[CB]rmid\f[R] command and specifying a
 53 security policy file, as follows:
 54 .RS
 55 .PP
 56 \f[CB]rmid\ \-J\-Djava.security.policy=rmid.policy\f[R]
 57 .RE
 58 .PP
 59 When you run Oracle\[aq]s implementation of the \f[CB]rmid\f[R] command,
 60 by default you must specify a security policy file so that the
 61 \f[CB]rmid\f[R] command can verify whether or not the information in each
 62 \f[CB]ActivationGroupDesc\f[R] is allowed to be used to start a JVM for an
 63 activation group.
 64 Specifically, the command and options specified by the
 65 \f[CB]CommandEnvironment\f[R] and any properties passed to an
 66 \f[CB]ActivationGroupDesc\f[R] constructor must now be explicitly allowed
 67 in the security policy file for the \f[CB]rmid\f[R] command.
 68 The value of the \f[CB]sun.rmi.activation.execPolicy\f[R] property
 69 dictates the policy that the \f[CB]rmid\f[R] command uses to determine
 70 whether or not the information in an \f[CB]ActivationGroupDesc\f[R] can be
 71 used to start a JVM for an activation group.
 72 For more information see the description of the
 73 \f[CB]\-J\-Dsun.rmi.activation.execPolicy=policy\f[R] option.
 74 .PP
 75 Executing the \f[CB]rmid\f[R] command starts the \f[CB]Activator\f[R] and an
 76 internal registry on the default port 1098 and binds an
 77 \f[CB]ActivationSystem\f[R] to the name
 78 \f[CB]java.rmi.activation.ActivationSystem\f[R] in this internal registry.
 79 .PP
 80 To specify an alternate port for the registry, you must specify the
 81 \f[CB]\-port\f[R] option when you execute the \f[CB]rmid\f[R] command.
 82 For example, the following command starts the activation system daemon
 83 and a registry on the registry\[aq]s default port, 1099.
 84 .RS
 85 .PP
 86 \f[CB]rmid\ \-J\-Djava.security.policy=rmid.policy\ \-port\ 1099\f[R]
 87 .RE
<a name="4" id="anc4"></a><span class="line-modified"> 88 .SH START RMID ON DEMAND (LINUX ONLY)</span>
 89 .PP
 90 An alternative to starting \f[CB]rmid\f[R] from the command line is to
<a name="5" id="anc5"></a><span class="line-modified"> 91 configure \f[CB]xinetd\f[R] (Linux) to start \f[CB]rmid\f[R] on demand.</span>

 92 .PP
 93 When RMID starts, it attempts to obtain an inherited channel (inherited
 94 from \f[CB]inetd\f[R]/\f[CB]xinetd\f[R]) by calling the
 95 \f[CB]System.inheritedChannel\f[R] method.
 96 If the inherited channel is null or not an instance of
 97 \f[CB]java.nio.channels.ServerSocketChannel\f[R], then RMID assumes that
 98 it wasn\[aq]t started by \f[CB]inetd\f[R]/\f[CB]xinetd\f[R], and it starts
 99 as previously described.
100 .PP
101 If the inherited channel is a \f[CB]ServerSocketChannel\f[R] instance,
102 then RMID uses the \f[CB]java.net.ServerSocket\f[R] obtained from the
103 \f[CB]ServerSocketChannel\f[R] as the server socket that accepts requests
104 for the remote objects it exports: The registry in which the
105 \f[CB]java.rmi.activation.ActivationSystem\f[R] is bound and the
106 \f[CB]java.rmi.activation.Activator\f[R] remote object.
107 In this mode, RMID behaves the same as when it is started from the
108 command line, except in the following cases:
109 .IP \[bu] 2
110 Output printed to \f[CB]System.err\f[R] is redirected to a file.
111 This file is located in the directory specified by the
112 \f[CB]java.io.tmpdir\f[R] system property (typically \f[CB]/var/tmp\f[R] or
113 \f[CB]/tmp\f[R]) with the prefix \f[CB]rmid\-err\f[R] and the suffix
114 \f[CB]tmp\f[R].
115 .IP \[bu] 2
116 The \f[CB]\-port\f[R] option isn\[aq]t allowed.
117 If this option is specified, then RMID exits with an error message.
118 .IP \[bu] 2
119 The \f[CB]\-log\f[R] option is required.
120 If this option isn\[aq]t specified, then RMID exits with an error
121 message
122 .SH OPTIONS FOR RMID
123 .TP
124 .B \f[CB]\-C\f[R]\f[I]option\f[R]
125 Specifies an option that\[aq]s passed as a command\-line argument to
126 each child process (activation group) of the \f[CB]rmid\f[R] command when
127 that process is created.
128 For example, you could pass a property to each virtual machine spawned
129 by the activation system daemon:
130 .RS
131 .RS
132 .PP
133 \f[CB]rmid\ \-C\-Dsome.property=value\f[R]
134 .RE
135 .PP
136 This ability to pass command\-line arguments to child processes can be
137 useful for debugging.
138 For example, the following command enables server\-call logging in all
139 child JVMs.
140 .RS
141 .PP
142 \f[CB]rmid\ \-C\-Djava.rmi.server.logCalls=true\f[R]
143 .RE
144 .RE
145 .TP
146 .B \f[CB]\-J\f[R]\f[I]option\f[R]
147 Specifies an option that\[aq]s passed to the Java interpreter running
148 RMID command.
149 For example, to specify that the \f[CB]rmid\f[R] command use a policy file
150 named \f[CB]rmid.policy\f[R], the \f[CB]\-J\f[R] option can be used to
151 define the \f[CB]java.security.policy\f[R] property on the \f[CB]rmid\f[R]
152 command line, for example:
153 .RS
154 .RS
155 .PP
156 \f[CB]rmid\ \-J\-Djava.security.policy\-rmid.policy\f[R]
157 .RE
158 .RE
159 .TP
160 .B \f[CB]\-J\-Dsun.rmi.activation.execPolicy=\f[R]\f[I]policy\f[R]
161 Specifies the policy that the RMID command employs to check commands and
162 command\-line options used to start the JVM in which an activation group
163 runs.
164 This option exists only in Oracle\[aq]s implementation of the Java RMI
165 activation daemon.
166 If this property isn\[aq]t specified on the command line, then the
167 result is the same as though
168 \f[CB]\-J\-Dsun.rmi.activation.execPolicy=default\f[R] were specified.
169 .RS
170 .PP
171 The possible values of \f[I]policy\f[R] can be \f[CB]default\f[R],
172 \f[I]policyClassName\f[R], or \f[CB]none\f[R].
173 .IP \[bu] 2
174 \f[CB]default\f[R]
175 .RS 2
176 .PP
177 The \f[CB]default\f[R] or unspecified value \f[CB]execPolicy\f[R] allows the
178 \f[CB]rmid\f[R] command to execute commands with specific command\-line
179 options only when the \f[CB]rmid\f[R] command was granted permission to
180 execute those commands and options in the security policy file that the
181 \f[CB]rmid\f[R] command uses.
182 Only the default activation group implementation can be used with the
183 default execution policy.
184 .PP
185 The \f[CB]rmid\f[R] command starts a JVM for an activation group with the
186 information in the group\[aq]s registered activation group descriptor,
187 \f[CB]ActivationGroupDesc\f[R].
188 The group descriptor specifies an optional
189 \f[CB]ActivationGroupDesc.CommandEnvironment\f[R] that includes the
190 command to execute to start the activation group and any command\-line
191 options to be added to the command line.
192 By default, the \f[CB]rmid\f[R] command uses the \f[CB]java\f[R] command
193 found in \f[CB]java.home\f[R].
194 The group descriptor also contains properties overrides that are added
195 to the command line as options defined as:
196 \f[CB]\-D\f[R]\f[I]property\f[R]\f[CB]=\f[R]\f[I]value\f[R].
197 The \f[CB]com.sun.rmi.rmid.ExecPermission\f[R] permission grants the
198 \f[CB]rmid\f[R] command permission to execute a command that\[aq]s
199 specified in the group descriptor\[aq]s \f[CB]CommandEnvironment\f[R] to
200 start an activation group.
201 The \f[CB]com.sun.rmi.rmid.ExecOptionPermission\f[R] permission enables
202 the \f[CB]rmid\f[R] command to use command\-line options, specified as
203 properties overrides in the group descriptor or as options in the
204 \f[CB]CommandEnvironment\f[R] when starting the activation group.
205 When granting the \f[CB]rmid\f[R] command permission to execute various
206 commands and options, the permissions \f[CB]ExecPermission\f[R] and
207 \f[CB]ExecOptionPermission\f[R] must be granted to all code sources.
208 .PP
209 \f[CB]ExecPermission\f[R] class: Represents permission for the
210 \f[CB]rmid\f[R] command to execute a specific command to start an
211 activation group.
212 .PP
213 \f[CB]ExecPermission\f[R] syntax: The name of \f[CB]ExecPermission\f[R] is
214 the path name of a command to grant the \f[CB]rmid\f[R] command permission
215 to execute.
216 .PP
217 A path name that ends in a slash (\f[CB]/\f[R]) and an asterisk
218 (\f[CB]*\f[R]) indicates that all of the files are contained in that
219 directory where the slash is the file\-separator character,
220 \f[CB]File.separatorChar\f[R].
221 .PP
222 A path name that ends in a slash (\f[CB]/\f[R]) and a minus sign
223 (\f[CB]\-\f[R]) indicates that all files and subdirectories are contained
224 in that directory (recursively).
225 .PP
226 A path name that consists of the special token \f[CB]&lt;&lt;ALL\ FILES&gt;&gt;\f[R]
227 matches any file.
228 .PP
229 A path name that consists of an asterisk (\f[CB]*\f[R]) indicates that all
230 the files are in the current directory.
231 .PP
232 A path name that consists of a minus sign (\f[CB]\-\f[R]) indicates that
233 all the files are in the current directory and (recursively) all files
234 and subdirectories are contained in the current directory.
235 .PP
236 \f[CB]ExecOptionPermission\f[R] class: Represents permission for the
237 \f[CB]rmid\f[R] command to use a specific command\-line option when
238 starting an activation group.
239 The name of \f[CB]ExecOptionPermission\f[R] is the value of a
240 command\-line option.
241 .PP
242 \f[CB]ExecOptionPermission\f[R] syntax: Options support a limited wild
243 card scheme.
244 An asterisk signifies a wild card match, and it can appear as the option
245 name itself (matches any option), or an asterisk (*) can appear at the
246 end of the option name only when the asterisk (\f[CB]*\f[R]) follows a dot
247 (\f[CB]\&amp;.\f[R]) or an equals sign (\f[CB]=\f[R]).
248 .PP
249 For example: \f[CB]*\f[R] or \f[CB]\-Dmydir.*\f[R] or \f[CB]\-Da.b.c=*\f[R] is
250 valid, but \f[CB]*mydir\f[R] or \f[CB]\-Da*b\f[R] or \f[CB]ab*\f[R] isn\[aq]t
251 valid.
252 .PP
253 \f[B]Policy file for rmid\f[R]
254 .PP
255 When you grant the \f[CB]rmid\f[R] command permission to execute various
256 commands and options, the permissions \f[CB]ExecPermission\f[R] and
257 \f[CB]ExecOptionPermission\f[R] must be granted to all code sources
258 (universally).
259 It is safe to grant these permissions universally because only the
260 \f[CB]rmid\f[R] command checks these permissions.
261 .PP
262 An example policy file that grants various execute permissions to the
263 \f[CB]rmid\f[R] command is:
264 .IP \[bu] 2
<a name="6" id="anc6"></a><span class="line-modified">265 \f[B]Linux:\f[R]</span>
266 .RS 2
267 .IP
268 .nf
269 \f[CB]
270 grant\ {
271 \ \ \ \ permission\ com.sun.rmi.rmid.ExecPermission
<a name="7" id="anc7"></a><span class="line-modified">272 \ \ \ \ \ \ \ \ &quot;/files/apps/java/jdk1.7.0/linux/bin/java&quot;;</span>
273 
274 \ \ \ \ permission\ com.sun.rmi.rmid.ExecPermission
275 \ \ \ \ \ \ \ \ &quot;/files/apps/rmidcmds/*&quot;;
276 
277 \ \ \ \ permission\ com.sun.rmi.rmid.ExecOptionPermission
278 \ \ \ \ \ \ \ \ &quot;\-Djava.security.policy=/files/policies/group.policy&quot;;
279 
280 \ \ \ \ permission\ com.sun.rmi.rmid.ExecOptionPermission
281 \ \ \ \ \ \ \ \ &quot;\-Djava.security.debug=*&quot;;
282 
283 \ \ \ \ permission\ com.sun.rmi.rmid.ExecOptionPermission
284 \ \ \ \ \ \ \ \ &quot;\-Dsun.rmi.*&quot;;
285 };
286 \f[R]
287 .fi
288 .RE
289 .IP \[bu] 2
290 \f[B]Windows:\f[R]
291 .RS 2
292 .IP
293 .nf
294 \f[CB]
295 grant\ {
296 \ \ \ \ permission\ com.sun.rmi.rmid.ExecPermission
297 \ \ \ \ \ \ \ \ &quot;c:\\\\files\\\\apps\\\\java\\\\jdk1.7.0\\\\win\\\\bin\\\\java&quot;;
298 
299 \ \ \ \ permission\ com.sun.rmi.rmid.ExecPermission
300 \ \ \ \ \ \ \ \ &quot;c:\\\\files\\\\apps\\\\rmidcmds\\\\*&quot;;
301 
302 \ \ \ \ permission\ com.sun.rmi.rmid.ExecOptionPermission
303 \ \ \ \ \ \ \ \ &quot;\-Djava.security.policy=c:\\\\files\\\\policies\\\\group.policy&quot;;
304 
305 \ \ \ \ permission\ com.sun.rmi.rmid.ExecOptionPermission
306 \ \ \ \ \ \ \ \ &quot;\-Djava.security.debug=*&quot;;
307 
308 \ \ \ \ permission\ com.sun.rmi.rmid.ExecOptionPermission
309 \ \ \ \ \ \ \ \ &quot;\-Dsun.rmi.*&quot;;
310 };
311 \f[R]
312 .fi
313 .RE
314 .PP
315 The first permission granted allows the \f[CB]rmid\f[R] command to execute
316 the 1.7.0 release of the \f[CB]java\f[R] command, specified by its
317 explicit path name.
318 By default, the version of the \f[CB]java\f[R] command found in
319 \f[CB]java.home\f[R] is used (the same one that the \f[CB]rmid\f[R] command
320 uses), and doesn\[aq]t need to be specified in the policy file.
321 The second permission allows the \f[CB]rmid\f[R] command to execute any
<a name="8" id="anc8"></a><span class="line-modified">322 command in either the directory \f[CB]/files/apps/rmidcmds\f[R] (Linux and</span>
<span class="line-modified">323 macOS) or the directory \f[CB]c:\\files\\apps\\rmidcmds\\\f[R] (Windows).</span>

324 .PP
325 The third permission granted, \f[CB]ExecOptionPermission\f[R], allows the
326 \f[CB]rmid\f[R] command to start an activation group that defines the
327 security policy file to be either \f[CB]/files/policies/group.policy\f[R]
<a name="9" id="anc9"></a><span class="line-modified">328 (Linux) or \f[CB]c:\\files\\policies\\group.policy\f[R] (Windows).</span>

329 The next permission allows the \f[CB]java.security.debug\ property\f[R] to
330 be used by an activation group.
331 The last permission allows any property in the
332 \f[CB]sun.rmi\ property\f[R] name hierarchy to be used by activation
333 groups.
334 .PP
335 To start the \f[CB]rmid\f[R] command with a policy file, the
336 \f[CB]java.security.policy\f[R] property needs to be specified on the
337 \f[CB]rmid\f[R] command line, for example:
338 .PP
339 \f[CB]rmid\ \-J\-Djava.security.policy=rmid.policy\f[R].
340 .RE
341 .IP \[bu] 2
342 \f[I]policyClassName\f[R]
343 .RS 2
344 .PP
345 If the default behavior isn\[aq]t flexible enough, then an administrator
346 can provide, when starting the \f[CB]rmid\f[R] command, the name of a
347 class whose \f[CB]checkExecCommand\f[R] method is executed to check
348 commands to be executed by the \f[CB]rmid\f[R] command.
349 .PP
350 The \f[CB]policyClassName\f[R] specifies a public class with a public,
351 no\-argument constructor and an implementation of the following
352 \f[CB]checkExecCommand\f[R] method:
353 .IP
354 .nf
355 \f[CB]
356 \ public\ void\ checkExecCommand(ActivationGroupDesc\ desc,\ String[]\ command)
357 \ \ \ \ \ \ \ \ throws\ SecurityException;
358 \f[R]
359 .fi
360 .PP
361 Before starting an activation group, the \f[CB]rmid\f[R] command calls the
362 policy\[aq]s \f[CB]checkExecCommand\f[R] method and passes to it the
363 activation group descriptor and an array that contains the complete
364 command to start the activation group.
365 If the \f[CB]checkExecCommand\f[R] throws a \f[CB]SecurityException\f[R],
366 then the \f[CB]rmid\f[R] command doesn\[aq]t start the activation group
367 and an \f[CB]ActivationException\f[R] is thrown to the caller attempting
368 to activate the object.
369 .RE
370 .IP \[bu] 2
371 \f[CB]none\f[R]
372 .RS 2
373 .PP
374 If the \f[CB]sun.rmi.activation.execPolicy\f[R] property value is
375 \f[CB]none\f[R], then the \f[CB]rmid\f[R] command doesn\[aq]t perform any
376 validation of commands to start activation groups.
377 .RE
378 .RE
379 .TP
380 .B \f[CB]\-log\f[R] \f[I]dir\f[R]
381 Specifies the name of the directory that the activation system daemon
382 uses to write its database and associated information.
383 The log directory defaults to creating a log, in the directory in which
384 the \f[CB]rmid\f[R] command was executed.
385 .RS
386 .RE
387 .TP
388 .B \f[CB]\-port\f[R] \f[I]port\f[R]
389 Specifies the port that the registry uses.
390 The activation system daemon binds \f[CB]ActivationSystem\f[R], with the
391 name \f[CB]java.rmi.activation.ActivationSystem\f[R], in this registry.
392 The \f[CB]ActivationSystem\f[R] on the local machine can be obtained using
393 the following \f[CB]Naming.lookup\f[R] method call:
394 .RS
395 .IP
396 .nf
397 \f[CB]
398 import\ java.rmi.*;
399 import\ java.rmi.activation.*;
400 
401 ActivationSystem\ system;\ system\ =\ (ActivationSystem)
402 Naming.lookup(&quot;//:port/java.rmi.activation.ActivationSystem&quot;);
403 \f[R]
404 .fi
405 .RE
406 .TP
407 .B \f[CB]\-stop\f[R]
408 Stops the current invocation of the \f[CB]rmid\f[R] command for a port
409 specified by the \f[CB]\-port\f[R] option.
410 If no port is specified, then this option stops the \f[CB]rmid\f[R]
411 invocation running on port 1098.
412 .RS
413 .RE
<a name="10" id="anc10"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="10" type="hidden" />
</body>
</html>