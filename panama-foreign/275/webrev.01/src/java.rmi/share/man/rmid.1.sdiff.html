<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.rmi/share/man/rmid.1</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="../classes/java/rmi/server/RMIClassLoaderSpi.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="rmiregistry.1.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.rmi/share/man/rmid.1</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
<span class="line-modified">  1 .\&quot; Copyright (c) 1994, 2019, Oracle and/or its affiliates. All rights reserved.</span>
  2 .\&quot; DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  3 .\&quot;
  4 .\&quot; This code is free software; you can redistribute it and/or modify it
  5 .\&quot; under the terms of the GNU General Public License version 2 only, as
  6 .\&quot; published by the Free Software Foundation.
  7 .\&quot;
  8 .\&quot; This code is distributed in the hope that it will be useful, but WITHOUT
  9 .\&quot; ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 10 .\&quot; FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License
 11 .\&quot; version 2 for more details (a copy is included in the LICENSE file that
 12 .\&quot; accompanied this code).
 13 .\&quot;
 14 .\&quot; You should have received a copy of the GNU General Public License version
 15 .\&quot; 2 along with this work; if not, write to the Free Software Foundation,
 16 .\&quot; Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 17 .\&quot;
 18 .\&quot; Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 19 .\&quot; or visit www.oracle.com if you need additional information or have any
 20 .\&quot; questions.
 21 .\&quot;
 22 .\&quot; Automatically generated by Pandoc 2.3.1
 23 .\&quot;
<span class="line-modified"> 24 .TH &quot;RMID&quot; &quot;1&quot; &quot;2020&quot; &quot;JDK 14&quot; &quot;JDK Commands&quot;</span>
 25 .hy
 26 .SH NAME
 27 .PP
 28 rmid \- start the activation system daemon that enables objects to be
 29 registered and activated in a Java Virtual Machine (JVM)
 30 .SH SYNOPSIS
 31 .PP
 32 \f[CB]rmid\f[R] [\f[I]options\f[R]]
 33 .TP
 34 .B \f[I]options\f[R]
 35 This represent the command\-line options for the \f[CB]rmid\f[R] command.
 36 See \f[B]Options for rmid\f[R].
 37 .RS
 38 .RE
 39 .SH DESCRIPTION
 40 .PP






 41 The \f[CB]rmid\f[R] command starts the activation system daemon.
 42 The activation system daemon must be started before objects that can be
 43 activated are either registered with the activation system or activated
 44 in a JVM.
 45 .PP
 46 Start the daemon by executing the \f[CB]rmid\f[R] command and specifying a
 47 security policy file, as follows:
 48 .RS
 49 .PP
 50 \f[CB]rmid\ \-J\-Djava.security.policy=rmid.policy\f[R]
 51 .RE
 52 .PP
 53 When you run Oracle\[aq]s implementation of the \f[CB]rmid\f[R] command,
 54 by default you must specify a security policy file so that the
 55 \f[CB]rmid\f[R] command can verify whether or not the information in each
 56 \f[CB]ActivationGroupDesc\f[R] is allowed to be used to start a JVM for an
 57 activation group.
 58 Specifically, the command and options specified by the
 59 \f[CB]CommandEnvironment\f[R] and any properties passed to an
 60 \f[CB]ActivationGroupDesc\f[R] constructor must now be explicitly allowed
</pre>
<hr />
<pre>
 62 The value of the \f[CB]sun.rmi.activation.execPolicy\f[R] property
 63 dictates the policy that the \f[CB]rmid\f[R] command uses to determine
 64 whether or not the information in an \f[CB]ActivationGroupDesc\f[R] can be
 65 used to start a JVM for an activation group.
 66 For more information see the description of the
 67 \f[CB]\-J\-Dsun.rmi.activation.execPolicy=policy\f[R] option.
 68 .PP
 69 Executing the \f[CB]rmid\f[R] command starts the \f[CB]Activator\f[R] and an
 70 internal registry on the default port 1098 and binds an
 71 \f[CB]ActivationSystem\f[R] to the name
 72 \f[CB]java.rmi.activation.ActivationSystem\f[R] in this internal registry.
 73 .PP
 74 To specify an alternate port for the registry, you must specify the
 75 \f[CB]\-port\f[R] option when you execute the \f[CB]rmid\f[R] command.
 76 For example, the following command starts the activation system daemon
 77 and a registry on the registry\[aq]s default port, 1099.
 78 .RS
 79 .PP
 80 \f[CB]rmid\ \-J\-Djava.security.policy=rmid.policy\ \-port\ 1099\f[R]
 81 .RE
<span class="line-modified"> 82 .SH START RMID ON DEMAND (ORACLE SOLARIS AND LINUX ONLY)</span>
 83 .PP
 84 An alternative to starting \f[CB]rmid\f[R] from the command line is to
<span class="line-modified"> 85 configure \f[CB]inetd\f[R] (Oracle Solaris) or \f[CB]xinetd\f[R] (Linux) to</span>
<span class="line-removed"> 86 start \f[CB]rmid\f[R] on demand.</span>
 87 .PP
 88 When RMID starts, it attempts to obtain an inherited channel (inherited
 89 from \f[CB]inetd\f[R]/\f[CB]xinetd\f[R]) by calling the
 90 \f[CB]System.inheritedChannel\f[R] method.
 91 If the inherited channel is null or not an instance of
 92 \f[CB]java.nio.channels.ServerSocketChannel\f[R], then RMID assumes that
 93 it wasn\[aq]t started by \f[CB]inetd\f[R]/\f[CB]xinetd\f[R], and it starts
 94 as previously described.
 95 .PP
 96 If the inherited channel is a \f[CB]ServerSocketChannel\f[R] instance,
 97 then RMID uses the \f[CB]java.net.ServerSocket\f[R] obtained from the
 98 \f[CB]ServerSocketChannel\f[R] as the server socket that accepts requests
 99 for the remote objects it exports: The registry in which the
100 \f[CB]java.rmi.activation.ActivationSystem\f[R] is bound and the
101 \f[CB]java.rmi.activation.Activator\f[R] remote object.
102 In this mode, RMID behaves the same as when it is started from the
103 command line, except in the following cases:
104 .IP \[bu] 2
105 Output printed to \f[CB]System.err\f[R] is redirected to a file.
106 This file is located in the directory specified by the
</pre>
<hr />
<pre>
240 name itself (matches any option), or an asterisk (*) can appear at the
241 end of the option name only when the asterisk (\f[CB]*\f[R]) follows a dot
242 (\f[CB]\&amp;.\f[R]) or an equals sign (\f[CB]=\f[R]).
243 .PP
244 For example: \f[CB]*\f[R] or \f[CB]\-Dmydir.*\f[R] or \f[CB]\-Da.b.c=*\f[R] is
245 valid, but \f[CB]*mydir\f[R] or \f[CB]\-Da*b\f[R] or \f[CB]ab*\f[R] isn\[aq]t
246 valid.
247 .PP
248 \f[B]Policy file for rmid\f[R]
249 .PP
250 When you grant the \f[CB]rmid\f[R] command permission to execute various
251 commands and options, the permissions \f[CB]ExecPermission\f[R] and
252 \f[CB]ExecOptionPermission\f[R] must be granted to all code sources
253 (universally).
254 It is safe to grant these permissions universally because only the
255 \f[CB]rmid\f[R] command checks these permissions.
256 .PP
257 An example policy file that grants various execute permissions to the
258 \f[CB]rmid\f[R] command is:
259 .IP \[bu] 2
<span class="line-modified">260 \f[B]Oracle Solaris:\f[R]</span>
261 .RS 2
262 .IP
263 .nf
264 \f[CB]
265 grant\ {
266 \ \ \ \ permission\ com.sun.rmi.rmid.ExecPermission
<span class="line-modified">267 \ \ \ \ \ \ \ \ &quot;/files/apps/java/jdk1.7.0/solaris/bin/java&quot;;</span>
268 
269 \ \ \ \ permission\ com.sun.rmi.rmid.ExecPermission
270 \ \ \ \ \ \ \ \ &quot;/files/apps/rmidcmds/*&quot;;
271 
272 \ \ \ \ permission\ com.sun.rmi.rmid.ExecOptionPermission
273 \ \ \ \ \ \ \ \ &quot;\-Djava.security.policy=/files/policies/group.policy&quot;;
274 
275 \ \ \ \ permission\ com.sun.rmi.rmid.ExecOptionPermission
276 \ \ \ \ \ \ \ \ &quot;\-Djava.security.debug=*&quot;;
277 
278 \ \ \ \ permission\ com.sun.rmi.rmid.ExecOptionPermission
279 \ \ \ \ \ \ \ \ &quot;\-Dsun.rmi.*&quot;;
280 };
281 \f[R]
282 .fi
283 .RE
284 .IP \[bu] 2
285 \f[B]Windows:\f[R]
286 .RS 2
287 .IP
</pre>
<hr />
<pre>
297 \ \ \ \ permission\ com.sun.rmi.rmid.ExecOptionPermission
298 \ \ \ \ \ \ \ \ &quot;\-Djava.security.policy=c:\\\\files\\\\policies\\\\group.policy&quot;;
299 
300 \ \ \ \ permission\ com.sun.rmi.rmid.ExecOptionPermission
301 \ \ \ \ \ \ \ \ &quot;\-Djava.security.debug=*&quot;;
302 
303 \ \ \ \ permission\ com.sun.rmi.rmid.ExecOptionPermission
304 \ \ \ \ \ \ \ \ &quot;\-Dsun.rmi.*&quot;;
305 };
306 \f[R]
307 .fi
308 .RE
309 .PP
310 The first permission granted allows the \f[CB]rmid\f[R] command to execute
311 the 1.7.0 release of the \f[CB]java\f[R] command, specified by its
312 explicit path name.
313 By default, the version of the \f[CB]java\f[R] command found in
314 \f[CB]java.home\f[R] is used (the same one that the \f[CB]rmid\f[R] command
315 uses), and doesn\[aq]t need to be specified in the policy file.
316 The second permission allows the \f[CB]rmid\f[R] command to execute any
<span class="line-modified">317 command in either the directory \f[CB]/files/apps/rmidcmds\f[R] (Oracle</span>
<span class="line-modified">318 Solaris, Linux, and macOS) or the directory</span>
<span class="line-removed">319 \f[CB]c:\\files\\apps\\rmidcmds\\\f[R] (Windows).</span>
320 .PP
321 The third permission granted, \f[CB]ExecOptionPermission\f[R], allows the
322 \f[CB]rmid\f[R] command to start an activation group that defines the
323 security policy file to be either \f[CB]/files/policies/group.policy\f[R]
<span class="line-modified">324 (Oracle Solaris) or \f[CB]c:\\files\\policies\\group.policy\f[R]</span>
<span class="line-removed">325 (Windows).</span>
326 The next permission allows the \f[CB]java.security.debug\ property\f[R] to
327 be used by an activation group.
328 The last permission allows any property in the
329 \f[CB]sun.rmi\ property\f[R] name hierarchy to be used by activation
330 groups.
331 .PP
332 To start the \f[CB]rmid\f[R] command with a policy file, the
333 \f[CB]java.security.policy\f[R] property needs to be specified on the
334 \f[CB]rmid\f[R] command line, for example:
335 .PP
336 \f[CB]rmid\ \-J\-Djava.security.policy=rmid.policy\f[R].
337 .RE
338 .IP \[bu] 2
339 \f[I]policyClassName\f[R]
340 .RS 2
341 .PP
342 If the default behavior isn\[aq]t flexible enough, then an administrator
343 can provide, when starting the \f[CB]rmid\f[R] command, the name of a
344 class whose \f[CB]checkExecCommand\f[R] method is executed to check
345 commands to be executed by the \f[CB]rmid\f[R] command.
</pre>
</td>
<td>
<hr />
<pre>
<span class="line-modified">  1 .\&quot; Copyright (c) 1998, 2020, Oracle and/or its affiliates. All rights reserved.</span>
  2 .\&quot; DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  3 .\&quot;
  4 .\&quot; This code is free software; you can redistribute it and/or modify it
  5 .\&quot; under the terms of the GNU General Public License version 2 only, as
  6 .\&quot; published by the Free Software Foundation.
  7 .\&quot;
  8 .\&quot; This code is distributed in the hope that it will be useful, but WITHOUT
  9 .\&quot; ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 10 .\&quot; FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License
 11 .\&quot; version 2 for more details (a copy is included in the LICENSE file that
 12 .\&quot; accompanied this code).
 13 .\&quot;
 14 .\&quot; You should have received a copy of the GNU General Public License version
 15 .\&quot; 2 along with this work; if not, write to the Free Software Foundation,
 16 .\&quot; Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 17 .\&quot;
 18 .\&quot; Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 19 .\&quot; or visit www.oracle.com if you need additional information or have any
 20 .\&quot; questions.
 21 .\&quot;
 22 .\&quot; Automatically generated by Pandoc 2.3.1
 23 .\&quot;
<span class="line-modified"> 24 .TH &quot;RMID&quot; &quot;1&quot; &quot;2020&quot; &quot;JDK 15&quot; &quot;JDK Commands&quot;</span>
 25 .hy
 26 .SH NAME
 27 .PP
 28 rmid \- start the activation system daemon that enables objects to be
 29 registered and activated in a Java Virtual Machine (JVM)
 30 .SH SYNOPSIS
 31 .PP
 32 \f[CB]rmid\f[R] [\f[I]options\f[R]]
 33 .TP
 34 .B \f[I]options\f[R]
 35 This represent the command\-line options for the \f[CB]rmid\f[R] command.
 36 See \f[B]Options for rmid\f[R].
 37 .RS
 38 .RE
 39 .SH DESCRIPTION
 40 .PP
<span class="line-added"> 41 \f[B]Deprecation Notice:\f[R] The rmid tool and the RMI Activation</span>
<span class="line-added"> 42 mechanism have been deprecated and may be removed from a future version</span>
<span class="line-added"> 43 of the platform.</span>
<span class="line-added"> 44 See \f[B]JEP 385\f[R] [https://openjdk.java.net/jeps/385] for further</span>
<span class="line-added"> 45 information.</span>
<span class="line-added"> 46 .PP</span>
 47 The \f[CB]rmid\f[R] command starts the activation system daemon.
 48 The activation system daemon must be started before objects that can be
 49 activated are either registered with the activation system or activated
 50 in a JVM.
 51 .PP
 52 Start the daemon by executing the \f[CB]rmid\f[R] command and specifying a
 53 security policy file, as follows:
 54 .RS
 55 .PP
 56 \f[CB]rmid\ \-J\-Djava.security.policy=rmid.policy\f[R]
 57 .RE
 58 .PP
 59 When you run Oracle\[aq]s implementation of the \f[CB]rmid\f[R] command,
 60 by default you must specify a security policy file so that the
 61 \f[CB]rmid\f[R] command can verify whether or not the information in each
 62 \f[CB]ActivationGroupDesc\f[R] is allowed to be used to start a JVM for an
 63 activation group.
 64 Specifically, the command and options specified by the
 65 \f[CB]CommandEnvironment\f[R] and any properties passed to an
 66 \f[CB]ActivationGroupDesc\f[R] constructor must now be explicitly allowed
</pre>
<hr />
<pre>
 68 The value of the \f[CB]sun.rmi.activation.execPolicy\f[R] property
 69 dictates the policy that the \f[CB]rmid\f[R] command uses to determine
 70 whether or not the information in an \f[CB]ActivationGroupDesc\f[R] can be
 71 used to start a JVM for an activation group.
 72 For more information see the description of the
 73 \f[CB]\-J\-Dsun.rmi.activation.execPolicy=policy\f[R] option.
 74 .PP
 75 Executing the \f[CB]rmid\f[R] command starts the \f[CB]Activator\f[R] and an
 76 internal registry on the default port 1098 and binds an
 77 \f[CB]ActivationSystem\f[R] to the name
 78 \f[CB]java.rmi.activation.ActivationSystem\f[R] in this internal registry.
 79 .PP
 80 To specify an alternate port for the registry, you must specify the
 81 \f[CB]\-port\f[R] option when you execute the \f[CB]rmid\f[R] command.
 82 For example, the following command starts the activation system daemon
 83 and a registry on the registry\[aq]s default port, 1099.
 84 .RS
 85 .PP
 86 \f[CB]rmid\ \-J\-Djava.security.policy=rmid.policy\ \-port\ 1099\f[R]
 87 .RE
<span class="line-modified"> 88 .SH START RMID ON DEMAND (LINUX ONLY)</span>
 89 .PP
 90 An alternative to starting \f[CB]rmid\f[R] from the command line is to
<span class="line-modified"> 91 configure \f[CB]xinetd\f[R] (Linux) to start \f[CB]rmid\f[R] on demand.</span>

 92 .PP
 93 When RMID starts, it attempts to obtain an inherited channel (inherited
 94 from \f[CB]inetd\f[R]/\f[CB]xinetd\f[R]) by calling the
 95 \f[CB]System.inheritedChannel\f[R] method.
 96 If the inherited channel is null or not an instance of
 97 \f[CB]java.nio.channels.ServerSocketChannel\f[R], then RMID assumes that
 98 it wasn\[aq]t started by \f[CB]inetd\f[R]/\f[CB]xinetd\f[R], and it starts
 99 as previously described.
100 .PP
101 If the inherited channel is a \f[CB]ServerSocketChannel\f[R] instance,
102 then RMID uses the \f[CB]java.net.ServerSocket\f[R] obtained from the
103 \f[CB]ServerSocketChannel\f[R] as the server socket that accepts requests
104 for the remote objects it exports: The registry in which the
105 \f[CB]java.rmi.activation.ActivationSystem\f[R] is bound and the
106 \f[CB]java.rmi.activation.Activator\f[R] remote object.
107 In this mode, RMID behaves the same as when it is started from the
108 command line, except in the following cases:
109 .IP \[bu] 2
110 Output printed to \f[CB]System.err\f[R] is redirected to a file.
111 This file is located in the directory specified by the
</pre>
<hr />
<pre>
245 name itself (matches any option), or an asterisk (*) can appear at the
246 end of the option name only when the asterisk (\f[CB]*\f[R]) follows a dot
247 (\f[CB]\&amp;.\f[R]) or an equals sign (\f[CB]=\f[R]).
248 .PP
249 For example: \f[CB]*\f[R] or \f[CB]\-Dmydir.*\f[R] or \f[CB]\-Da.b.c=*\f[R] is
250 valid, but \f[CB]*mydir\f[R] or \f[CB]\-Da*b\f[R] or \f[CB]ab*\f[R] isn\[aq]t
251 valid.
252 .PP
253 \f[B]Policy file for rmid\f[R]
254 .PP
255 When you grant the \f[CB]rmid\f[R] command permission to execute various
256 commands and options, the permissions \f[CB]ExecPermission\f[R] and
257 \f[CB]ExecOptionPermission\f[R] must be granted to all code sources
258 (universally).
259 It is safe to grant these permissions universally because only the
260 \f[CB]rmid\f[R] command checks these permissions.
261 .PP
262 An example policy file that grants various execute permissions to the
263 \f[CB]rmid\f[R] command is:
264 .IP \[bu] 2
<span class="line-modified">265 \f[B]Linux:\f[R]</span>
266 .RS 2
267 .IP
268 .nf
269 \f[CB]
270 grant\ {
271 \ \ \ \ permission\ com.sun.rmi.rmid.ExecPermission
<span class="line-modified">272 \ \ \ \ \ \ \ \ &quot;/files/apps/java/jdk1.7.0/linux/bin/java&quot;;</span>
273 
274 \ \ \ \ permission\ com.sun.rmi.rmid.ExecPermission
275 \ \ \ \ \ \ \ \ &quot;/files/apps/rmidcmds/*&quot;;
276 
277 \ \ \ \ permission\ com.sun.rmi.rmid.ExecOptionPermission
278 \ \ \ \ \ \ \ \ &quot;\-Djava.security.policy=/files/policies/group.policy&quot;;
279 
280 \ \ \ \ permission\ com.sun.rmi.rmid.ExecOptionPermission
281 \ \ \ \ \ \ \ \ &quot;\-Djava.security.debug=*&quot;;
282 
283 \ \ \ \ permission\ com.sun.rmi.rmid.ExecOptionPermission
284 \ \ \ \ \ \ \ \ &quot;\-Dsun.rmi.*&quot;;
285 };
286 \f[R]
287 .fi
288 .RE
289 .IP \[bu] 2
290 \f[B]Windows:\f[R]
291 .RS 2
292 .IP
</pre>
<hr />
<pre>
302 \ \ \ \ permission\ com.sun.rmi.rmid.ExecOptionPermission
303 \ \ \ \ \ \ \ \ &quot;\-Djava.security.policy=c:\\\\files\\\\policies\\\\group.policy&quot;;
304 
305 \ \ \ \ permission\ com.sun.rmi.rmid.ExecOptionPermission
306 \ \ \ \ \ \ \ \ &quot;\-Djava.security.debug=*&quot;;
307 
308 \ \ \ \ permission\ com.sun.rmi.rmid.ExecOptionPermission
309 \ \ \ \ \ \ \ \ &quot;\-Dsun.rmi.*&quot;;
310 };
311 \f[R]
312 .fi
313 .RE
314 .PP
315 The first permission granted allows the \f[CB]rmid\f[R] command to execute
316 the 1.7.0 release of the \f[CB]java\f[R] command, specified by its
317 explicit path name.
318 By default, the version of the \f[CB]java\f[R] command found in
319 \f[CB]java.home\f[R] is used (the same one that the \f[CB]rmid\f[R] command
320 uses), and doesn\[aq]t need to be specified in the policy file.
321 The second permission allows the \f[CB]rmid\f[R] command to execute any
<span class="line-modified">322 command in either the directory \f[CB]/files/apps/rmidcmds\f[R] (Linux and</span>
<span class="line-modified">323 macOS) or the directory \f[CB]c:\\files\\apps\\rmidcmds\\\f[R] (Windows).</span>

324 .PP
325 The third permission granted, \f[CB]ExecOptionPermission\f[R], allows the
326 \f[CB]rmid\f[R] command to start an activation group that defines the
327 security policy file to be either \f[CB]/files/policies/group.policy\f[R]
<span class="line-modified">328 (Linux) or \f[CB]c:\\files\\policies\\group.policy\f[R] (Windows).</span>

329 The next permission allows the \f[CB]java.security.debug\ property\f[R] to
330 be used by an activation group.
331 The last permission allows any property in the
332 \f[CB]sun.rmi\ property\f[R] name hierarchy to be used by activation
333 groups.
334 .PP
335 To start the \f[CB]rmid\f[R] command with a policy file, the
336 \f[CB]java.security.policy\f[R] property needs to be specified on the
337 \f[CB]rmid\f[R] command line, for example:
338 .PP
339 \f[CB]rmid\ \-J\-Djava.security.policy=rmid.policy\f[R].
340 .RE
341 .IP \[bu] 2
342 \f[I]policyClassName\f[R]
343 .RS 2
344 .PP
345 If the default behavior isn\[aq]t flexible enough, then an administrator
346 can provide, when starting the \f[CB]rmid\f[R] command, the name of a
347 class whose \f[CB]checkExecCommand\f[R] method is executed to check
348 commands to be executed by the \f[CB]rmid\f[R] command.
</pre>
</td>
</tr>
</table>
<center><a href="../classes/java/rmi/server/RMIClassLoaderSpi.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="rmiregistry.1.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>