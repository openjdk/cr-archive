<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.jstatd/share/man/jstatd.1</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="../../../jdk.jshell/share/man/jshell.1.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="../../../jdk.management/unix/classes/com/sun/management/internal/OperatingSystemImpl.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.jstatd/share/man/jstatd.1</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
<span class="line-modified">  1 .\&quot; Copyright (c) 1994, 2019, Oracle and/or its affiliates. All rights reserved.</span>
  2 .\&quot; DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  3 .\&quot;
  4 .\&quot; This code is free software; you can redistribute it and/or modify it
  5 .\&quot; under the terms of the GNU General Public License version 2 only, as
  6 .\&quot; published by the Free Software Foundation.
  7 .\&quot;
  8 .\&quot; This code is distributed in the hope that it will be useful, but WITHOUT
  9 .\&quot; ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 10 .\&quot; FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License
 11 .\&quot; version 2 for more details (a copy is included in the LICENSE file that
 12 .\&quot; accompanied this code).
 13 .\&quot;
 14 .\&quot; You should have received a copy of the GNU General Public License version
 15 .\&quot; 2 along with this work; if not, write to the Free Software Foundation,
 16 .\&quot; Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 17 .\&quot;
 18 .\&quot; Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 19 .\&quot; or visit www.oracle.com if you need additional information or have any
 20 .\&quot; questions.
 21 .\&quot;
 22 .\&quot; Automatically generated by Pandoc 2.3.1
 23 .\&quot;
<span class="line-modified"> 24 .TH &quot;JSTATD&quot; &quot;1&quot; &quot;2020&quot; &quot;JDK 14&quot; &quot;JDK Commands&quot;</span>
 25 .hy
 26 .SH NAME
 27 .PP
 28 jstatd \- monitor the creation and termination of instrumented Java
 29 HotSpot VMs
 30 .SH SYNOPSIS
 31 .PP
 32 \f[B]Note:\f[R] This command is experimental and unsupported.
 33 .PP
 34 \f[CB]jstatd\f[R] [\f[I]options\f[R]]
 35 .TP
 36 .B \f[I]options\f[R]
 37 This represents the \f[CB]jstatd\f[R] command\-line options.
 38 See \f[B]Options for the jstatd Command\f[R].
 39 .RS
 40 .RE
 41 .SH DESCRIPTION
 42 .PP
 43 The \f[CB]jstatd\f[R] command is an RMI server application that monitors
 44 for the creation and termination of instrumented Java HotSpot VMs and
</pre>
<hr />
<pre>
 55 indicated by the \f[CB]\-p\f[R] \f[CB]port\f[R] option or to the default RMI
 56 registry port when the \f[CB]\-p\f[R] \f[CB]port\f[R] option is omitted.
 57 You can stop the creation of an internal RMI registry by specifying the
 58 \f[CB]\-nr\f[R] option.
 59 .SH OPTIONS FOR THE JSTATD COMMAND
 60 .TP
 61 .B \f[CB]\-nr\f[R]
 62 This option does not attempt to create an internal RMI registry within
 63 the \f[CB]jstatd\f[R] process when an existing RMI registry isn\[aq]t
 64 found.
 65 .RS
 66 .RE
 67 .TP
 68 .B \f[CB]\-p\f[R] \f[I]port\f[R]
 69 This option sets the port number where the RMI registry is expected to
 70 be found, or when not found, created if the \f[CB]\-nr\f[R] option
 71 isn\[aq]t specified.
 72 .RS
 73 .RE
 74 .TP






 75 .B \f[CB]\-n\f[R] \f[I]rminame\f[R]
 76 This option sets the name to which the remote RMI object is bound in the
 77 RMI registry.
 78 The default name is \f[CB]JStatRemoteHost\f[R].
 79 If multiple \f[CB]jstatd\f[R] servers are started on the same host, then
 80 the name of the exported RMI object for each server can be made unique
 81 by specifying this option.
 82 However, doing so requires that the unique server name be included in
 83 the monitoring client\[aq]s \f[CB]hostid\f[R] and \f[CB]vmid\f[R] strings.
 84 .RS
 85 .RE
 86 .TP
 87 .B \f[CB]\-J\f[R]\f[I]option\f[R]
 88 This option passes a Java \f[CB]option\f[R] to the JVM, where the option
 89 is one of those described on the reference page for the Java application
 90 launcher.
 91 For example, \f[CB]\-J\-Xms48m\f[R] sets the startup memory to 48 MB.
 92 See \f[B]java\f[R].
 93 .RS
 94 .RE
 95 .SH SECURITY
 96 .PP
 97 The \f[CB]jstatd\f[R] server can monitor only JVMs for which it has the
 98 appropriate native access permissions.
 99 Therefore, the \f[CB]jstatd\f[R] process must be running with the same
100 user credentials as the target JVMs.
<span class="line-modified">101 Some user credentials, such as the root user in Oracle Solaris, Linux,</span>
<span class="line-modified">102 and OS X operating systems, have permission to access the</span>
<span class="line-modified">103 instrumentation exported by any JVM on the system.</span>
104 A \f[CB]jstatd\f[R] process running with such credentials can monitor any
105 JVM on the system, but introduces additional security concerns.
106 .PP
107 The \f[CB]jstatd\f[R] server doesn\[aq]t provide any authentication of
108 remote clients.
109 Therefore, running a \f[CB]jstatd\f[R] server process exposes the
110 instrumentation export by all JVMs for which the \f[CB]jstatd\f[R] process
111 has access permissions to any user on the network.
112 This exposure might be undesirable in your environment, and therefore,
113 local security policies should be considered before you start the
114 \f[CB]jstatd\f[R] process, particularly in production environments or on
115 networks that aren\[aq]t secure.
116 .PP
117 The \f[CB]jstatd\f[R] server installs an instance of
118 \f[CB]RMISecurityPolicy\f[R] when no other security manager is installed,
119 and therefore, requires a security policy file to be specified.
120 The policy file must conform to Default Policy Implementation and Policy
121 File Syntax.
122 .PP
123 If your security concerns can\[aq]t be addressed with a customized
</pre>
<hr />
<pre>
151 registry.
152 .IP
153 .nf
154 \f[CB]
155 rmiregistry&amp;
156 jstatd\ \-J\-Djava.security.policy=all.policy
157 \f[R]
158 .fi
159 .PP
160 This example starts a \f[CB]jstatd\f[R] session with an external RMI
161 registry server on port \f[CB]2020\f[R].
162 .IP
163 .nf
164 \f[CB]
165 jrmiregistry\ 2020&amp;
166 jstatd\ \-J\-Djava.security.policy=all.policy\ \-p\ 2020
167 \f[R]
168 .fi
169 .PP
170 This example starts a \f[CB]jstatd\f[R] session with an external RMI











171 registry on port 2020 that\[aq]s bound to
172 \f[CB]AlternateJstatdServerName\f[R].
173 .IP
174 .nf
175 \f[CB]
176 rmiregistry\ 2020&amp;
177 jstatd\ \-J\-Djava.security.policy=all.policy\ \-p\ 2020\ \-n\ AlternateJstatdServerName
178 \f[R]
179 .fi
180 .SH STOP THE CREATION OF AN IN\-PROCESS RMI REGISTRY
181 .PP
182 This example starts a \f[CB]jstatd\f[R] session that doesn\[aq]t create an
183 RMI registry when one isn\[aq]t found.
184 This example assumes an RMI registry is already running.
185 If an RMI registry isn\[aq]t running, then an error message is
186 displayed.
187 .RS
188 .PP
189 \f[CB]jstatd\ \-J\-Djava.security.policy=all.policy\ \-nr\f[R]
190 .RE
</pre>
</td>
<td>
<hr />
<pre>
<span class="line-modified">  1 .\&quot; Copyright (c) 2004, 2020, Oracle and/or its affiliates. All rights reserved.</span>
  2 .\&quot; DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  3 .\&quot;
  4 .\&quot; This code is free software; you can redistribute it and/or modify it
  5 .\&quot; under the terms of the GNU General Public License version 2 only, as
  6 .\&quot; published by the Free Software Foundation.
  7 .\&quot;
  8 .\&quot; This code is distributed in the hope that it will be useful, but WITHOUT
  9 .\&quot; ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 10 .\&quot; FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License
 11 .\&quot; version 2 for more details (a copy is included in the LICENSE file that
 12 .\&quot; accompanied this code).
 13 .\&quot;
 14 .\&quot; You should have received a copy of the GNU General Public License version
 15 .\&quot; 2 along with this work; if not, write to the Free Software Foundation,
 16 .\&quot; Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 17 .\&quot;
 18 .\&quot; Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 19 .\&quot; or visit www.oracle.com if you need additional information or have any
 20 .\&quot; questions.
 21 .\&quot;
 22 .\&quot; Automatically generated by Pandoc 2.3.1
 23 .\&quot;
<span class="line-modified"> 24 .TH &quot;JSTATD&quot; &quot;1&quot; &quot;2020&quot; &quot;JDK 15&quot; &quot;JDK Commands&quot;</span>
 25 .hy
 26 .SH NAME
 27 .PP
 28 jstatd \- monitor the creation and termination of instrumented Java
 29 HotSpot VMs
 30 .SH SYNOPSIS
 31 .PP
 32 \f[B]Note:\f[R] This command is experimental and unsupported.
 33 .PP
 34 \f[CB]jstatd\f[R] [\f[I]options\f[R]]
 35 .TP
 36 .B \f[I]options\f[R]
 37 This represents the \f[CB]jstatd\f[R] command\-line options.
 38 See \f[B]Options for the jstatd Command\f[R].
 39 .RS
 40 .RE
 41 .SH DESCRIPTION
 42 .PP
 43 The \f[CB]jstatd\f[R] command is an RMI server application that monitors
 44 for the creation and termination of instrumented Java HotSpot VMs and
</pre>
<hr />
<pre>
 55 indicated by the \f[CB]\-p\f[R] \f[CB]port\f[R] option or to the default RMI
 56 registry port when the \f[CB]\-p\f[R] \f[CB]port\f[R] option is omitted.
 57 You can stop the creation of an internal RMI registry by specifying the
 58 \f[CB]\-nr\f[R] option.
 59 .SH OPTIONS FOR THE JSTATD COMMAND
 60 .TP
 61 .B \f[CB]\-nr\f[R]
 62 This option does not attempt to create an internal RMI registry within
 63 the \f[CB]jstatd\f[R] process when an existing RMI registry isn\[aq]t
 64 found.
 65 .RS
 66 .RE
 67 .TP
 68 .B \f[CB]\-p\f[R] \f[I]port\f[R]
 69 This option sets the port number where the RMI registry is expected to
 70 be found, or when not found, created if the \f[CB]\-nr\f[R] option
 71 isn\[aq]t specified.
 72 .RS
 73 .RE
 74 .TP
<span class="line-added"> 75 .B \f[CB]\-r\f[R] \f[I]rmiport\f[R]</span>
<span class="line-added"> 76 This option sets the port number to which the RMI connector is bound.</span>
<span class="line-added"> 77 If not specified a random available port is used.</span>
<span class="line-added"> 78 .RS</span>
<span class="line-added"> 79 .RE</span>
<span class="line-added"> 80 .TP</span>
 81 .B \f[CB]\-n\f[R] \f[I]rminame\f[R]
 82 This option sets the name to which the remote RMI object is bound in the
 83 RMI registry.
 84 The default name is \f[CB]JStatRemoteHost\f[R].
 85 If multiple \f[CB]jstatd\f[R] servers are started on the same host, then
 86 the name of the exported RMI object for each server can be made unique
 87 by specifying this option.
 88 However, doing so requires that the unique server name be included in
 89 the monitoring client\[aq]s \f[CB]hostid\f[R] and \f[CB]vmid\f[R] strings.
 90 .RS
 91 .RE
 92 .TP
 93 .B \f[CB]\-J\f[R]\f[I]option\f[R]
 94 This option passes a Java \f[CB]option\f[R] to the JVM, where the option
 95 is one of those described on the reference page for the Java application
 96 launcher.
 97 For example, \f[CB]\-J\-Xms48m\f[R] sets the startup memory to 48 MB.
 98 See \f[B]java\f[R].
 99 .RS
100 .RE
101 .SH SECURITY
102 .PP
103 The \f[CB]jstatd\f[R] server can monitor only JVMs for which it has the
104 appropriate native access permissions.
105 Therefore, the \f[CB]jstatd\f[R] process must be running with the same
106 user credentials as the target JVMs.
<span class="line-modified">107 Some user credentials, such as the root user in Linux and OS X operating</span>
<span class="line-modified">108 systems, have permission to access the instrumentation exported by any</span>
<span class="line-modified">109 JVM on the system.</span>
110 A \f[CB]jstatd\f[R] process running with such credentials can monitor any
111 JVM on the system, but introduces additional security concerns.
112 .PP
113 The \f[CB]jstatd\f[R] server doesn\[aq]t provide any authentication of
114 remote clients.
115 Therefore, running a \f[CB]jstatd\f[R] server process exposes the
116 instrumentation export by all JVMs for which the \f[CB]jstatd\f[R] process
117 has access permissions to any user on the network.
118 This exposure might be undesirable in your environment, and therefore,
119 local security policies should be considered before you start the
120 \f[CB]jstatd\f[R] process, particularly in production environments or on
121 networks that aren\[aq]t secure.
122 .PP
123 The \f[CB]jstatd\f[R] server installs an instance of
124 \f[CB]RMISecurityPolicy\f[R] when no other security manager is installed,
125 and therefore, requires a security policy file to be specified.
126 The policy file must conform to Default Policy Implementation and Policy
127 File Syntax.
128 .PP
129 If your security concerns can\[aq]t be addressed with a customized
</pre>
<hr />
<pre>
157 registry.
158 .IP
159 .nf
160 \f[CB]
161 rmiregistry&amp;
162 jstatd\ \-J\-Djava.security.policy=all.policy
163 \f[R]
164 .fi
165 .PP
166 This example starts a \f[CB]jstatd\f[R] session with an external RMI
167 registry server on port \f[CB]2020\f[R].
168 .IP
169 .nf
170 \f[CB]
171 jrmiregistry\ 2020&amp;
172 jstatd\ \-J\-Djava.security.policy=all.policy\ \-p\ 2020
173 \f[R]
174 .fi
175 .PP
176 This example starts a \f[CB]jstatd\f[R] session with an external RMI
<span class="line-added">177 registry server on port \f[CB]2020\f[R] and JMX connector bound to port</span>
<span class="line-added">178 \f[CB]2021\f[R].</span>
<span class="line-added">179 .IP</span>
<span class="line-added">180 .nf</span>
<span class="line-added">181 \f[CB]</span>
<span class="line-added">182 jrmiregistry\ 2020&amp;</span>
<span class="line-added">183 jstatd\ \-J\-Djava.security.policy=all.policy\ \-p\ 2020\ \-r\ 2021</span>
<span class="line-added">184 \f[R]</span>
<span class="line-added">185 .fi</span>
<span class="line-added">186 .PP</span>
<span class="line-added">187 This example starts a \f[CB]jstatd\f[R] session with an external RMI</span>
188 registry on port 2020 that\[aq]s bound to
189 \f[CB]AlternateJstatdServerName\f[R].
190 .IP
191 .nf
192 \f[CB]
193 rmiregistry\ 2020&amp;
194 jstatd\ \-J\-Djava.security.policy=all.policy\ \-p\ 2020\ \-n\ AlternateJstatdServerName
195 \f[R]
196 .fi
197 .SH STOP THE CREATION OF AN IN\-PROCESS RMI REGISTRY
198 .PP
199 This example starts a \f[CB]jstatd\f[R] session that doesn\[aq]t create an
200 RMI registry when one isn\[aq]t found.
201 This example assumes an RMI registry is already running.
202 If an RMI registry isn\[aq]t running, then an error message is
203 displayed.
204 .RS
205 .PP
206 \f[CB]jstatd\ \-J\-Djava.security.policy=all.policy\ \-nr\f[R]
207 .RE
</pre>
</td>
</tr>
</table>
<center><a href="../../../jdk.jshell/share/man/jshell.1.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="../../../jdk.management/unix/classes/com/sun/management/internal/OperatingSystemImpl.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>