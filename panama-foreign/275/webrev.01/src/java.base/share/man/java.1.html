<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>New src/java.base/share/man/java.1</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
  <body>
    <pre>
   1 .\&quot;t
   2 .\&quot; Copyright (c) 1994, 2020, Oracle and/or its affiliates. All rights reserved.
   3 .\&quot; DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   4 .\&quot;
   5 .\&quot; This code is free software; you can redistribute it and/or modify it
   6 .\&quot; under the terms of the GNU General Public License version 2 only, as
   7 .\&quot; published by the Free Software Foundation.
   8 .\&quot;
   9 .\&quot; This code is distributed in the hope that it will be useful, but WITHOUT
  10 .\&quot; ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
  11 .\&quot; FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License
  12 .\&quot; version 2 for more details (a copy is included in the LICENSE file that
  13 .\&quot; accompanied this code).
  14 .\&quot;
  15 .\&quot; You should have received a copy of the GNU General Public License version
  16 .\&quot; 2 along with this work; if not, write to the Free Software Foundation,
  17 .\&quot; Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
  18 .\&quot;
  19 .\&quot; Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
  20 .\&quot; or visit www.oracle.com if you need additional information or have any
  21 .\&quot; questions.
  22 .\&quot;
  23 .\&quot; Automatically generated by Pandoc 2.3.1
  24 .\&quot;
  25 .TH &quot;JAVA&quot; &quot;1&quot; &quot;2020&quot; &quot;JDK 15&quot; &quot;JDK Commands&quot;
  26 .hy
  27 .SH NAME
  28 .PP
  29 java \- launch a Java application
  30 .SH SYNOPSIS
  31 .PP
  32 To launch a class file:
  33 .PP
  34 \f[CB]java\f[R] [\f[I]options\f[R]] \f[I]mainclass\f[R] [\f[I]args\f[R] ...]
  35 .PP
  36 To launch the main class in a JAR file:
  37 .PP
  38 \f[CB]java\f[R] [\f[I]options\f[R]] \f[CB]\-jar\f[R] \f[I]jarfile\f[R]
  39 [\f[I]args\f[R] ...]
  40 .PP
  41 To launch the main class in a module:
  42 .PP
  43 \f[CB]java\f[R] [\f[I]options\f[R]] \f[CB]\-m\f[R]
  44 \f[I]module\f[R][\f[CB]/\f[R]\f[I]mainclass\f[R]] [\f[I]args\f[R] ...]
  45 .PP
  46 or
  47 .PP
  48 \f[CB]java\f[R] [\f[I]options\f[R]] \f[CB]\-\-module\f[R]
  49 \f[I]module\f[R][\f[CB]/\f[R]\f[I]mainclass\f[R]] [\f[I]args\f[R] ...]
  50 .PP
  51 To launch a single source\-file program:
  52 .PP
  53 \f[CB]java\f[R] [\f[I]options\f[R]] \f[I]source\-file\f[R] [\f[I]args\f[R]
  54 \&amp;...]
  55 .TP
  56 .B \f[I]options\f[R]
  57 Optional: Specifies command\-line options separated by spaces.
  58 See \f[B]Overview of Java Options\f[R] for a description of available
  59 options.
  60 .RS
  61 .RE
  62 .TP
  63 .B \f[I]mainclass\f[R]
  64 Specifies the name of the class to be launched.
  65 Command\-line entries following \f[CB]classname\f[R] are the arguments for
  66 the main method.
  67 .RS
  68 .RE
  69 .TP
  70 .B \f[CB]\-jar\f[R] \f[I]jarfile\f[R]
  71 Executes a program encapsulated in a JAR file.
  72 The \f[I]jarfile\f[R] argument is the name of a JAR file with a manifest
  73 that contains a line in the form \f[CB]Main\-Class:\f[R]\f[I]classname\f[R]
  74 that defines the class with the
  75 \f[CB]public\ static\ void\ main(String[]\ args)\f[R] method that serves
  76 as your application\[aq]s starting point.
  77 When you use \f[CB]\-jar\f[R], the specified JAR file is the source of all
  78 user classes, and other class path settings are ignored.
  79 If you\[aq]re using JAR files, then see \f[B]jar\f[R].
  80 .RS
  81 .RE
  82 .TP
  83 .B \f[CB]\-m\f[R] or \f[CB]\-\-module\f[R] \f[I]module\f[R][\f[CB]/\f[R]\f[I]mainclass\f[R]]
  84 Executes the main class in a module specified by \f[I]mainclass\f[R] if
  85 it is given, or, if it is not given, the value in the \f[I]module\f[R].
  86 In other words, \f[I]mainclass\f[R] can be used when it is not specified
  87 by the module, or to override the value when it is specified.
  88 .RS
  89 .PP
  90 See \f[B]Standard Options for Java\f[R].
  91 .RE
  92 .TP
  93 .B \f[I]source\-file\f[R]
  94 Only used to launch a single source\-file program.
  95 Specifies the source file that contains the main class when using
  96 source\-file mode.
  97 See \f[B]Using Source\-File Mode to Launch Single\-File Source\-Code
  98 Programs\f[R]
  99 .RS
 100 .RE
 101 .TP
 102 .B \f[I]args\f[R] ...
 103 Optional: Arguments following \f[I]mainclass\f[R], \f[I]source\-file\f[R],
 104 \f[CB]\-jar\f[R] \f[I]jarfile\f[R], and \f[CB]\-m\f[R] or \f[CB]\-\-module\f[R]
 105 \f[I]module\f[R]\f[CB]/\f[R]\f[I]mainclass\f[R] are passed as arguments to
 106 the main class.
 107 .RS
 108 .RE
 109 .SH DESCRIPTION
 110 .PP
 111 The \f[CB]java\f[R] command starts a Java application.
 112 It does this by starting the Java Virtual Machine (JVM), loading the
 113 specified class, and calling that class\[aq]s \f[CB]main()\f[R] method.
 114 The method must be declared \f[CB]public\f[R] and \f[CB]static\f[R], it must
 115 not return any value, and it must accept a \f[CB]String\f[R] array as a
 116 parameter.
 117 The method declaration has the following form:
 118 .RS
 119 .PP
 120 \f[CB]public\ static\ void\ main(String[]\ args)\f[R]
 121 .RE
 122 .PP
 123 In source\-file mode, the \f[CB]java\f[R] command can launch a class
 124 declared in a source file.
 125 See \f[B]Using Source\-File Mode to Launch Single\-File Source\-Code
 126 Programs\f[R] for a description of using the source\-file mode.
 127 .RS
 128 .PP
 129 \f[B]Note:\f[R] You can use the \f[CB]JDK_JAVA_OPTIONS\f[R] launcher
 130 environment variable to prepend its content to the actual command line
 131 of the \f[CB]java\f[R] launcher.
 132 See \f[B]Using the JDK_JAVA_OPTIONS Launcher Environment Variable\f[R].
 133 .RE
 134 .PP
 135 By default, the first argument that isn\[aq]t an option of the
 136 \f[CB]java\f[R] command is the fully qualified name of the class to be
 137 called.
 138 If \f[CB]\-jar\f[R] is specified, then its argument is the name of the JAR
 139 file containing class and resource files for the application.
 140 The startup class must be indicated by the \f[CB]Main\-Class\f[R] manifest
 141 header in its manifest file.
 142 .PP
 143 Arguments after the class file name or the JAR file name are passed to
 144 the \f[CB]main()\f[R] method.
 145 .SS \f[CB]javaw\f[R]
 146 .PP
 147 \f[B]Windows:\f[R] The \f[CB]javaw\f[R] command is identical to
 148 \f[CB]java\f[R], except that with \f[CB]javaw\f[R] there\[aq]s no associated
 149 console window.
 150 Use \f[CB]javaw\f[R] when you don\[aq]t want a command prompt window to
 151 appear.
 152 The \f[CB]javaw\f[R] launcher will, however, display a dialog box with
 153 error information if a launch fails.
 154 .SH USING SOURCE\-FILE MODE TO LAUNCH SINGLE\-FILE SOURCE\-CODE PROGRAMS
 155 .PP
 156 To launch a class declared in a source file, run the \f[CB]java\f[R]
 157 launcher in source\-file mode.
 158 Entering source\-file mode is determined by two items on the
 159 \f[CB]java\f[R] command line:
 160 .IP \[bu] 2
 161 The first item on the command line that is not an option or part of an
 162 option.
 163 In other words, the item in the command line that would otherwise be the
 164 main class name.
 165 .IP \[bu] 2
 166 The \f[CB]\-\-source\f[R] \f[I]version\f[R] option, if present.
 167 .PP
 168 If the class identifies an existing file that has a \f[CB]\&amp;.java\f[R]
 169 extension, or if the \f[CB]\-\-source\f[R] option is specified, then
 170 source\-file mode is selected.
 171 The source file is then compiled and run.
 172 The \f[CB]\-\-source\f[R] option can be used to specify the source
 173 \f[I]version\f[R] or \f[I]N\f[R] of the source code.
 174 This determines the API that can be used.
 175 When you set \f[CB]\-\-source\f[R] \f[I]N\f[R], you can only use the public
 176 API that was defined in JDK \f[I]N\f[R].
 177 .RS
 178 .PP
 179 \f[B]Note:\f[R] The valid values of \f[I]N\f[R] change for each release,
 180 with new values added and old values removed.
 181 You\[aq]ll get an error message if you use a value of \f[I]N\f[R] that is
 182 no longer supported.
 183 The supported values of \f[I]N\f[R] are the current Java SE release
 184 (\f[CB]15\f[R]) and a limited number of previous releases, detailed in the
 185 command\-line help for \f[CB]javac\f[R], under the \f[CB]\-\-source\f[R] and
 186 \f[CB]\-\-release\f[R] options.
 187 .RE
 188 .PP
 189 If the file does not have the \f[CB]\&amp;.java\f[R] extension, the
 190 \f[CB]\-\-source\f[R] option must be used to tell the \f[CB]java\f[R]
 191 command to use the source\-file mode.
 192 The \f[CB]\-\-source\f[R] option is used for cases when the source file is
 193 a &quot;script&quot; to be executed and the name of the source file does not
 194 follow the normal naming conventions for Java source files.
 195 .PP
 196 In source\-file mode, the effect is as though the source file is
 197 compiled into memory, and the first class found in the source file is
 198 executed.
 199 Any arguments placed after the name of the source file in the original
 200 command line are passed to the compiled class when it is executed.
 201 .PP
 202 For example, if a file were named \f[CB]HelloWorld.java\f[R] and contained
 203 a class named \f[CB]hello.World\f[R], then the source\-file mode command
 204 to launch the class would be:
 205 .RS
 206 .PP
 207 \f[CB]java\ HelloWorld.java\f[R]
 208 .RE
 209 .PP
 210 The example illustrates that the class can be in a named package, and
 211 does not need to be in the unnamed package.
 212 This use of source\-file mode is informally equivalent to using the
 213 following two commands where \f[CB]hello.World\f[R] is the name of the
 214 class in the package:
 215 .IP
 216 .nf
 217 \f[CB]
 218 javac\ \-d\ &lt;memory&gt;\ HelloWorld.java
 219 java\ \-cp\ &lt;memory&gt;\ hello.World
 220 \f[R]
 221 .fi
 222 .PP
 223 \f[B]In source\-file mode, any additional command\-line options are
 224 processed as follows:\f[R]
 225 .IP \[bu] 2
 226 The launcher scans the options specified before the source file for any
 227 that are relevant in order to compile the source file.
 228 .RS 2
 229 .PP
 230 This includes: \f[CB]\-\-class\-path\f[R], \f[CB]\-\-module\-path\f[R],
 231 \f[CB]\-\-add\-exports\f[R], \f[CB]\-\-add\-modules\f[R],
 232 \f[CB]\-\-limit\-modules\f[R], \f[CB]\-\-patch\-module\f[R],
 233 \f[CB]\-\-upgrade\-module\-path\f[R], and any variant forms of those
 234 options.
 235 It also includes the new \f[CB]\-\-enable\-preview\f[R] option, described
 236 in JEP 12.
 237 .RE
 238 .IP \[bu] 2
 239 No provision is made to pass any additional options to the compiler,
 240 such as \f[CB]\-processor\f[R] or \f[CB]\-Werror\f[R].
 241 .IP \[bu] 2
 242 Command\-line argument files (\f[CB]\@\f[R]\-files) may be used in the
 243 standard way.
 244 Long lists of arguments for either the VM or the program being invoked
 245 may be placed in files specified on the command\-line by prefixing the
 246 filename with an \f[CB]\@\f[R] character.
 247 .PP
 248 \f[B]In source\-file mode, compilation proceeds as follows:\f[R]
 249 .IP \[bu] 2
 250 Any command\-line options that are relevant to the compilation
 251 environment are taken into account.
 252 .IP \[bu] 2
 253 No other source files are found and compiled, as if the source path is
 254 set to an empty value.
 255 .IP \[bu] 2
 256 Annotation processing is disabled, as if \f[CB]\-proc:none\f[R] is in
 257 effect.
 258 .IP \[bu] 2
 259 If a version is specified, via the \f[CB]\-\-source\f[R] option, the value
 260 is used as the argument for an implicit \f[CB]\-\-release\f[R] option for
 261 the compilation.
 262 This sets both the source version accepted by compiler and the system
 263 API that may be used by the code in the source file.
 264 .IP \[bu] 2
 265 The source file is compiled in the context of an unnamed module.
 266 .IP \[bu] 2
 267 The source file should contain one or more top\-level classes, the first
 268 of which is taken as the class to be executed.
 269 .IP \[bu] 2
 270 The compiler does not enforce the optional restriction defined at the
 271 end of JLS ??7.6, that a type in a named package should exist in a file
 272 whose name is composed from the type name followed by the
 273 \f[CB]\&amp;.java\f[R] extension.
 274 .IP \[bu] 2
 275 If the source file contains errors, appropriate error messages are
 276 written to the standard error stream, and the launcher exits with a
 277 non\-zero exit code.
 278 .PP
 279 \f[B]In source\-file mode, execution proceeds as follows:\f[R]
 280 .IP \[bu] 2
 281 The class to be executed is the first top\-level class found in the
 282 source file.
 283 It must contain a declaration of the standard
 284 \f[CB]public\ static\ void\ main(String[])\f[R] method.
 285 .IP \[bu] 2
 286 The compiled classes are loaded by a custom class loader, that delegates
 287 to the application class loader.
 288 This implies that classes appearing on the application class path cannot
 289 refer to any classes declared in the source file.
 290 .IP \[bu] 2
 291 The compiled classes are executed in the context of an unnamed module,
 292 as though \f[CB]\-\-add\-modules=ALL\-DEFAULT\f[R] is in effect.
 293 This is in addition to any other \f[CB]\-\-add\-module\f[R] options that
 294 may be have been specified on the command line.
 295 .IP \[bu] 2
 296 Any arguments appearing after the name of the file on the command line
 297 are passed to the standard main method in the obvious way.
 298 .IP \[bu] 2
 299 It is an error if there is a class on the application class path whose
 300 name is the same as that of the class to be executed.
 301 .PP
 302 See \f[B]JEP 330: Launch Single\-File Source\-Code Programs\f[R]
 303 [http://openjdk.java.net/jeps/330] for complete details.
 304 .SH USING THE JDK_JAVA_OPTIONS LAUNCHER ENVIRONMENT VARIABLE
 305 .PP
 306 \f[CB]JDK_JAVA_OPTIONS\f[R] prepends its content to the options parsed
 307 from the command line.
 308 The content of the \f[CB]JDK_JAVA_OPTIONS\f[R] environment variable is a
 309 list of arguments separated by white\-space characters (as determined by
 310 \f[CB]isspace()\f[R]).
 311 These are prepended to the command line arguments passed to
 312 \f[CB]java\f[R] launcher.
 313 The encoding requirement for the environment variable is the same as the
 314 \f[CB]java\f[R] command line on the system.
 315 \f[CB]JDK_JAVA_OPTIONS\f[R] environment variable content is treated in the
 316 same manner as that specified in the command line.
 317 .PP
 318 Single (\f[CB]\[aq]\f[R]) or double (\f[CB]&quot;\f[R]) quotes can be used to
 319 enclose arguments that contain whitespace characters.
 320 All content between the open quote and the first matching close quote
 321 are preserved by simply removing the pair of quotes.
 322 In case a matching quote is not found, the launcher will abort with an
 323 error message.
 324 \f[CB]\@\f[R]\-files are supported as they are specified in the command
 325 line.
 326 However, as in \f[CB]\@\f[R]\-files, use of a wildcard is not supported.
 327 In order to mitigate potential misuse of \f[CB]JDK_JAVA_OPTIONS\f[R]
 328 behavior, options that specify the main class (such as \f[CB]\-jar\f[R])
 329 or cause the \f[CB]java\f[R] launcher to exit without executing the main
 330 class (such as \f[CB]\-h\f[R]) are disallowed in the environment variable.
 331 If any of these options appear in the environment variable, the launcher
 332 will abort with an error message.
 333 When \f[CB]JDK_JAVA_OPTIONS\f[R] is set, the launcher prints a message to
 334 stderr as a reminder.
 335 .PP
 336 \f[B]Example:\f[R]
 337 .IP
 338 .nf
 339 \f[CB]
 340 $\ export\ JDK_JAVA_OPTIONS=\[aq]\-g\ \@file1\ \-Dprop=value\ \@file2\ \-Dws.prop=&quot;white\ spaces&quot;\[aq]
 341 $\ java\ \-Xint\ \@file3
 342 \f[R]
 343 .fi
 344 .PP
 345 is equivalent to the command line:
 346 .IP
 347 .nf
 348 \f[CB]
 349 java\ \-g\ \@file1\ \-Dprop=value\ \@file2\ \-Dws.prop=&quot;white\ spaces&quot;\ \-Xint\ \@file3
 350 \f[R]
 351 .fi
 352 .SH OVERVIEW OF JAVA OPTIONS
 353 .PP
 354 The \f[CB]java\f[R] command supports a wide range of options in the
 355 following categories:
 356 .IP \[bu] 2
 357 \f[B]Standard Options for Java\f[R]: Options guaranteed to be supported
 358 by all implementations of the Java Virtual Machine (JVM).
 359 They\[aq]re used for common actions, such as checking the version of the
 360 JRE, setting the class path, enabling verbose output, and so on.
 361 .IP \[bu] 2
 362 \f[B]Extra Options for Java\f[R]: General purpose options that are
 363 specific to the Java HotSpot Virtual Machine.
 364 They aren\[aq]t guaranteed to be supported by all JVM implementations,
 365 and are subject to change.
 366 These options start with \f[CB]\-X\f[R].
 367 .PP
 368 The advanced options aren\[aq]t recommended for casual use.
 369 These are developer options used for tuning specific areas of the Java
 370 HotSpot Virtual Machine operation that often have specific system
 371 requirements and may require privileged access to system configuration
 372 parameters.
 373 Several examples of performance tuning are provided in \f[B]Performance
 374 Tuning Examples\f[R].
 375 These options aren\[aq]t guaranteed to be supported by all JVM
 376 implementations and are subject to change.
 377 Advanced options start with \f[CB]\-XX\f[R].
 378 .IP \[bu] 2
 379 \f[B]Advanced Runtime Options for Java\f[R]: Control the runtime behavior
 380 of the Java HotSpot VM.
 381 .IP \[bu] 2
 382 \f[B]Advanced JIT Compiler Options for java\f[R]: Control the dynamic
 383 just\-in\-time (JIT) compilation performed by the Java HotSpot VM.
 384 .IP \[bu] 2
 385 \f[B]Advanced Serviceability Options for Java\f[R]: Enable gathering
 386 system information and performing extensive debugging.
 387 .IP \[bu] 2
 388 \f[B]Advanced Garbage Collection Options for Java\f[R]: Control how
 389 garbage collection (GC) is performed by the Java HotSpot
 390 .PP
 391 Boolean options are used to either enable a feature that\[aq]s disabled
 392 by default or disable a feature that\[aq]s enabled by default.
 393 Such options don\[aq]t require a parameter.
 394 Boolean \f[CB]\-XX\f[R] options are enabled using the plus sign
 395 (\f[CB]\-XX:+\f[R]\f[I]OptionName\f[R]) and disabled using the minus sign
 396 (\f[CB]\-XX:\-\f[R]\f[I]OptionName\f[R]).
 397 .PP
 398 For options that require an argument, the argument may be separated from
 399 the option name by a space, a colon (:), or an equal sign (=), or the
 400 argument may directly follow the option (the exact syntax differs for
 401 each option).
 402 If you\[aq]re expected to specify the size in bytes, then you can use no
 403 suffix, or use the suffix \f[CB]k\f[R] or \f[CB]K\f[R] for kilobytes (KB),
 404 \f[CB]m\f[R] or \f[CB]M\f[R] for megabytes (MB), or \f[CB]g\f[R] or \f[CB]G\f[R]
 405 for gigabytes (GB).
 406 For example, to set the size to 8 GB, you can specify either
 407 \f[CB]8g\f[R], \f[CB]8192m\f[R], \f[CB]8388608k\f[R], or \f[CB]8589934592\f[R]
 408 as the argument.
 409 If you are expected to specify the percentage, then use a number from 0
 410 to 1.
 411 For example, specify \f[CB]0.25\f[R] for 25%.
 412 .PP
 413 The following sections describe the options that are obsolete,
 414 deprecated, and removed:
 415 .IP \[bu] 2
 416 \f[B]Deprecated Java Options\f[R]: Accepted and acted upon \-\-\- a
 417 warning is issued when they\[aq]re used.
 418 .IP \[bu] 2
 419 \f[B]Obsolete Java Options\f[R]: Accepted but ignored \-\-\- a warning is
 420 issued when they\[aq]re used.
 421 .IP \[bu] 2
 422 \f[B]Removed Java Options\f[R]: Removed \-\-\- using them results in an
 423 error.
 424 .SH STANDARD OPTIONS FOR JAVA
 425 .PP
 426 These are the most commonly used options supported by all
 427 implementations of the JVM.
 428 .RS
 429 .PP
 430 \f[B]Note:\f[R] To specify an argument for a long option, you can use
 431 either \f[CB]\-\-\f[R]\f[I]name\f[R]\f[CB]=\f[R]\f[I]value\f[R] or
 432 \f[CB]\-\-\f[R]\f[I]name\f[R] \f[I]value\f[R].
 433 .RE
 434 .TP
 435 .B \f[CB]\-agentlib:\f[R]\f[I]libname\f[R][\f[CB]=\f[R]\f[I]options\f[R]]
 436 Loads the specified native agent library.
 437 After the library name, a comma\-separated list of options specific to
 438 the library can be used.
 439 .RS
 440 .IP \[bu] 2
 441 \f[B]Linux and macOS:\f[R] If the option \f[CB]\-agentlib:foo\f[R] is
 442 specified, then the JVM attempts to load the library named
 443 \f[CB]libfoo.so\f[R] in the location specified by the
 444 \f[CB]LD_LIBRARY_PATH\f[R] system variable (on macOS this variable is
 445 \f[CB]DYLD_LIBRARY_PATH\f[R]).
 446 .IP \[bu] 2
 447 \f[B]Windows:\f[R] If the option \f[CB]\-agentlib:foo\f[R] is specified,
 448 then the JVM attempts to load the library named \f[CB]foo.dll\f[R] in the
 449 location specified by the \f[CB]PATH\f[R] system variable.
 450 .RS 2
 451 .PP
 452 The following example shows how to load the Java Debug Wire Protocol
 453 (JDWP) library and listen for the socket connection on port 8000,
 454 suspending the JVM before the main class loads:
 455 .RS
 456 .PP
 457 \f[CB]\-agentlib:jdwp=transport=dt_socket,server=y,address=8000\f[R]
 458 .RE
 459 .RE
 460 .RE
 461 .TP
 462 .B \f[CB]\-agentpath:\f[R]\f[I]pathname\f[R][\f[CB]=\f[R]\f[I]options\f[R]]
 463 Loads the native agent library specified by the absolute path name.
 464 This option is equivalent to \f[CB]\-agentlib\f[R] but uses the full path
 465 and file name of the library.
 466 .RS
 467 .RE
 468 .TP
 469 .B \f[CB]\-\-class\-path\f[R] \f[I]classpath\f[R], \f[CB]\-classpath\f[R] \f[I]classpath\f[R], or \f[CB]\-cp\f[R] \f[I]classpath\f[R]
 470 A semicolon (\f[CB];\f[R]) separated list of directories, JAR archives,
 471 and ZIP archives to search for class files.
 472 .RS
 473 .PP
 474 Specifying \f[I]classpath\f[R] overrides any setting of the
 475 \f[CB]CLASSPATH\f[R] environment variable.
 476 If the class path option isn\[aq]t used and \f[I]classpath\f[R] isn\[aq]t
 477 set, then the user class path consists of the current directory (.).
 478 .PP
 479 As a special convenience, a class path element that contains a base name
 480 of an asterisk (*) is considered equivalent to specifying a list of all
 481 the files in the directory with the extension \f[CB]\&amp;.jar\f[R] or
 482 \f[CB]\&amp;.JAR\f[R] .
 483 A Java program can\[aq]t tell the difference between the two
 484 invocations.
 485 For example, if the directory mydir contains \f[CB]a.jar\f[R] and
 486 \f[CB]b.JAR\f[R], then the class path element mydir/* is expanded to
 487 \f[CB]A.jar:b.JAR\f[R], except that the order of JAR files is unspecified.
 488 All \f[CB]\&amp;.jar\f[R] files in the specified directory, even hidden ones,
 489 are included in the list.
 490 A class path entry consisting of an asterisk (*) expands to a list of
 491 all the jar files in the current directory.
 492 The \f[CB]CLASSPATH\f[R] environment variable, where defined, is similarly
 493 expanded.
 494 Any class path wildcard expansion that occurs before the Java VM is
 495 started.
 496 Java programs never see wildcards that aren\[aq]t expanded except by
 497 querying the environment, such as by calling
 498 \f[CB]System.getenv(&quot;CLASSPATH&quot;)\f[R].
 499 .RE
 500 .TP
 501 .B \f[CB]\-\-disable\-\@files\f[R]
 502 Can be used anywhere on the command line, including in an argument file,
 503 to prevent further \f[CB]\@filename\f[R] expansion.
 504 This option stops expanding \f[CB]\@\f[R]\-argfiles after the option.
 505 .RS
 506 .RE
 507 .TP
 508 .B \f[CB]\-\-enable\-preview\f[R]
 509 Allows classes to depend on \f[B]preview features\f[R]
 510 [https://docs.oracle.com/en/java/javase/12/language/index.html#JSLAN\-GUID\-5A82FE0E\-0CA4\-4F1F\-B075\-564874FE2823]
 511 of the release.
 512 .RS
 513 .RE
 514 .TP
 515 .B \f[CB]\-\-module\-path\f[R] \f[I]modulepath\f[R]... or \f[CB]\-p\f[R] \f[I]modulepath\f[R]
 516 A semicolon (\f[CB];\f[R]) separated list of directories in which each
 517 directory is a directory of modules.
 518 .RS
 519 .RE
 520 .TP
 521 .B \f[CB]\-\-upgrade\-module\-path\f[R] \f[I]modulepath\f[R]...
 522 A semicolon (\f[CB];\f[R]) separated list of directories in which each
 523 directory is a directory of modules that replace upgradeable modules in
 524 the runtime image.
 525 .RS
 526 .RE
 527 .TP
 528 .B \f[CB]\-\-add\-modules\f[R] \f[I]module\f[R][\f[CB],\f[R]\f[I]module\f[R]...]
 529 Specifies the root modules to resolve in addition to the initial module.
 530 \f[I]module\f[R] also can be \f[CB]ALL\-DEFAULT\f[R], \f[CB]ALL\-SYSTEM\f[R],
 531 and \f[CB]ALL\-MODULE\-PATH\f[R].
 532 .RS
 533 .RE
 534 .TP
 535 .B \f[CB]\-\-list\-modules\f[R]
 536 Lists the observable modules and then exits.
 537 .RS
 538 .RE
 539 .TP
 540 .B \f[CB]\-d\f[R] \f[I]module_name\f[R] or \f[CB]\-\-describe\-module\f[R] \f[I]module_name\f[R]
 541 Describes a specified module and then exits.
 542 .RS
 543 .RE
 544 .TP
 545 .B \f[CB]\-\-dry\-run\f[R]
 546 Creates the VM but doesn\[aq]t execute the main method.
 547 This \f[CB]\-\-dry\-run\f[R] option might be useful for validating the
 548 command\-line options such as the module system configuration.
 549 .RS
 550 .RE
 551 .TP
 552 .B \f[CB]\-\-validate\-modules\f[R]
 553 Validates all modules and exit.
 554 This option is helpful for finding conflicts and other errors with
 555 modules on the module path.
 556 .RS
 557 .RE
 558 .TP
 559 .B \f[CB]\-D\f[R]\f[I]property\f[R]\f[CB]=\f[R]\f[I]value\f[R]
 560 Sets a system property value.
 561 The \f[I]property\f[R] variable is a string with no spaces that
 562 represents the name of the property.
 563 The \f[I]value\f[R] variable is a string that represents the value of the
 564 property.
 565 If \f[I]value\f[R] is a string with spaces, then enclose it in quotation
 566 marks (for example \f[CB]\-Dfoo=&quot;foo\ bar&quot;\f[R]).
 567 .RS
 568 .RE
 569 .TP
 570 .B \f[CB]\-disableassertions\f[R][\f[CB]:\f[R][\f[I]packagename\f[R]]...|\f[CB]:\f[R]\f[I]classname\f[R]] or \f[CB]\-da\f[R][\f[CB]:\f[R][\f[I]packagename\f[R]]...|\f[CB]:\f[R]\f[I]classname\f[R]]
 571 Disables assertions.
 572 By default, assertions are disabled in all packages and classes.
 573 With no arguments, \f[CB]\-disableassertions\f[R] (\f[CB]\-da\f[R]) disables
 574 assertions in all packages and classes.
 575 With the \f[I]packagename\f[R] argument ending in \f[CB]\&amp;...\f[R], the
 576 switch disables assertions in the specified package and any subpackages.
 577 If the argument is simply \f[CB]\&amp;...\f[R], then the switch disables
 578 assertions in the unnamed package in the current working directory.
 579 With the \f[I]classname\f[R] argument, the switch disables assertions in
 580 the specified class.
 581 .RS
 582 .PP
 583 The \f[CB]\-disableassertions\f[R] (\f[CB]\-da\f[R]) option applies to all
 584 class loaders and to system classes (which don\[aq]t have a class
 585 loader).
 586 There\[aq]s one exception to this rule: If the option is provided with
 587 no arguments, then it doesn\[aq]t apply to system classes.
 588 This makes it easy to disable assertions in all classes except for
 589 system classes.
 590 The \f[CB]\-disablesystemassertions\f[R] option enables you to disable
 591 assertions in all system classes.
 592 To explicitly enable assertions in specific packages or classes, use the
 593 \f[CB]\-enableassertions\f[R] (\f[CB]\-ea\f[R]) option.
 594 Both options can be used at the same time.
 595 For example, to run the \f[CB]MyClass\f[R] application with assertions
 596 enabled in the package \f[CB]com.wombat.fruitbat\f[R] (and any
 597 subpackages) but disabled in the class
 598 \f[CB]com.wombat.fruitbat.Brickbat\f[R], use the following command:
 599 .RS
 600 .PP
 601 \f[CB]java\ \-ea:com.wombat.fruitbat...\ \-da:com.wombat.fruitbat.Brickbat\ MyClass\f[R]
 602 .RE
 603 .RE
 604 .TP
 605 .B \f[CB]\-disablesystemassertions\f[R] or \f[CB]\-dsa\f[R]
 606 Disables assertions in all system classes.
 607 .RS
 608 .RE
 609 .TP
 610 .B \f[CB]\-enableassertions\f[R][\f[CB]:\f[R][\f[I]packagename\f[R]]...|\f[CB]:\f[R]\f[I]classname\f[R]] or \f[CB]\-ea\f[R][\f[CB]:\f[R][\f[I]packagename\f[R]]...|\f[CB]:\f[R]\f[I]classname\f[R]]
 611 Enables assertions.
 612 By default, assertions are disabled in all packages and classes.
 613 With no arguments, \f[CB]\-enableassertions\f[R] (\f[CB]\-ea\f[R]) enables
 614 assertions in all packages and classes.
 615 With the \f[I]packagename\f[R] argument ending in \f[CB]\&amp;...\f[R], the
 616 switch enables assertions in the specified package and any subpackages.
 617 If the argument is simply \f[CB]\&amp;...\f[R], then the switch enables
 618 assertions in the unnamed package in the current working directory.
 619 With the \f[I]classname\f[R] argument, the switch enables assertions in
 620 the specified class.
 621 .RS
 622 .PP
 623 The \f[CB]\-enableassertions\f[R] (\f[CB]\-ea\f[R]) option applies to all
 624 class loaders and to system classes (which don\[aq]t have a class
 625 loader).
 626 There\[aq]s one exception to this rule: If the option is provided with
 627 no arguments, then it doesn\[aq]t apply to system classes.
 628 This makes it easy to enable assertions in all classes except for system
 629 classes.
 630 The \f[CB]\-enablesystemassertions\f[R] option provides a separate switch
 631 to enable assertions in all system classes.
 632 To explicitly disable assertions in specific packages or classes, use
 633 the \f[CB]\-disableassertions\f[R] (\f[CB]\-da\f[R]) option.
 634 If a single command contains multiple instances of these switches, then
 635 they\[aq]re processed in order, before loading any classes.
 636 For example, to run the \f[CB]MyClass\f[R] application with assertions
 637 enabled only in the package \f[CB]com.wombat.fruitbat\f[R] (and any
 638 subpackages) but disabled in the class
 639 \f[CB]com.wombat.fruitbat.Brickbat\f[R], use the following command:
 640 .RS
 641 .PP
 642 \f[CB]java\ \-ea:com.wombat.fruitbat...\ \-da:com.wombat.fruitbat.Brickbat\ MyClass\f[R]
 643 .RE
 644 .RE
 645 .TP
 646 .B \f[CB]\-enablesystemassertions\f[R] or \f[CB]\-esa\f[R]
 647 Enables assertions in all system classes.
 648 .RS
 649 .RE
 650 .TP
 651 .B \f[CB]\-help\f[R], \f[CB]\-h\f[R], or \f[CB]\-?\f[R]
 652 Prints the help message to the error stream.
 653 .RS
 654 .RE
 655 .TP
 656 .B \f[CB]\-\-help\f[R]
 657 Prints the help message to the output stream.
 658 .RS
 659 .RE
 660 .TP
 661 .B \f[CB]\-javaagent:\f[R]\f[I]jarpath\f[R][\f[CB]=\f[R]\f[I]options\f[R]]
 662 Loads the specified Java programming language agent.
 663 See \f[CB]java.lang.instrument\f[R].
 664 .RS
 665 .RE
 666 .TP
 667 .B \f[CB]\-\-show\-version\f[R]
 668 Prints the product version to the output stream and continues.
 669 .RS
 670 .RE
 671 .TP
 672 .B \f[CB]\-showversion\f[R]
 673 Prints the product version to the error stream and continues.
 674 .RS
 675 .RE
 676 .TP
 677 .B \f[CB]\-\-show\-module\-resolution\f[R]
 678 Shows module resolution output during startup.
 679 .RS
 680 .RE
 681 .TP
 682 .B \f[CB]\-splash:\f[R]\f[I]imagepath\f[R]
 683 Shows the splash screen with the image specified by \f[I]imagepath\f[R].
 684 HiDPI scaled images are automatically supported and used if available.
 685 The unscaled image file name, such as \f[CB]image.ext\f[R], should always
 686 be passed as the argument to the \f[CB]\-splash\f[R] option.
 687 The most appropriate scaled image provided is picked up automatically.
 688 .RS
 689 .PP
 690 For example, to show the \f[CB]splash.gif\f[R] file from the
 691 \f[CB]images\f[R] directory when starting your application, use the
 692 following option:
 693 .RS
 694 .PP
 695 \f[CB]\-splash:images/splash.gif\f[R]
 696 .RE
 697 .PP
 698 See the SplashScreen API documentation for more information.
 699 .RE
 700 .TP
 701 .B \f[CB]\-verbose:class\f[R]
 702 Displays information about each loaded class.
 703 .RS
 704 .RE
 705 .TP
 706 .B \f[CB]\-verbose:gc\f[R]
 707 Displays information about each garbage collection (GC) event.
 708 .RS
 709 .RE
 710 .TP
 711 .B \f[CB]\-verbose:jni\f[R]
 712 Displays information about the use of native methods and other Java
 713 Native Interface (JNI) activity.
 714 .RS
 715 .RE
 716 .TP
 717 .B \f[CB]\-verbose:module\f[R]
 718 Displays information about the modules in use.
 719 .RS
 720 .RE
 721 .TP
 722 .B \f[CB]\-\-version\f[R]
 723 Prints product version to the output stream and exits.
 724 .RS
 725 .RE
 726 .TP
 727 .B \f[CB]\-version\f[R]
 728 Prints product version to the error stream and exits.
 729 .RS
 730 .RE
 731 .TP
 732 .B \f[CB]\-X\f[R]
 733 Prints the help on extra options to the error stream.
 734 .RS
 735 .RE
 736 .TP
 737 .B \f[CB]\-\-help\-extra\f[R]
 738 Prints the help on extra options to the output stream.
 739 .RS
 740 .RE
 741 .TP
 742 .B \f[CB]\@\f[R]\f[I]argfile\f[R]
 743 Specifies one or more argument files prefixed by \f[CB]\@\f[R] used by the
 744 \f[CB]java\f[R] command.
 745 It isn\[aq]t uncommon for the \f[CB]java\f[R] command line to be very long
 746 because of the \f[CB]\&amp;.jar\f[R] files needed in the classpath.
 747 The \f[CB]\@\f[R]\f[I]argfile\f[R] option overcomes command\-line length
 748 limitations by enabling the launcher to expand the contents of argument
 749 files after shell expansion, but before argument processing.
 750 Contents in the argument files are expanded because otherwise, they
 751 would be specified on the command line until the
 752 \f[CB]\-\-disable\-\@files\f[R] option was encountered.
 753 .RS
 754 .PP
 755 The argument files can also contain the main class name and all options.
 756 If an argument file contains all of the options required by the
 757 \f[CB]java\f[R] command, then the command line could simply be:
 758 .RS
 759 .PP
 760 \f[CB]java\ \@\f[R]\f[I]argfile\f[R]
 761 .RE
 762 .PP
 763 See \f[B]java Command\-Line Argument Files\f[R] for a description and
 764 examples of using \f[CB]\@\f[R]\-argfiles.
 765 .RE
 766 .SH EXTRA OPTIONS FOR JAVA
 767 .PP
 768 The following \f[CB]java\f[R] options are general purpose options that are
 769 specific to the Java HotSpot Virtual Machine.
 770 .TP
 771 .B \f[CB]\-Xbatch\f[R]
 772 Disables background compilation.
 773 By default, the JVM compiles the method as a background task, running
 774 the method in interpreter mode until the background compilation is
 775 finished.
 776 The \f[CB]\-Xbatch\f[R] flag disables background compilation so that
 777 compilation of all methods proceeds as a foreground task until
 778 completed.
 779 This option is equivalent to \f[CB]\-XX:\-BackgroundCompilation\f[R].
 780 .RS
 781 .RE
 782 .TP
 783 .B \f[CB]\-Xbootclasspath/a:\f[R]\f[I]directories\f[R]|\f[I]zip\f[R]|\f[I]JAR\-files\f[R]
 784 Specifies a list of directories, JAR files, and ZIP archives to append
 785 to the end of the default bootstrap class path.
 786 .RS
 787 .PP
 788 \f[B]Linux and macOS:\f[R] Colons (\f[CB]:\f[R]) separate entities in this
 789 list.
 790 .PP
 791 \f[B]Windows:\f[R] Semicolons (\f[CB];\f[R]) separate entities in this
 792 list.
 793 .RE
 794 .TP
 795 .B \f[CB]\-Xcheck:jni\f[R]
 796 Performs additional checks for Java Native Interface (JNI) functions.
 797 Specifically, it validates the parameters passed to the JNI function and
 798 the runtime environment data before processing the JNI request.
 799 It also checks for pending exceptions between JNI calls.
 800 Any invalid data encountered indicates a problem in the native code, and
 801 the JVM terminates with an irrecoverable error in such cases.
 802 Expect a performance degradation when this option is used.
 803 .RS
 804 .RE
 805 .TP
 806 .B \f[CB]\-Xdebug\f[R]
 807 Does nothing.
 808 Provided for backward compatibility.
 809 .RS
 810 .RE
 811 .TP
 812 .B \f[CB]\-Xdiag\f[R]
 813 Shows additional diagnostic messages.
 814 .RS
 815 .RE
 816 .TP
 817 .B \f[CB]\-Xint\f[R]
 818 Runs the application in interpreted\-only mode.
 819 Compilation to native code is disabled, and all bytecode is executed by
 820 the interpreter.
 821 The performance benefits offered by the just\-in\-time (JIT) compiler
 822 aren\[aq]t present in this mode.
 823 .RS
 824 .RE
 825 .TP
 826 .B \f[CB]\-Xinternalversion\f[R]
 827 Displays more detailed JVM version information than the
 828 \f[CB]\-version\f[R] option, and then exits.
 829 .RS
 830 .RE
 831 .TP
 832 .B \f[CB]\-Xlog:\f[R]\f[I]option\f[R]
 833 Configure or enable logging with the Java Virtual Machine (JVM) unified
 834 logging framework.
 835 See \f[B]Enable Logging with the JVM Unified Logging Framework\f[R].
 836 .RS
 837 .RE
 838 .TP
 839 .B \f[CB]\-Xmixed\f[R]
 840 Executes all bytecode by the interpreter except for hot methods, which
 841 are compiled to native code.
 842 On by default.
 843 Use \f[CB]\-Xint\f[R] to switch off.
 844 .RS
 845 .RE
 846 .TP
 847 .B \f[CB]\-Xmn\f[R] \f[I]size\f[R]
 848 Sets the initial and maximum size (in bytes) of the heap for the young
 849 generation (nursery) in the generational collectors.
 850 Append the letter \f[CB]k\f[R] or \f[CB]K\f[R] to indicate kilobytes,
 851 \f[CB]m\f[R] or \f[CB]M\f[R] to indicate megabytes, or \f[CB]g\f[R] or
 852 \f[CB]G\f[R] to indicate gigabytes.
 853 The young generation region of the heap is used for new objects.
 854 GC is performed in this region more often than in other regions.
 855 If the size for the young generation is too small, then a lot of minor
 856 garbage collections are performed.
 857 If the size is too large, then only full garbage collections are
 858 performed, which can take a long time to complete.
 859 It is recommended that you do not set the size for the young generation
 860 for the G1 collector, and keep the size for the young generation greater
 861 than 25% and less than 50% of the overall heap size for other
 862 collectors.
 863 The following examples show how to set the initial and maximum size of
 864 young generation to 256 MB using various units:
 865 .RS
 866 .IP
 867 .nf
 868 \f[CB]
 869 \-Xmn256m
 870 \-Xmn262144k
 871 \-Xmn268435456
 872 \f[R]
 873 .fi
 874 .PP
 875 Instead of the \f[CB]\-Xmn\f[R] option to set both the initial and maximum
 876 size of the heap for the young generation, you can use
 877 \f[CB]\-XX:NewSize\f[R] to set the initial size and
 878 \f[CB]\-XX:MaxNewSize\f[R] to set the maximum size.
 879 .RE
 880 .TP
 881 .B \f[CB]\-Xms\f[R] \f[I]size\f[R]
 882 Sets the minimum and initial size (in bytes) of the heap.
 883 This value must be a multiple of 1024 and greater than 1 MB.
 884 Append the letter \f[CB]k\f[R] or \f[CB]K\f[R] to indicate kilobytes,
 885 \f[CB]m\f[R] or \f[CB]M\f[R] to indicate megabytes, \f[CB]g\f[R] or \f[CB]G\f[R]
 886 to indicate gigabytes.
 887 The following examples show how to set the size of allocated memory to 6
 888 MB using various units:
 889 .RS
 890 .IP
 891 .nf
 892 \f[CB]
 893 \-Xms6291456
 894 \-Xms6144k
 895 \-Xms6m
 896 \f[R]
 897 .fi
 898 .PP
 899 Instead of the \f[CB]\-Xms\f[R] option to set both the minimum and initial
 900 size of the heap, you can use \f[CB]\-XX:MinHeapSize\f[R] to set the
 901 minimum size and \f[CB]\-XX:InitialHeapSize\f[R] to set the initial size.
 902 .PP
 903 If you don\[aq]t set this option, the initial size is set as the sum of
 904 the sizes allocated for the old generation and the young generation.
 905 The initial size of the heap for the young generation can be set using
 906 the \f[CB]\-Xmn\f[R] option or the \f[CB]\-XX:NewSize\f[R] option.
 907 .RE
 908 .TP
 909 .B \f[CB]\-Xmx\f[R] \f[I]size\f[R]
 910 Specifies the maximum size (in bytes) of the heap.
 911 This value must be a multiple of 1024 and greater than 2 MB.
 912 Append the letter \f[CB]k\f[R] or \f[CB]K\f[R] to indicate kilobytes,
 913 \f[CB]m\f[R] or \f[CB]M\f[R] to indicate megabytes, or \f[CB]g\f[R] or
 914 \f[CB]G\f[R] to indicate gigabytes.
 915 The default value is chosen at runtime based on system configuration.
 916 For server deployments, \f[CB]\-Xms\f[R] and \f[CB]\-Xmx\f[R] are often set
 917 to the same value.
 918 The following examples show how to set the maximum allowed size of
 919 allocated memory to 80 MB using various units:
 920 .RS
 921 .IP
 922 .nf
 923 \f[CB]
 924 \-Xmx83886080
 925 \-Xmx81920k
 926 \-Xmx80m
 927 \f[R]
 928 .fi
 929 .PP
 930 The \f[CB]\-Xmx\f[R] option is equivalent to \f[CB]\-XX:MaxHeapSize\f[R].
 931 .RE
 932 .TP
 933 .B \f[CB]\-Xnoclassgc\f[R]
 934 Disables garbage collection (GC) of classes.
 935 This can save some GC time, which shortens interruptions during the
 936 application run.
 937 When you specify \f[CB]\-Xnoclassgc\f[R] at startup, the class objects in
 938 the application are left untouched during GC and are always be
 939 considered live.
 940 This can result in more memory being permanently occupied which, if not
 941 used carefully, throws an out\-of\-memory exception.
 942 .RS
 943 .RE
 944 .TP
 945 .B \f[CB]\-Xrs\f[R]
 946 Reduces the use of operating system signals by the JVM.
 947 Shutdown hooks enable the orderly shutdown of a Java application by
 948 running user cleanup code (such as closing database connections) at
 949 shutdown, even if the JVM terminates abruptly.
 950 .RS
 951 .IP \[bu] 2
 952 \f[B]Linux and macOS:\f[R]
 953 .RS 2
 954 .IP \[bu] 2
 955 The JVM catches signals to implement shutdown hooks for unexpected
 956 termination.
 957 The JVM uses \f[CB]SIGHUP\f[R], \f[CB]SIGINT\f[R], and \f[CB]SIGTERM\f[R] to
 958 initiate the running of shutdown hooks.
 959 .IP \[bu] 2
 960 Applications embedding the JVM frequently need to trap signals such as
 961 \f[CB]SIGINT\f[R] or \f[CB]SIGTERM\f[R], which can lead to interference with
 962 the JVM signal handlers.
 963 The \f[CB]\-Xrs\f[R] option is available to address this issue.
 964 When \f[CB]\-Xrs\f[R] is used, the signal masks for \f[CB]SIGINT\f[R],
 965 \f[CB]SIGTERM\f[R], \f[CB]SIGHUP\f[R], and \f[CB]SIGQUIT\f[R] aren\[aq]t
 966 changed by the JVM, and signal handlers for these signals aren\[aq]t
 967 installed.
 968 .RE
 969 .IP \[bu] 2
 970 \f[B]Windows:\f[R]
 971 .RS 2
 972 .IP \[bu] 2
 973 The JVM watches for console control events to implement shutdown hooks
 974 for unexpected termination.
 975 Specifically, the JVM registers a console control handler that begins
 976 shutdown\-hook processing and returns \f[CB]TRUE\f[R] for
 977 \f[CB]CTRL_C_EVENT\f[R], \f[CB]CTRL_CLOSE_EVENT\f[R],
 978 \f[CB]CTRL_LOGOFF_EVENT\f[R], and \f[CB]CTRL_SHUTDOWN_EVENT\f[R].
 979 .IP \[bu] 2
 980 The JVM uses a similar mechanism to implement the feature of dumping
 981 thread stacks for debugging purposes.
 982 The JVM uses \f[CB]CTRL_BREAK_EVENT\f[R] to perform thread dumps.
 983 .IP \[bu] 2
 984 If the JVM is run as a service (for example, as a servlet engine for a
 985 web server), then it can receive \f[CB]CTRL_LOGOFF_EVENT\f[R] but
 986 shouldn\[aq]t initiate shutdown because the operating system doesn\[aq]t
 987 actually terminate the process.
 988 To avoid possible interference such as this, the \f[CB]\-Xrs\f[R] option
 989 can be used.
 990 When the \f[CB]\-Xrs\f[R] option is used, the JVM doesn\[aq]t install a
 991 console control handler, implying that it doesn\[aq]t watch for or
 992 process \f[CB]CTRL_C_EVENT\f[R], \f[CB]CTRL_CLOSE_EVENT\f[R],
 993 \f[CB]CTRL_LOGOFF_EVENT\f[R], or \f[CB]CTRL_SHUTDOWN_EVENT\f[R].
 994 .RE
 995 .PP
 996 There are two consequences of specifying \f[CB]\-Xrs\f[R]:
 997 .IP \[bu] 2
 998 \f[B]Linux and macOS:\f[R] \f[CB]SIGQUIT\f[R] thread dumps aren\[aq]t
 999 available.
1000 .IP \[bu] 2
1001 \f[B]Windows:\f[R] Ctrl + Break thread dumps aren\[aq]t available.
1002 .PP
1003 User code is responsible for causing shutdown hooks to run, for example,
1004 by calling the \f[CB]System.exit()\f[R] when the JVM is to be terminated.
1005 .RE
1006 .TP
1007 .B \f[CB]\-Xshare:\f[R]\f[I]mode\f[R]
1008 Sets the class data sharing (CDS) mode.
1009 .RS
1010 .PP
1011 Possible \f[I]mode\f[R] arguments for this option include the following:
1012 .TP
1013 .B \f[CB]auto\f[R]
1014 Use shared class data if possible (default).
1015 .RS
1016 .RE
1017 .TP
1018 .B \f[CB]on\f[R]
1019 Require using shared class data, otherwise fail.
1020 .RS
1021 .RE
1022 .RS
1023 .PP
1024 \f[B]Note:\f[R] The \f[CB]\-Xshare:on\f[R] option is used for testing
1025 purposes only and may cause intermittent failures due to the use of
1026 address space layout randomization by the operation system.
1027 This option should not be used in production environments.
1028 .RE
1029 .TP
1030 .B \f[CB]off\f[R]
1031 Do not attempt to use shared class data.
1032 .RS
1033 .RE
1034 .RE
1035 .TP
1036 .B \f[CB]\-XshowSettings\f[R]
1037 Shows all settings and then continues.
1038 .RS
1039 .RE
1040 .TP
1041 .B \f[CB]\-XshowSettings:\f[R]\f[I]category\f[R]
1042 Shows settings and continues.
1043 Possible \f[I]category\f[R] arguments for this option include the
1044 following:
1045 .RS
1046 .TP
1047 .B \f[CB]all\f[R]
1048 Shows all categories of settings.
1049 This is the default value.
1050 .RS
1051 .RE
1052 .TP
1053 .B \f[CB]locale\f[R]
1054 Shows settings related to locale.
1055 .RS
1056 .RE
1057 .TP
1058 .B \f[CB]properties\f[R]
1059 Shows settings related to system properties.
1060 .RS
1061 .RE
1062 .TP
1063 .B \f[CB]vm\f[R]
1064 Shows the settings of the JVM.
1065 .RS
1066 .RE
1067 .TP
1068 .B \f[CB]system\f[R]
1069 \f[B]Linux:\f[R] Shows host system or container configuration and
1070 continues.
1071 .RS
1072 .RE
1073 .RE
1074 .TP
1075 .B \f[CB]\-Xss\f[R] \f[I]size\f[R]
1076 Sets the thread stack size (in bytes).
1077 Append the letter \f[CB]k\f[R] or \f[CB]K\f[R] to indicate KB, \f[CB]m\f[R] or
1078 \f[CB]M\f[R] to indicate MB, or \f[CB]g\f[R] or \f[CB]G\f[R] to indicate GB.
1079 The default value depends on the platform:
1080 .RS
1081 .IP \[bu] 2
1082 Linux/x64 (64\-bit): 1024 KB
1083 .IP \[bu] 2
1084 macOS (64\-bit): 1024 KB
1085 .IP \[bu] 2
1086 Windows: The default value depends on virtual memory
1087 .PP
1088 The following examples set the thread stack size to 1024 KB in different
1089 units:
1090 .IP
1091 .nf
1092 \f[CB]
1093 \-Xss1m
1094 \-Xss1024k
1095 \-Xss1048576
1096 \f[R]
1097 .fi
1098 .PP
1099 This option is similar to \f[CB]\-XX:ThreadStackSize\f[R].
1100 .RE
1101 .TP
1102 .B \f[CB]\-\-add\-reads\f[R] \f[I]module\f[R]\f[CB]=\f[R]\f[I]target\-module\f[R](\f[CB],\f[R]\f[I]target\-module\f[R])*
1103 Updates \f[I]module\f[R] to read the \f[I]target\-module\f[R], regardless
1104 of the module declaration.
1105 \f[I]target\-module\f[R] can be all unnamed to read all unnamed modules.
1106 .RS
1107 .RE
1108 .TP
1109 .B \f[CB]\-\-add\-exports\f[R] \f[I]module\f[R]\f[CB]/\f[R]\f[I]package\f[R]\f[CB]=\f[R]\f[I]target\-module\f[R](\f[CB],\f[R]\f[I]target\-module\f[R])*
1110 Updates \f[I]module\f[R] to export \f[I]package\f[R] to
1111 \f[I]target\-module\f[R], regardless of module declaration.
1112 The \f[I]target\-module\f[R] can be all unnamed to export to all unnamed
1113 modules.
1114 .RS
1115 .RE
1116 .TP
1117 .B \f[CB]\-\-add\-opens\f[R] \f[I]module\f[R]\f[CB]/\f[R]\f[I]package\f[R]\f[CB]=\f[R]\f[I]target\-module\f[R](\f[CB],\f[R]\f[I]target\-module\f[R])*
1118 Updates \f[I]module\f[R] to open \f[I]package\f[R] to
1119 \f[I]target\-module\f[R], regardless of module declaration.
1120 .RS
1121 .RE
1122 .TP
1123 .B \f[CB]\-\-illegal\-access=\f[R]\f[I]parameter\f[R]
1124 When present at run time, \f[CB]\-\-illegal\-access=\f[R] takes a keyword
1125 \f[I]parameter\f[R] to specify a mode of operation:
1126 .RS
1127 .RS
1128 .PP
1129 \f[B]Note:\f[R] This option will be removed in a future release.
1130 .RE
1131 .IP \[bu] 2
1132 \f[CB]permit\f[R]: This mode opens each package in each module in the
1133 run\-time image to code in all unnamed modules ( such as code on the
1134 class path), if that package existed in JDK 8.
1135 This enables both static access, (for example, by compiled bytecode, and
1136 deep reflective access) through the platform\[aq]s various reflection
1137 APIs.
1138 The first reflective\-access operation to any such package causes a
1139 warning to be issued.
1140 However, no warnings are issued after the first occurrence.
1141 This single warning describes how to enable further warnings.
1142 This mode is the default for the current JDK but will change in a future
1143 release.
1144 .IP \[bu] 2
1145 \f[CB]warn\f[R]: This mode is identical to \f[CB]permit\f[R] except that a
1146 warning message is issued for each illegal reflective\-access operation.
1147 .IP \[bu] 2
1148 \f[CB]debug\f[R]: This mode is identical to \f[CB]warn\f[R] except that both
1149 a warning message and a stack trace are issued for each illegal
1150 reflective\-access operation.
1151 .IP \[bu] 2
1152 \f[CB]deny\f[R]: This mode disables all illegal\-access operations except
1153 for those enabled by other command\-line options, such as
1154 \f[CB]\-\-add\-opens\f[R].
1155 This mode will become the default in a future release.
1156 .PP
1157 The default mode, \f[CB]\-\-illegal\-access=permit\f[R], is intended to
1158 make you aware of code on the class path that reflectively accesses any
1159 JDK\-internal APIs at least once.
1160 To learn about all such accesses, you can use the \f[CB]warn\f[R] or the
1161 \f[CB]debug\f[R] modes.
1162 For each library or framework on the class path that requires illegal
1163 access, you have two options:
1164 .IP \[bu] 2
1165 If the component\[aq]s maintainers have already released a fixed version
1166 that no longer uses JDK\-internal APIs then you can consider upgrading
1167 to that version.
1168 .IP \[bu] 2
1169 If the component still needs to be fixed, then you can contact its
1170 maintainers and ask them to replace their use of JDK\-internal APIs with
1171 the proper exported APIs.
1172 .PP
1173 If you must continue to use a component that requires illegal access,
1174 then you can eliminate the warning messages by using one or more
1175 \f[CB]\-\-add\-opens\f[R] options to open only those internal packages to
1176 which access is required.
1177 .PP
1178 To verify that your application is ready for a future version of the
1179 JDK, run it with \f[CB]\-\-illegal\-access=deny\f[R] along with any
1180 necessary \f[CB]\-\-add\-opens\f[R] options.
1181 Any remaining illegal\-access errors will most likely be due to static
1182 references from compiled code to JDK\-internal APIs.
1183 You can identify those by running the \f[B]jdeps\f[R] tool with the
1184 \f[CB]\-\-jdk\-internals\f[R] option.
1185 For performance reasons, the current JDK does not issue warnings for
1186 illegal static\-access operations.
1187 .RE
1188 .TP
1189 .B \f[CB]\-\-limit\-modules\f[R] \f[I]module\f[R][\f[CB],\f[R]\f[I]module\f[R]...]
1190 Specifies the limit of the universe of observable modules.
1191 .RS
1192 .RE
1193 .TP
1194 .B \f[CB]\-\-patch\-module\f[R] \f[I]module\f[R]\f[CB]=\f[R]\f[I]file\f[R](\f[CB];\f[R]\f[I]file\f[R])*
1195 Overrides or augments a module with classes and resources in JAR files
1196 or directories.
1197 .RS
1198 .RE
1199 .TP
1200 .B \f[CB]\-\-source\f[R] \f[I]version\f[R]
1201 Sets the version of the source in source\-file mode.
1202 .RS
1203 .RE
1204 .SH EXTRA OPTIONS FOR MACOS
1205 .PP
1206 The following extra options are macOS specific.
1207 .TP
1208 .B \f[CB]\-XstartOnFirstThread\f[R]
1209 Runs the \f[CB]main()\f[R] method on the first (AppKit) thread.
1210 .RS
1211 .RE
1212 .TP
1213 .B \f[CB]\-Xdock:name=\f[R]\f[I]application_name\f[R]
1214 Overrides the default application name displayed in dock.
1215 .RS
1216 .RE
1217 .TP
1218 .B \f[CB]\-Xdock:icon=\f[R]\f[I]path_to_icon_file\f[R]
1219 Overrides the default icon displayed in dock.
1220 .RS
1221 .RE
1222 .SH ADVANCED OPTIONS FOR JAVA
1223 .PP
1224 These \f[CB]java\f[R] options can be used to enable other advanced
1225 options.
1226 .TP
1227 .B \f[CB]\-XX:+UnlockDiagnosticVMOptions\f[R]
1228 Unlocks the options intended for diagnosing the JVM.
1229 By default, this option is disabled and diagnostic options aren\[aq]t
1230 available.
1231 .RS
1232 .PP
1233 Command line options that are enabled with the use of this option are
1234 not supported.
1235 If you encounter issues while using any of these options, it is very
1236 likely that you will be required to reproduce the problem without using
1237 any of these unsupported options before Oracle Support can assist with
1238 an investigation.
1239 It is also possible that any of these options may be removed or their
1240 behavior changed without any warning.
1241 .RE
1242 .TP
1243 .B \f[CB]\-XX:+UnlockExperimentalVMOptions\f[R]
1244 Unlocks the options that provide experimental features in the JVM.
1245 By default, this option is disabled and experimental features aren\[aq]t
1246 available.
1247 .RS
1248 .RE
1249 .SH ADVANCED RUNTIME OPTIONS FOR JAVA
1250 .PP
1251 These \f[CB]java\f[R] options control the runtime behavior of the Java
1252 HotSpot VM.
1253 .TP
1254 .B \f[CB]\-XX:ActiveProcessorCount=\f[R]\f[I]x\f[R]
1255 Overrides the number of CPUs that the VM will use to calculate the size
1256 of thread pools it will use for various operations such as Garbage
1257 Collection and ForkJoinPool.
1258 .RS
1259 .PP
1260 The VM normally determines the number of available processors from the
1261 operating system.
1262 This flag can be useful for partitioning CPU resources when running
1263 multiple Java processes in docker containers.
1264 This flag is honored even if \f[CB]UseContainerSupport\f[R] is not
1265 enabled.
1266 See \f[CB]\-XX:\-UseContainerSupport\f[R] for a description of enabling
1267 and disabling container support.
1268 .RE
1269 .TP
1270 .B \f[CB]\-XX:AllocateHeapAt=\f[R]\f[I]path\f[R]
1271 Takes a path to the file system and uses memory mapping to allocate the
1272 object heap on the memory device.
1273 Using this option enables the HotSpot VM to allocate the Java object
1274 heap on an alternative memory device, such as an NV\-DIMM, specified by
1275 the user.
1276 .RS
1277 .PP
1278 Alternative memory devices that have the same semantics as DRAM,
1279 including the semantics of atomic operations, can be used instead of
1280 DRAM for the object heap without changing the existing application code.
1281 All other memory structures (such as the code heap, metaspace, and
1282 thread stacks) continue to reside in DRAM.
1283 .PP
1284 Some operating systems expose non\-DRAM memory through the file system.
1285 Memory\-mapped files in these file systems bypass the page cache and
1286 provide a direct mapping of virtual memory to the physical memory on the
1287 device.
1288 The existing heap related flags (such as \f[CB]\-Xmx\f[R] and
1289 \f[CB]\-Xms\f[R]) and garbage\-collection related flags continue to work
1290 as before.
1291 .RE
1292 .TP
1293 .B \f[CB]\-XX:\-CompactStrings\f[R]
1294 Disables the Compact Strings feature.
1295 By default, this option is enabled.
1296 When this option is enabled, Java Strings containing only single\-byte
1297 characters are internally represented and stored as
1298 single\-byte\-per\-character Strings using ISO\-8859\-1 / Latin\-1
1299 encoding.
1300 This reduces, by 50%, the amount of space required for Strings
1301 containing only single\-byte characters.
1302 For Java Strings containing at least one multibyte character: these are
1303 represented and stored as 2 bytes per character using UTF\-16 encoding.
1304 Disabling the Compact Strings feature forces the use of UTF\-16 encoding
1305 as the internal representation for all Java Strings.
1306 .RS
1307 .PP
1308 Cases where it may be beneficial to disable Compact Strings include the
1309 following:
1310 .IP \[bu] 2
1311 When it\[aq]s known that an application overwhelmingly will be
1312 allocating multibyte character Strings
1313 .IP \[bu] 2
1314 In the unexpected event where a performance regression is observed in
1315 migrating from Java SE 8 to Java SE 9 and an analysis shows that Compact
1316 Strings introduces the regression
1317 .PP
1318 In both of these scenarios, disabling Compact Strings makes sense.
1319 .RE
1320 .TP
1321 .B \f[CB]\-XX:ErrorFile=\f[R]\f[I]filename\f[R]
1322 Specifies the path and file name to which error data is written when an
1323 irrecoverable error occurs.
1324 By default, this file is created in the current working directory and
1325 named \f[CB]hs_err_pid\f[R]\f[I]pid\f[R]\f[CB]\&amp;.log\f[R] where \f[I]pid\f[R]
1326 is the identifier of the process that encountered the error.
1327 .RS
1328 .PP
1329 The following example shows how to set the default log file (note that
1330 the identifier of the process is specified as \f[CB]%p\f[R]):
1331 .RS
1332 .PP
1333 \f[CB]\-XX:ErrorFile=./hs_err_pid%p.log\f[R]
1334 .RE
1335 .IP \[bu] 2
1336 \f[B]Linux and macOS:\f[R] The following example shows how to set the
1337 error log to \f[CB]/var/log/java/java_error.log\f[R]:
1338 .RS 2
1339 .RS
1340 .PP
1341 \f[CB]\-XX:ErrorFile=/var/log/java/java_error.log\f[R]
1342 .RE
1343 .RE
1344 .IP \[bu] 2
1345 \f[B]Windows:\f[R] The following example shows how to set the error log
1346 file to \f[CB]C:/log/java/java_error.log\f[R]:
1347 .RS 2
1348 .RS
1349 .PP
1350 \f[CB]\-XX:ErrorFile=C:/log/java/java_error.log\f[R]
1351 .RE
1352 .RE
1353 .PP
1354 If the file exists, and is writeable, then it will be overwritten.
1355 Otherwise, if the file can\[aq]t be created in the specified directory
1356 (due to insufficient space, permission problem, or another issue), then
1357 the file is created in the temporary directory for the operating system:
1358 .IP \[bu] 2
1359 \f[B]Linux and macOS:\f[R] The temporary directory is \f[CB]/tmp\f[R].
1360 .IP \[bu] 2
1361 \f[B]Windows:\f[R] The temporary directory is specified by the value of
1362 the \f[CB]TMP\f[R] environment variable; if that environment variable
1363 isn\[aq]t defined, then the value of the \f[CB]TEMP\f[R] environment
1364 variable is used.
1365 .RE
1366 .TP
1367 .B \f[CB]\-XX:+ExtensiveErrorReports\f[R]
1368 Enables the reporting of more extensive error information in the
1369 \f[CB]ErrorFile\f[R].
1370 This option can be turned on in environments where maximal information
1371 is desired \- even if the resulting logs may be quite large and/or
1372 contain information that might be considered sensitive.
1373 The information can vary from release to release, and across different
1374 platforms.
1375 By default this option is disabled.
1376 .RS
1377 .RE
1378 .TP
1379 .B \f[CB]\-XX:FlightRecorderOptions=\f[R]\f[I]parameter\f[R]\f[CB]=\f[R]\f[I]value\f[R] (or)\f[CB]\-XX:FlightRecorderOptions:\f[R]\f[I]parameter\f[R]\f[CB]=\f[R]\f[I]value\f[R]
1380 Sets the parameters that control the behavior of JFR.
1381 .RS
1382 .PP
1383 The following list contains the available JFR
1384 \f[I]parameter\f[R]\f[CB]=\f[R]\f[I]value\f[R] entries:
1385 .TP
1386 .B \f[CB]globalbuffersize=\f[R]\f[I]size\f[R]
1387 Specifies the total amount of primary memory used for data retention.
1388 The default value is based on the value specified for
1389 \f[CB]memorysize\f[R].
1390 Change the \f[CB]memorysize\f[R] parameter to alter the size of global
1391 buffers.
1392 .RS
1393 .RE
1394 .TP
1395 .B \f[CB]maxchunksize=\f[R]\f[I]size\f[R]
1396 Specifies the maximum size (in bytes) of the data chunks in a recording.
1397 Append \f[CB]m\f[R] or \f[CB]M\f[R] to specify the size in megabytes (MB),
1398 or \f[CB]g\f[R] or \f[CB]G\f[R] to specify the size in gigabytes (GB).
1399 By default, the maximum size of data chunks is set to 12 MB.
1400 The minimum allowed is 1 MB.
1401 .RS
1402 .RE
1403 .TP
1404 .B \f[CB]memorysize=\f[R]\f[I]size\f[R]
1405 Determines how much buffer memory should be used, and sets the
1406 \f[CB]globalbuffersize\f[R] and \f[CB]numglobalbuffers\f[R] parameters based
1407 on the size specified.
1408 Append \f[CB]m\f[R] or \f[CB]M\f[R] to specify the size in megabytes (MB),
1409 or \f[CB]g\f[R] or \f[CB]G\f[R] to specify the size in gigabytes (GB).
1410 By default, the memory size is set to 10 MB.
1411 .RS
1412 .RE
1413 .TP
1414 .B \f[CB]numglobalbuffers\f[R]
1415 Specifies the number of global buffers used.
1416 The default value is based on the memory size specified.
1417 Change the \f[CB]memorysize\f[R] parameter to alter the number of global
1418 buffers.
1419 .RS
1420 .RE
1421 .TP
1422 .B \f[CB]old\-object\-queue\-size=number\-of\-objects\f[R]
1423 Maximum number of old objects to track.
1424 By default, the number of objects is set to 256.
1425 .RS
1426 .RE
1427 .TP
1428 .B \f[CB]repository=\f[R]\f[I]path\f[R]
1429 Specifies the repository (a directory) for temporary disk storage.
1430 By default, the system\[aq]s temporary directory is used.
1431 .RS
1432 .RE
1433 .TP
1434 .B \f[CB]retransform=\f[R]{\f[CB]true\f[R]|\f[CB]false\f[R]}
1435 Specifies whether event classes should be retransformed using JVMTI.
1436 If false, instrumentation is added when event classes are loaded.
1437 By default, this parameter is enabled.
1438 .RS
1439 .RE
1440 .TP
1441 .B \f[CB]samplethreads=\f[R]{\f[CB]true\f[R]|\f[CB]false\f[R]}
1442 Specifies whether thread sampling is enabled.
1443 Thread sampling occurs only if the sampling event is enabled along with
1444 this parameter.
1445 By default, this parameter is enabled.
1446 .RS
1447 .RE
1448 .TP
1449 .B \f[CB]stackdepth=\f[R]\f[I]depth\f[R]
1450 Stack depth for stack traces.
1451 By default, the depth is set to 64 method calls.
1452 The maximum is 2048.
1453 Values greater than 64 could create significant overhead and reduce
1454 performance.
1455 .RS
1456 .RE
1457 .TP
1458 .B \f[CB]threadbuffersize=\f[R]\f[I]size\f[R]
1459 Specifies the per\-thread local buffer size (in bytes).
1460 By default, the local buffer size is set to 8 kilobytes, with a minimum
1461 value of 4 kilobytes.
1462 Overriding this parameter could reduce performance and is not
1463 recommended.
1464 .RS
1465 .RE
1466 .PP
1467 You can specify values for multiple parameters by separating them with a
1468 comma.
1469 .RE
1470 .TP
1471 .B \f[CB]\-XX:LargePageSizeInBytes=\f[R]\f[I]size\f[R]
1472 Sets the maximum size (in bytes) for large pages used for the Java heap.
1473 The \f[I]size\f[R] argument must be a power of 2 (2, 4, 8, 16, and so
1474 on).
1475 Append the letter \f[CB]k\f[R] or \f[CB]K\f[R] to indicate kilobytes,
1476 \f[CB]m\f[R] or \f[CB]M\f[R] to indicate megabytes, or \f[CB]g\f[R] or
1477 \f[CB]G\f[R] to indicate gigabytes.
1478 By default, the size is set to 0, meaning that the JVM chooses the size
1479 for large pages automatically.
1480 See \f[B]Large Pages\f[R].
1481 .RS
1482 .PP
1483 The following example describes how to set the large page size to 4
1484 megabytes (MB):
1485 .RS
1486 .PP
1487 \f[CB]\-XX:LargePageSizeInBytes=4m\f[R]
1488 .RE
1489 .RE
1490 .TP
1491 .B \f[CB]\-XX:MaxDirectMemorySize=\f[R]\f[I]size\f[R]
1492 Sets the maximum total size (in bytes) of the \f[CB]java.nio\f[R] package,
1493 direct\-buffer allocations.
1494 Append the letter \f[CB]k\f[R] or \f[CB]K\f[R] to indicate kilobytes,
1495 \f[CB]m\f[R] or \f[CB]M\f[R] to indicate megabytes, or \f[CB]g\f[R] or
1496 \f[CB]G\f[R] to indicate gigabytes.
1497 By default, the size is set to 0, meaning that the JVM chooses the size
1498 for NIO direct\-buffer allocations automatically.
1499 .RS
1500 .PP
1501 The following examples illustrate how to set the NIO size to 1024 KB in
1502 different units:
1503 .IP
1504 .nf
1505 \f[CB]
1506 \-XX:MaxDirectMemorySize=1m
1507 \-XX:MaxDirectMemorySize=1024k
1508 \-XX:MaxDirectMemorySize=1048576
1509 \f[R]
1510 .fi
1511 .RE
1512 .TP
1513 .B \f[CB]\-XX:\-MaxFDLimit\f[R]
1514 Disables the attempt to set the soft limit for the number of open file
1515 descriptors to the hard limit.
1516 By default, this option is enabled on all platforms, but is ignored on
1517 Windows.
1518 The only time that you may need to disable this is on Mac OS, where its
1519 use imposes a maximum of 10240, which is lower than the actual system
1520 maximum.
1521 .RS
1522 .RE
1523 .TP
1524 .B \f[CB]\-XX:NativeMemoryTracking=\f[R]\f[I]mode\f[R]
1525 Specifies the mode for tracking JVM native memory usage.
1526 Possible \f[I]mode\f[R] arguments for this option include the following:
1527 .RS
1528 .TP
1529 .B \f[CB]off\f[R]
1530 Instructs not to track JVM native memory usage.
1531 This is the default behavior if you don\[aq]t specify the
1532 \f[CB]\-XX:NativeMemoryTracking\f[R] option.
1533 .RS
1534 .RE
1535 .TP
1536 .B \f[CB]summary\f[R]
1537 Tracks memory usage only by JVM subsystems, such as Java heap, class,
1538 code, and thread.
1539 .RS
1540 .RE
1541 .TP
1542 .B \f[CB]detail\f[R]
1543 In addition to tracking memory usage by JVM subsystems, track memory
1544 usage by individual \f[CB]CallSite\f[R], individual virtual memory region
1545 and its committed regions.
1546 .RS
1547 .RE
1548 .RE
1549 .TP
1550 .B \f[CB]\-XX:ObjectAlignmentInBytes=\f[R]\f[I]alignment\f[R]
1551 Sets the memory alignment of Java objects (in bytes).
1552 By default, the value is set to 8 bytes.
1553 The specified value should be a power of 2, and must be within the range
1554 of 8 and 256 (inclusive).
1555 This option makes it possible to use compressed pointers with large Java
1556 heap sizes.
1557 .RS
1558 .PP
1559 The heap size limit in bytes is calculated as:
1560 .RS
1561 .PP
1562 \f[CB]4GB\ *\ ObjectAlignmentInBytes\f[R]
1563 .RE
1564 .RS
1565 .PP
1566 \f[B]Note:\f[R] As the alignment value increases, the unused space
1567 between objects also increases.
1568 As a result, you may not realize any benefits from using compressed
1569 pointers with large Java heap sizes.
1570 .RE
1571 .RE
1572 .TP
1573 .B \f[CB]\-XX:OnError=\f[R]\f[I]string\f[R]
1574 Sets a custom command or a series of semicolon\-separated commands to
1575 run when an irrecoverable error occurs.
1576 If the string contains spaces, then it must be enclosed in quotation
1577 marks.
1578 .RS
1579 .IP \[bu] 2
1580 \f[B]Linux and macOS:\f[R] The following example shows how the
1581 \f[CB]\-XX:OnError\f[R] option can be used to run the \f[CB]gcore\f[R]
1582 command to create a core image, and start the \f[CB]gdb\f[R] debugger to
1583 attach to the process in case of an irrecoverable error (the \f[CB]%p\f[R]
1584 designates the current process identifier):
1585 .RS 2
1586 .RS
1587 .PP
1588 \f[CB]\-XX:OnError=&quot;gcore\ %p;gdb\ \-p\ %p&quot;\f[R]
1589 .RE
1590 .RE
1591 .IP \[bu] 2
1592 \f[B]Windows:\f[R] The following example shows how the
1593 \f[CB]\-XX:OnError\f[R] option can be used to run the
1594 \f[CB]userdump.exe\f[R] utility to obtain a crash dump in case of an
1595 irrecoverable error (the \f[CB]%p\f[R] designates the current process
1596 identifier).
1597 This example assumes that the path to the \f[CB]userdump.exe\f[R] utility
1598 is specified in the \f[CB]PATH\f[R] environment variable:
1599 .RS 2
1600 .RS
1601 .PP
1602 \f[CB]\-XX:OnError=&quot;userdump.exe\ %p&quot;\f[R]
1603 .RE
1604 .RE
1605 .RE
1606 .TP
1607 .B \f[CB]\-XX:OnOutOfMemoryError=\f[R]\f[I]string\f[R]
1608 Sets a custom command or a series of semicolon\-separated commands to
1609 run when an \f[CB]OutOfMemoryError\f[R] exception is first thrown.
1610 If the string contains spaces, then it must be enclosed in quotation
1611 marks.
1612 For an example of a command string, see the description of the
1613 \f[CB]\-XX:OnError\f[R] option.
1614 .RS
1615 .RE
1616 .TP
1617 .B \f[CB]\-XX:+PrintCommandLineFlags\f[R]
1618 Enables printing of ergonomically selected JVM flags that appeared on
1619 the command line.
1620 It can be useful to know the ergonomic values set by the JVM, such as
1621 the heap space size and the selected garbage collector.
1622 By default, this option is disabled and flags aren\[aq]t printed.
1623 .RS
1624 .RE
1625 .TP
1626 .B \f[CB]\-XX:+PreserveFramePointer\f[R]
1627 Selects between using the RBP register as a general purpose register
1628 (\f[CB]\-XX:\-PreserveFramePointer\f[R]) and using the RBP register to
1629 hold the frame pointer of the currently executing method
1630 (\f[CB]\-XX:+PreserveFramePointer\f[R] .
1631 If the frame pointer is available, then external profiling tools (for
1632 example, Linux perf) can construct more accurate stack traces.
1633 .RS
1634 .RE
1635 .TP
1636 .B \f[CB]\-XX:+PrintNMTStatistics\f[R]
1637 Enables printing of collected native memory tracking data at JVM exit
1638 when native memory tracking is enabled (see
1639 \f[CB]\-XX:NativeMemoryTracking\f[R]).
1640 By default, this option is disabled and native memory tracking data
1641 isn\[aq]t printed.
1642 .RS
1643 .RE
1644 .TP
1645 .B \f[CB]\-XX:SharedArchiveFile=\f[R]\f[I]path\f[R]
1646 Specifies the path and name of the class data sharing (CDS) archive file
1647 .RS
1648 .PP
1649 See \f[B]Application Class Data Sharing\f[R].
1650 .RE
1651 .TP
1652 .B \f[CB]\-XX:SharedArchiveConfigFile\f[R]=\f[I]shared_config_file\f[R]
1653 Specifies additional shared data added to the archive file.
1654 .RS
1655 .RE
1656 .TP
1657 .B \f[CB]\-XX:SharedClassListFile=\f[R]\f[I]file_name\f[R]
1658 Specifies the text file that contains the names of the classes to store
1659 in the class data sharing (CDS) archive.
1660 This file contains the full name of one class per line, except slashes
1661 (\f[CB]/\f[R]) replace dots (\f[CB]\&amp;.\f[R]).
1662 For example, to specify the classes \f[CB]java.lang.Object\f[R] and
1663 \f[CB]hello.Main\f[R], create a text file that contains the following two
1664 lines:
1665 .RS
1666 .IP
1667 .nf
1668 \f[CB]
1669 java/lang/Object
1670 hello/Main
1671 \f[R]
1672 .fi
1673 .PP
1674 The classes that you specify in this text file should include the
1675 classes that are commonly used by the application.
1676 They may include any classes from the application, extension, or
1677 bootstrap class paths.
1678 .PP
1679 See \f[B]Application Class Data Sharing\f[R].
1680 .RE
1681 .TP
1682 .B \f[CB]\-XX:+ShowCodeDetailsInExceptionMessages\f[R]
1683 Enables printing of improved \f[CB]NullPointerException\f[R] messages.
1684 When an application throws a \f[CB]NullPointerException\f[R], the option
1685 enables the JVM to analyze the program\[aq]s bytecode instructions to
1686 determine precisely which reference is \f[CB]null\f[R], and describes the
1687 source with a null\-detail message.
1688 The null\-detail message is calculated and returned by
1689 \f[CB]NullPointerException.getMessage()\f[R], and will be printed as the
1690 exception message along with the method, filename, and line number.
1691 By default, this option is enabled.
1692 .RS
1693 .RE
1694 .TP
1695 .B \f[CB]\-XX:+ShowMessageBoxOnError\f[R]
1696 Enables the display of a dialog box when the JVM experiences an
1697 irrecoverable error.
1698 This prevents the JVM from exiting and keeps the process active so that
1699 you can attach a debugger to it to investigate the cause of the error.
1700 By default, this option is disabled.
1701 .RS
1702 .RE
1703 .TP
1704 .B \f[CB]\-XX:StartFlightRecording=\f[R]\f[I]parameter\f[R]\f[CB]=\f[R]\f[I]value\f[R]
1705 Starts a JFR recording for the Java application.
1706 This option is equivalent to the \f[CB]JFR.start\f[R] diagnostic command
1707 that starts a recording during runtime.
1708 You can set the following \f[I]parameter\f[R]\f[CB]=\f[R]\f[I]value\f[R]
1709 entries when starting a JFR recording:
1710 .RS
1711 .TP
1712 .B \f[CB]delay=\f[R]\f[I]time\f[R]
1713 Specifies the delay between the Java application launch time and the
1714 start of the recording.
1715 Append \f[CB]s\f[R] to specify the time in seconds, \f[CB]m\f[R] for
1716 minutes, \f[CB]h\f[R] for hours, or \f[CB]d\f[R] for days (for example,
1717 specifying \f[CB]10m\f[R] means 10 minutes).
1718 By default, there\[aq]s no delay, and this parameter is set to 0.
1719 .RS
1720 .RE
1721 .TP
1722 .B \f[CB]disk=\f[R]{\f[CB]true\f[R]|\f[CB]false\f[R]}
1723 Specifies whether to write data to disk while recording.
1724 By default, this parameter is enabled.
1725 .RS
1726 .RE
1727 .TP
1728 .B \f[CB]dumponexit=\f[R]{\f[CB]true\f[R]|\f[CB]false\f[R]}
1729 Specifies if the running recording is dumped when the JVM shuts down.
1730 If enabled and a \f[CB]filename\f[R] is not entered, the recording is
1731 written to a file in the directory where the process was started.
1732 The file name is a system\-generated name that contains the process ID,
1733 recording ID, and current timestamp, similar to
1734 \f[CB]hotspot\-pid\-47496\-id\-1\-2018_01_25_19_10_41.jfr\f[R].
1735 By default, this parameter is disabled.
1736 .RS
1737 .RE
1738 .TP
1739 .B \f[CB]duration=\f[R]\f[I]time\f[R]
1740 Specifies the duration of the recording.
1741 Append \f[CB]s\f[R] to specify the time in seconds, \f[CB]m\f[R] for
1742 minutes, \f[CB]h\f[R] for hours, or \f[CB]d\f[R] for days (for example,
1743 specifying \f[CB]5h\f[R] means 5 hours).
1744 By default, the duration isn\[aq]t limited, and this parameter is set to
1745 0.
1746 .RS
1747 .RE
1748 .TP
1749 .B \f[CB]filename=\f[R]\f[I]path\f[R]
1750 Specifies the path and name of the file to which the recording is
1751 written when the recording is stopped, for example:
1752 .RS
1753 .IP \[bu] 2
1754 \f[CB]recording.jfr\f[R]
1755 .IP \[bu] 2
1756 \f[CB]/home/user/recordings/recording.jfr\f[R]
1757 .IP \[bu] 2
1758 \f[CB]c:\\recordings\\recording.jfr\f[R]
1759 .RE
1760 .TP
1761 .B \f[CB]name=\f[R]\f[I]identifier\f[R]
1762 Takes both the name and the identifier of a recording.
1763 .RS
1764 .RE
1765 .TP
1766 .B \f[CB]maxage=\f[R]\f[I]time\f[R]
1767 Specifies the maximum age of disk data to keep for the recording.
1768 This parameter is valid only when the \f[CB]disk\f[R] parameter is set to
1769 \f[CB]true\f[R].
1770 Append \f[CB]s\f[R] to specify the time in seconds, \f[CB]m\f[R] for
1771 minutes, \f[CB]h\f[R] for hours, or \f[CB]d\f[R] for days (for example,
1772 specifying \f[CB]30s\f[R] means 30 seconds).
1773 By default, the maximum age isn\[aq]t limited, and this parameter is set
1774 to \f[CB]0s\f[R].
1775 .RS
1776 .RE
1777 .TP
1778 .B \f[CB]maxsize=\f[R]\f[I]size\f[R]
1779 Specifies the maximum size (in bytes) of disk data to keep for the
1780 recording.
1781 This parameter is valid only when the \f[CB]disk\f[R] parameter is set to
1782 \f[CB]true\f[R].
1783 The value must not be less than the value for the \f[CB]maxchunksize\f[R]
1784 parameter set with \f[CB]\-XX:FlightRecorderOptions\f[R].
1785 Append \f[CB]m\f[R] or \f[CB]M\f[R] to specify the size in megabytes, or
1786 \f[CB]g\f[R] or \f[CB]G\f[R] to specify the size in gigabytes.
1787 By default, the maximum size of disk data isn\[aq]t limited, and this
1788 parameter is set to \f[CB]0\f[R].
1789 .RS
1790 .RE
1791 .TP
1792 .B \f[CB]path\-to\-gc\-roots=\f[R]{\f[CB]true\f[R]|\f[CB]false\f[R]}
1793 Specifies whether to collect the path to garbage collection (GC) roots
1794 at the end of a recording.
1795 By default, this parameter is disabled.
1796 .RS
1797 .PP
1798 The path to GC roots is useful for finding memory leaks, but collecting
1799 it is time\-consuming.
1800 Enable this option only when you start a recording for an application
1801 that you suspect has a memory leak.
1802 If the \f[CB]settings\f[R] parameter is set to \f[CB]profile\f[R], the stack
1803 trace from where the potential leaking object was allocated is included
1804 in the information collected.
1805 .RE
1806 .TP
1807 .B \f[CB]settings=\f[R]\f[I]path\f[R]
1808 Specifies the path and name of the event settings file (of type JFC).
1809 By default, the \f[CB]default.jfc\f[R] file is used, which is located in
1810 \f[CB]JAVA_HOME/lib/jfr\f[R].
1811 This default settings file collects a predefined set of information with
1812 low overhead, so it has minimal impact on performance and can be used
1813 with recordings that run continuously.
1814 .RS
1815 .PP
1816 A second settings file is also provided, profile.jfc, which provides
1817 more data than the default configuration, but can have more overhead and
1818 impact performance.
1819 Use this configuration for short periods of time when more information
1820 is needed.
1821 .RE
1822 .PP
1823 You can specify values for multiple parameters by separating them with a
1824 comma.
1825 .RE
1826 .TP
1827 .B \f[CB]\-XX:ThreadStackSize=\f[R]\f[I]size\f[R]
1828 Sets the Java thread stack size (in kilobytes).
1829 Use of a scaling suffix, such as \f[CB]k\f[R], results in the scaling of
1830 the kilobytes value so that \f[CB]\-XX:ThreadStackSize=1k\f[R] sets the
1831 Java thread stack size to 1024*1024 bytes or 1 megabyte.
1832 The default value depends on the platform:
1833 .RS
1834 .IP \[bu] 2
1835 Linux/x64 (64\-bit): 1024 KB
1836 .IP \[bu] 2
1837 macOS (64\-bit): 1024 KB
1838 .IP \[bu] 2
1839 Windows: The default value depends on virtual memory
1840 .PP
1841 The following examples show how to set the thread stack size to 1
1842 megabyte in different units:
1843 .IP
1844 .nf
1845 \f[CB]
1846 \-XX:ThreadStackSize=1k
1847 \-XX:ThreadStackSize=1024
1848 \f[R]
1849 .fi
1850 .PP
1851 This option is similar to \f[CB]\-Xss\f[R].
1852 .RE
1853 .TP
1854 .B \f[CB]\-XX:\-UseCompressedOops\f[R]
1855 Disables the use of compressed pointers.
1856 By default, this option is enabled, and compressed pointers are used.
1857 This will automatically limit the maximum ergonomically determined Java
1858 heap size to the maximum amount of memory that can be covered by
1859 compressed pointers.
1860 By default this range is 32 GB.
1861 .RS
1862 .PP
1863 With compressed oops enabled, object references are represented as
1864 32\-bit offsets instead of 64\-bit pointers, which typically increases
1865 performance when running the application with Java heap sizes smaller
1866 than the compressed oops pointer range.
1867 This option works only for 64\-bit JVMs.
1868 .PP
1869 It\[aq]s possible to use compressed pointers with Java heap sizes
1870 greater than 32 GB.
1871 See the \f[CB]\-XX:ObjectAlignmentInBytes\f[R] option.
1872 .RE
1873 .TP
1874 .B \f[CB]\-XX:\-UseContainerSupport\f[R]
1875 The VM now provides automatic container detection support, which allows
1876 the VM to determine the amount of memory and number of processors that
1877 are available to a Java process running in docker containers.
1878 It uses this information to allocate system resources.
1879 This support is only available on Linux x64 platforms.
1880 If supported, the default for this flag is \f[CB]true\f[R], and container
1881 support is enabled by default.
1882 It can be disabled with \f[CB]\-XX:\-UseContainerSupport\f[R].
1883 .RS
1884 .PP
1885 Unified Logging is available to help to diagnose issues related to this
1886 support.
1887 .PP
1888 Use \f[CB]\-Xlog:os+container=trace\f[R] for maximum logging of container
1889 information.
1890 See \f[B]Enable Logging with the JVM Unified Logging Framework\f[R] for a
1891 description of using Unified Logging.
1892 .RE
1893 .TP
1894 .B \f[CB]\-XX:+UseHugeTLBFS\f[R]
1895 \f[B]Linux only:\f[R] This option is the equivalent of specifying
1896 \f[CB]\-XX:+UseLargePages\f[R].
1897 This option is disabled by default.
1898 This option pre\-allocates all large pages up\-front, when memory is
1899 reserved; consequently the JVM can\[aq]t dynamically grow or shrink
1900 large pages memory areas; see \f[CB]\-XX:UseTransparentHugePages\f[R] if
1901 you want this behavior.
1902 .RS
1903 .PP
1904 See \f[B]Large Pages\f[R].
1905 .RE
1906 .TP
1907 .B \f[CB]\-XX:+UseLargePages\f[R]
1908 Enables the use of large page memory.
1909 By default, this option is disabled and large page memory isn\[aq]t
1910 used.
1911 .RS
1912 .PP
1913 See \f[B]Large Pages\f[R].
1914 .RE
1915 .TP
1916 .B \f[CB]\-XX:+UseTransparentHugePages\f[R]
1917 \f[B]Linux only:\f[R] Enables the use of large pages that can dynamically
1918 grow or shrink.
1919 This option is disabled by default.
1920 You may encounter performance problems with transparent huge pages as
1921 the OS moves other pages around to create huge pages; this option is
1922 made available for experimentation.
1923 .RS
1924 .RE
1925 .TP
1926 .B \f[CB]\-XX:+AllowUserSignalHandlers\f[R]
1927 Enables installation of signal handlers by the application.
1928 By default, this option is disabled and the application isn\[aq]t
1929 allowed to install signal handlers.
1930 .RS
1931 .RE
1932 .TP
1933 .B \f[CB]\-XX:VMOptionsFile=\f[R]\f[I]filename\f[R]
1934 Allows user to specify VM options in a file, for example,
1935 \f[CB]java\ \-XX:VMOptionsFile=/var/my_vm_options\ HelloWorld\f[R].
1936 .RS
1937 .RE
1938 .SH ADVANCED JIT COMPILER OPTIONS FOR JAVA
1939 .PP
1940 These \f[CB]java\f[R] options control the dynamic just\-in\-time (JIT)
1941 compilation performed by the Java HotSpot VM.
1942 .TP
1943 .B \f[CB]\-XX:AllocateInstancePrefetchLines=\f[R]\f[I]lines\f[R]
1944 Sets the number of lines to prefetch ahead of the instance allocation
1945 pointer.
1946 By default, the number of lines to prefetch is set to 1:
1947 .RS
1948 .RS
1949 .PP
1950 \f[CB]\-XX:AllocateInstancePrefetchLines=1\f[R]
1951 .RE
1952 .RE
1953 .TP
1954 .B \f[CB]\-XX:AllocatePrefetchDistance=\f[R]\f[I]size\f[R]
1955 Sets the size (in bytes) of the prefetch distance for object allocation.
1956 Memory about to be written with the value of new objects is prefetched
1957 up to this distance starting from the address of the last allocated
1958 object.
1959 Each Java thread has its own allocation point.
1960 .RS
1961 .PP
1962 Negative values denote that prefetch distance is chosen based on the
1963 platform.
1964 Positive values are bytes to prefetch.
1965 Append the letter \f[CB]k\f[R] or \f[CB]K\f[R] to indicate kilobytes,
1966 \f[CB]m\f[R] or \f[CB]M\f[R] to indicate megabytes, or \f[CB]g\f[R] or
1967 \f[CB]G\f[R] to indicate gigabytes.
1968 The default value is set to \-1.
1969 .PP
1970 The following example shows how to set the prefetch distance to 1024
1971 bytes:
1972 .RS
1973 .PP
1974 \f[CB]\-XX:AllocatePrefetchDistance=1024\f[R]
1975 .RE
1976 .RE
1977 .TP
1978 .B \f[CB]\-XX:AllocatePrefetchInstr=\f[R]\f[I]instruction\f[R]
1979 Sets the prefetch instruction to prefetch ahead of the allocation
1980 pointer.
1981 Possible values are from 0 to 3.
1982 The actual instructions behind the values depend on the platform.
1983 By default, the prefetch instruction is set to 0:
1984 .RS
1985 .RS
1986 .PP
1987 \f[CB]\-XX:AllocatePrefetchInstr=0\f[R]
1988 .RE
1989 .RE
1990 .TP
1991 .B \f[CB]\-XX:AllocatePrefetchLines=\f[R]\f[I]lines\f[R]
1992 Sets the number of cache lines to load after the last object allocation
1993 by using the prefetch instructions generated in compiled code.
1994 The default value is 1 if the last allocated object was an instance, and
1995 3 if it was an array.
1996 .RS
1997 .PP
1998 The following example shows how to set the number of loaded cache lines
1999 to 5:
2000 .RS
2001 .PP
2002 \f[CB]\-XX:AllocatePrefetchLines=5\f[R]
2003 .RE
2004 .RE
2005 .TP
2006 .B \f[CB]\-XX:AllocatePrefetchStepSize=\f[R]\f[I]size\f[R]
2007 Sets the step size (in bytes) for sequential prefetch instructions.
2008 Append the letter \f[CB]k\f[R] or \f[CB]K\f[R] to indicate kilobytes,
2009 \f[CB]m\f[R] or \f[CB]M\f[R] to indicate megabytes, \f[CB]g\f[R] or \f[CB]G\f[R]
2010 to indicate gigabytes.
2011 By default, the step size is set to 16 bytes:
2012 .RS
2013 .RS
2014 .PP
2015 \f[CB]\-XX:AllocatePrefetchStepSize=16\f[R]
2016 .RE
2017 .RE
2018 .TP
2019 .B \f[CB]\-XX:AllocatePrefetchStyle=\f[R]\f[I]style\f[R]
2020 Sets the generated code style for prefetch instructions.
2021 The \f[I]style\f[R] argument is an integer from 0 to 3:
2022 .RS
2023 .TP
2024 .B \f[CB]0\f[R]
2025 Don\[aq]t generate prefetch instructions.
2026 .RS
2027 .RE
2028 .TP
2029 .B \f[CB]1\f[R]
2030 Execute prefetch instructions after each allocation.
2031 This is the default setting.
2032 .RS
2033 .RE
2034 .TP
2035 .B \f[CB]2\f[R]
2036 Use the thread\-local allocation block (TLAB) watermark pointer to
2037 determine when prefetch instructions are executed.
2038 .RS
2039 .RE
2040 .TP
2041 .B \f[CB]3\f[R]
2042 Generate one prefetch instruction per cache line.
2043 .RS
2044 .RE
2045 .RE
2046 .TP
2047 .B \f[CB]\-XX:+BackgroundCompilation\f[R]
2048 Enables background compilation.
2049 This option is enabled by default.
2050 To disable background compilation, specify
2051 \f[CB]\-XX:\-BackgroundCompilation\f[R] (this is equivalent to specifying
2052 \f[CB]\-Xbatch\f[R]).
2053 .RS
2054 .RE
2055 .TP
2056 .B \f[CB]\-XX:CICompilerCount=\f[R]\f[I]threads\f[R]
2057 Sets the number of compiler threads to use for compilation.
2058 By default, the number of compiler threads is selected automatically
2059 depending on the number of CPUs and memory available for compiled code.
2060 The following example shows how to set the number of threads to 2:
2061 .RS
2062 .RS
2063 .PP
2064 \f[CB]\-XX:CICompilerCount=2\f[R]
2065 .RE
2066 .RE
2067 .TP
2068 .B \f[CB]\-XX:+UseDynamicNumberOfCompilerThreads\f[R]
2069 Dynamically create compiler thread up to the limit specified by
2070 \f[CB]\-XX:CICompilerCount\f[R].
2071 This option is enabled by default.
2072 .RS
2073 .RE
2074 .TP
2075 .B \f[CB]\-XX:CompileCommand=\f[R]\f[I]command\f[R]\f[CB],\f[R]\f[I]method\f[R][\f[CB],\f[R]\f[I]option\f[R]]
2076 Specifies a \f[I]command\f[R] to perform on a \f[I]method\f[R].
2077 For example, to exclude the \f[CB]indexOf()\f[R] method of the
2078 \f[CB]String\f[R] class from being compiled, use the following:
2079 .RS
2080 .RS
2081 .PP
2082 \f[CB]\-XX:CompileCommand=exclude,java/lang/String.indexOf\f[R]
2083 .RE
2084 .PP
2085 Note that the full class name is specified, including all packages and
2086 subpackages separated by a slash (\f[CB]/\f[R]).
2087 For easier cut\-and\-paste operations, it\[aq]s also possible to use the
2088 method name format produced by the \f[CB]\-XX:+PrintCompilation\f[R] and
2089 \f[CB]\-XX:+LogCompilation\f[R] options:
2090 .RS
2091 .PP
2092 \f[CB]\-XX:CompileCommand=exclude,java.lang.String::indexOf\f[R]
2093 .RE
2094 .PP
2095 If the method is specified without the signature, then the command is
2096 applied to all methods with the specified name.
2097 However, you can also specify the signature of the method in the class
2098 file format.
2099 In this case, you should enclose the arguments in quotation marks,
2100 because otherwise the shell treats the semicolon as a command end.
2101 For example, if you want to exclude only the \f[CB]indexOf(String)\f[R]
2102 method of the \f[CB]String\f[R] class from being compiled, use the
2103 following:
2104 .RS
2105 .PP
2106 \f[CB]\-XX:CompileCommand=&quot;exclude,java/lang/String.indexOf,(Ljava/lang/String;)I&quot;\f[R]
2107 .RE
2108 .PP
2109 You can also use the asterisk (*) as a wildcard for class and method
2110 names.
2111 For example, to exclude all \f[CB]indexOf()\f[R] methods in all classes
2112 from being compiled, use the following:
2113 .RS
2114 .PP
2115 \f[CB]\-XX:CompileCommand=exclude,*.indexOf\f[R]
2116 .RE
2117 .PP
2118 The commas and periods are aliases for spaces, making it easier to pass
2119 compiler commands through a shell.
2120 You can pass arguments to \f[CB]\-XX:CompileCommand\f[R] using spaces as
2121 separators by enclosing the argument in quotation marks:
2122 .RS
2123 .PP
2124 \f[CB]\-XX:CompileCommand=&quot;exclude\ java/lang/String\ indexOf&quot;\f[R]
2125 .RE
2126 .PP
2127 Note that after parsing the commands passed on the command line using
2128 the \f[CB]\-XX:CompileCommand\f[R] options, the JIT compiler then reads
2129 commands from the \f[CB]\&amp;.hotspot_compiler\f[R] file.
2130 You can add commands to this file or specify a different file using the
2131 \f[CB]\-XX:CompileCommandFile\f[R] option.
2132 .PP
2133 To add several commands, either specify the \f[CB]\-XX:CompileCommand\f[R]
2134 option multiple times, or separate each argument with the new line
2135 separator (\f[CB]\\n\f[R]).
2136 The following commands are available:
2137 .TP
2138 .B \f[CB]break\f[R]
2139 Sets a breakpoint when debugging the JVM to stop at the beginning of
2140 compilation of the specified method.
2141 .RS
2142 .RE
2143 .TP
2144 .B \f[CB]compileonly\f[R]
2145 Excludes all methods from compilation except for the specified method.
2146 As an alternative, you can use the \f[CB]\-XX:CompileOnly\f[R] option,
2147 which lets you specify several methods.
2148 .RS
2149 .RE
2150 .TP
2151 .B \f[CB]dontinline\f[R]
2152 Prevents inlining of the specified method.
2153 .RS
2154 .RE
2155 .TP
2156 .B \f[CB]exclude\f[R]
2157 Excludes the specified method from compilation.
2158 .RS
2159 .RE
2160 .TP
2161 .B \f[CB]help\f[R]
2162 Prints a help message for the \f[CB]\-XX:CompileCommand\f[R] option.
2163 .RS
2164 .RE
2165 .TP
2166 .B \f[CB]inline\f[R]
2167 Attempts to inline the specified method.
2168 .RS
2169 .RE
2170 .TP
2171 .B \f[CB]log\f[R]
2172 Excludes compilation logging (with the \f[CB]\-XX:+LogCompilation\f[R]
2173 option) for all methods except for the specified method.
2174 By default, logging is performed for all compiled methods.
2175 .RS
2176 .RE
2177 .TP
2178 .B \f[CB]option\f[R]
2179 Passes a JIT compilation option to the specified method in place of the
2180 last argument (\f[CB]option\f[R]).
2181 The compilation option is set at the end, after the method name.
2182 For example, to enable the \f[CB]BlockLayoutByFrequency\f[R] option for
2183 the \f[CB]append()\f[R] method of the \f[CB]StringBuffer\f[R] class, use the
2184 following:
2185 .RS
2186 .RS
2187 .PP
2188 \f[CB]\-XX:CompileCommand=option,java/lang/StringBuffer.append,BlockLayoutByFrequency\f[R]
2189 .RE
2190 .PP
2191 You can specify multiple compilation options, separated by commas or
2192 spaces.
2193 .RE
2194 .TP
2195 .B \f[CB]print\f[R]
2196 Prints generated assembler code after compilation of the specified
2197 method.
2198 .RS
2199 .RE
2200 .TP
2201 .B \f[CB]quiet\f[R]
2202 Instructs not to print the compile commands.
2203 By default, the commands that you specify with the
2204 \f[CB]\-XX:CompileCommand\f[R] option are printed; for example, if you
2205 exclude from compilation the \f[CB]indexOf()\f[R] method of the
2206 \f[CB]String\f[R] class, then the following is printed to standard output:
2207 .RS
2208 .RS
2209 .PP
2210 \f[CB]CompilerOracle:\ exclude\ java/lang/String.indexOf\f[R]
2211 .RE
2212 .PP
2213 You can suppress this by specifying the
2214 \f[CB]\-XX:CompileCommand=quiet\f[R] option before other
2215 \f[CB]\-XX:CompileCommand\f[R] options.
2216 .RE
2217 .RE
2218 .TP
2219 .B \f[CB]\-XX:CompileCommandFile=\f[R]\f[I]filename\f[R]
2220 Sets the file from which JIT compiler commands are read.
2221 By default, the \f[CB]\&amp;.hotspot_compiler\f[R] file is used to store
2222 commands performed by the JIT compiler.
2223 .RS
2224 .PP
2225 Each line in the command file represents a command, a class name, and a
2226 method name for which the command is used.
2227 For example, this line prints assembly code for the \f[CB]toString()\f[R]
2228 method of the \f[CB]String\f[R] class:
2229 .RS
2230 .PP
2231 \f[CB]print\ java/lang/String\ toString\f[R]
2232 .RE
2233 .PP
2234 If you\[aq]re using commands for the JIT compiler to perform on methods,
2235 then see the \f[CB]\-XX:CompileCommand\f[R] option.
2236 .RE
2237 .TP
2238 .B \f[CB]\-XX:CompilerDirectivesFile=\f[R]\f[I]file\f[R]
2239 Adds directives from a file to the directives stack when a program
2240 starts.
2241 See \f[B]Compiler Control\f[R]
2242 [https://docs.oracle.com/en/java/javase/12/vm/compiler\-control1.html#GUID\-94AD8194\-786A\-4F19\-BFFF\-278F8E237F3A].
2243 .RS
2244 .PP
2245 The \f[CB]\-XX:CompilerDirectivesFile\f[R] option has to be used together
2246 with the \f[CB]\-XX:UnlockDiagnosticVMOptions\f[R] option that unlocks
2247 diagnostic JVM options.
2248 .RE
2249 .TP
2250 .B \f[CB]\-XX:+CompilerDirectivesPrint\f[R]
2251 Prints the directives stack when the program starts or when a new
2252 directive is added.
2253 .RS
2254 .PP
2255 The \f[CB]\-XX:+CompilerDirectivesPrint\f[R] option has to be used
2256 together with the \f[CB]\-XX:UnlockDiagnosticVMOptions\f[R] option that
2257 unlocks diagnostic JVM options.
2258 .RE
2259 .TP
2260 .B \f[CB]\-XX:CompileOnly=\f[R]\f[I]methods\f[R]
2261 Sets the list of methods (separated by commas) to which compilation
2262 should be restricted.
2263 Only the specified methods are compiled.
2264 Specify each method with the full class name (including the packages and
2265 subpackages).
2266 For example, to compile only the \f[CB]length()\f[R] method of the
2267 \f[CB]String\f[R] class and the \f[CB]size()\f[R] method of the
2268 \f[CB]List\f[R] class, use the following:
2269 .RS
2270 .RS
2271 .PP
2272 \f[CB]\-XX:CompileOnly=java/lang/String.length,java/util/List.size\f[R]
2273 .RE
2274 .PP
2275 Note that the full class name is specified, including all packages and
2276 subpackages separated by a slash (\f[CB]/\f[R]).
2277 For easier cut and paste operations, it\[aq]s also possible to use the
2278 method name format produced by the \f[CB]\-XX:+PrintCompilation\f[R] and
2279 \f[CB]\-XX:+LogCompilation\f[R] options:
2280 .RS
2281 .PP
2282 \f[CB]\-XX:CompileOnly=java.lang.String::length,java.util.List::size\f[R]
2283 .RE
2284 .PP
2285 Although wildcards aren\[aq]t supported, you can specify only the class
2286 or package name to compile all methods in that class or package, as well
2287 as specify just the method to compile methods with this name in any
2288 class:
2289 .IP
2290 .nf
2291 \f[CB]
2292 \-XX:CompileOnly=java/lang/String
2293 \-XX:CompileOnly=java/lang
2294 \-XX:CompileOnly=.length
2295 \f[R]
2296 .fi
2297 .RE
2298 .TP
2299 .B \f[CB]\-XX:CompileThresholdScaling=\f[R]\f[I]scale\f[R]
2300 Provides unified control of first compilation.
2301 This option controls when methods are first compiled for both the tiered
2302 and the nontiered modes of operation.
2303 The \f[CB]CompileThresholdScaling\f[R] option has a floating point value
2304 between 0 and +Inf and scales the thresholds corresponding to the
2305 current mode of operation (both tiered and nontiered).
2306 Setting \f[CB]CompileThresholdScaling\f[R] to a value less than 1.0
2307 results in earlier compilation while values greater than 1.0 delay
2308 compilation.
2309 Setting \f[CB]CompileThresholdScaling\f[R] to 0 is equivalent to disabling
2310 compilation.
2311 .RS
2312 .RE
2313 .TP
2314 .B \f[CB]\-XX:+DoEscapeAnalysis\f[R]
2315 Enables the use of escape analysis.
2316 This option is enabled by default.
2317 To disable the use of escape analysis, specify
2318 \f[CB]\-XX:\-DoEscapeAnalysis\f[R].
2319 .RS
2320 .RE
2321 .TP
2322 .B \f[CB]\-XX:InitialCodeCacheSize=\f[R]\f[I]size\f[R]
2323 Sets the initial code cache size (in bytes).
2324 Append the letter \f[CB]k\f[R] or \f[CB]K\f[R] to indicate kilobytes,
2325 \f[CB]m\f[R] or \f[CB]M\f[R] to indicate megabytes, or \f[CB]g\f[R] or
2326 \f[CB]G\f[R] to indicate gigabytes.
2327 The default value depends on the platform.
2328 The initial code cache size shouldn\[aq]t be less than the system\[aq]s
2329 minimal memory page size.
2330 The following example shows how to set the initial code cache size to 32
2331 KB:
2332 .RS
2333 .RS
2334 .PP
2335 \f[CB]\-XX:InitialCodeCacheSize=32k\f[R]
2336 .RE
2337 .RE
2338 .TP
2339 .B \f[CB]\-XX:+Inline\f[R]
2340 Enables method inlining.
2341 This option is enabled by default to increase performance.
2342 To disable method inlining, specify \f[CB]\-XX:\-Inline\f[R].
2343 .RS
2344 .RE
2345 .TP
2346 .B \f[CB]\-XX:InlineSmallCode=\f[R]\f[I]size\f[R]
2347 Sets the maximum code size (in bytes) for already compiled methods that
2348 may be inlined.
2349 This flag only applies to the C2 compiler.
2350 Append the letter \f[CB]k\f[R] or \f[CB]K\f[R] to indicate kilobytes,
2351 \f[CB]m\f[R] or \f[CB]M\f[R] to indicate megabytes, or \f[CB]g\f[R] or
2352 \f[CB]G\f[R] to indicate gigabytes.
2353 The default value depends on the platform and on whether tiered
2354 compilation is enabled.
2355 In the following example it is set to 1000 bytes:
2356 .RS
2357 .RS
2358 .PP
2359 \f[CB]\-XX:InlineSmallCode=1000\f[R]
2360 .RE
2361 .RE
2362 .TP
2363 .B \f[CB]\-XX:+LogCompilation\f[R]
2364 Enables logging of compilation activity to a file named
2365 \f[CB]hotspot.log\f[R] in the current working directory.
2366 You can specify a different log file path and name using the
2367 \f[CB]\-XX:LogFile\f[R] option.
2368 .RS
2369 .PP
2370 By default, this option is disabled and compilation activity isn\[aq]t
2371 logged.
2372 The \f[CB]\-XX:+LogCompilation\f[R] option has to be used together with
2373 the \f[CB]\-XX:UnlockDiagnosticVMOptions\f[R] option that unlocks
2374 diagnostic JVM options.
2375 .PP
2376 You can enable verbose diagnostic output with a message printed to the
2377 console every time a method is compiled by using the
2378 \f[CB]\-XX:+PrintCompilation\f[R] option.
2379 .RE
2380 .TP
2381 .B \f[CB]\-XX:FreqInlineSize=\f[R]\f[I]size\f[R]
2382 Sets the maximum bytecode size (in bytes) of a hot method to be inlined.
2383 This flag only applies to the C2 compiler.
2384 Append the letter \f[CB]k\f[R] or \f[CB]K\f[R] to indicate kilobytes,
2385 \f[CB]m\f[R] or \f[CB]M\f[R] to indicate megabytes, or \f[CB]g\f[R] or
2386 \f[CB]G\f[R] to indicate gigabytes.
2387 The default value depends on the platform.
2388 In the following example it is set to 325 bytes:
2389 .RS
2390 .RS
2391 .PP
2392 \f[CB]\-XX:FreqInlineSize=325\f[R]
2393 .RE
2394 .RE
2395 .TP
2396 .B \f[CB]\-XX:MaxInlineSize=\f[R]\f[I]size\f[R]
2397 Sets the maximum bytecode size (in bytes) of a cold method to be
2398 inlined.
2399 This flag only applies to the C2 compiler.
2400 Append the letter \f[CB]k\f[R] or \f[CB]K\f[R] to indicate kilobytes,
2401 \f[CB]m\f[R] or \f[CB]M\f[R] to indicate megabytes, or \f[CB]g\f[R] or
2402 \f[CB]G\f[R] to indicate gigabytes.
2403 By default, the maximum bytecode size is set to 35 bytes:
2404 .RS
2405 .RS
2406 .PP
2407 \f[CB]\-XX:MaxInlineSize=35\f[R]
2408 .RE
2409 .RE
2410 .TP
2411 .B \f[CB]\-XX:C1MaxInlineSize=\f[R]\f[I]size\f[R]
2412 Sets the maximum bytecode size (in bytes) of a cold method to be
2413 inlined.
2414 This flag only applies to the C1 compiler.
2415 Append the letter \f[CB]k\f[R] or \f[CB]K\f[R] to indicate kilobytes,
2416 \f[CB]m\f[R] or \f[CB]M\f[R] to indicate megabytes, or \f[CB]g\f[R] or
2417 \f[CB]G\f[R] to indicate gigabytes.
2418 By default, the maximum bytecode size is set to 35 bytes:
2419 .RS
2420 .RS
2421 .PP
2422 \f[CB]\-XX:MaxInlineSize=35\f[R]
2423 .RE
2424 .RE
2425 .TP
2426 .B \f[CB]\-XX:MaxTrivialSize=\f[R]\f[I]size\f[R]
2427 Sets the maximum bytecode size (in bytes) of a trivial method to be
2428 inlined.
2429 This flag only applies to the C2 compiler.
2430 Append the letter \f[CB]k\f[R] or \f[CB]K\f[R] to indicate kilobytes,
2431 \f[CB]m\f[R] or \f[CB]M\f[R] to indicate megabytes, or \f[CB]g\f[R] or
2432 \f[CB]G\f[R] to indicate gigabytes.
2433 By default, the maximum bytecode size of a trivial method is set to 6
2434 bytes:
2435 .RS
2436 .RS
2437 .PP
2438 \f[CB]\-XX:MaxTrivialSize=6\f[R]
2439 .RE
2440 .RE
2441 .TP
2442 .B \f[CB]\-XX:C1MaxTrivialSize=\f[R]\f[I]size\f[R]
2443 Sets the maximum bytecode size (in bytes) of a trivial method to be
2444 inlined.
2445 This flag only applies to the C1 compiler.
2446 Append the letter \f[CB]k\f[R] or \f[CB]K\f[R] to indicate kilobytes,
2447 \f[CB]m\f[R] or \f[CB]M\f[R] to indicate megabytes, or \f[CB]g\f[R] or
2448 \f[CB]G\f[R] to indicate gigabytes.
2449 By default, the maximum bytecode size of a trivial method is set to 6
2450 bytes:
2451 .RS
2452 .RS
2453 .PP
2454 \f[CB]\-XX:MaxTrivialSize=6\f[R]
2455 .RE
2456 .RE
2457 .TP
2458 .B \f[CB]\-XX:MaxNodeLimit=\f[R]\f[I]nodes\f[R]
2459 Sets the maximum number of nodes to be used during single method
2460 compilation.
2461 By default the value depends on the features enabled.
2462 In the following example the maximum number of nodes is set to 100,000:
2463 .RS
2464 .RS
2465 .PP
2466 \f[CB]\-XX:MaxNodeLimit=100000\f[R]
2467 .RE
2468 .RE
2469 .TP
2470 .B \f[CB]\-XX:NonNMethodCodeHeapSize=\f[R]\f[I]size\f[R]
2471 Sets the size in bytes of the code segment containing nonmethod code.
2472 .RS
2473 .PP
2474 A nonmethod code segment containing nonmethod code, such as compiler
2475 buffers and the bytecode interpreter.
2476 This code type stays in the code cache forever.
2477 This flag is used only if \f[CB]\-XX:SegmentedCodeCache\f[R] is enabled.
2478 .RE
2479 .TP
2480 .B \f[CB]\-XX:NonProfiledCodeHeapSize=\f[R]\f[I]size\f[R]
2481 Sets the size in bytes of the code segment containing nonprofiled
2482 methods.
2483 This flag is used only if \f[CB]\-XX:SegmentedCodeCache\f[R] is enabled.
2484 .RS
2485 .RE
2486 .TP
2487 .B \f[CB]\-XX:+OptimizeStringConcat\f[R]
2488 Enables the optimization of \f[CB]String\f[R] concatenation operations.
2489 This option is enabled by default.
2490 To disable the optimization of \f[CB]String\f[R] concatenation operations,
2491 specify \f[CB]\-XX:\-OptimizeStringConcat\f[R].
2492 .RS
2493 .RE
2494 .TP
2495 .B \f[CB]\-XX:+PrintAssembly\f[R]
2496 Enables printing of assembly code for bytecoded and native methods by
2497 using the external \f[CB]hsdis\-&lt;arch&gt;.so\f[R] or \f[CB]\&amp;.dll\f[R] library.
2498 For 64\-bit VM on Windows, it\[aq]s \f[CB]hsdis\-amd64.dll\f[R].
2499 This lets you to see the generated code, which may help you to diagnose
2500 performance issues.
2501 .RS
2502 .PP
2503 By default, this option is disabled and assembly code isn\[aq]t printed.
2504 The \f[CB]\-XX:+PrintAssembly\f[R] option has to be used together with the
2505 \f[CB]\-XX:UnlockDiagnosticVMOptions\f[R] option that unlocks diagnostic
2506 JVM options.
2507 .RE
2508 .TP
2509 .B \f[CB]\-XX:ProfiledCodeHeapSize=\f[R]\f[I]size\f[R]
2510 Sets the size in bytes of the code segment containing profiled methods.
2511 This flag is used only if \f[CB]\-XX:SegmentedCodeCache\f[R] is enabled.
2512 .RS
2513 .RE
2514 .TP
2515 .B \f[CB]\-XX:+PrintCompilation\f[R]
2516 Enables verbose diagnostic output from the JVM by printing a message to
2517 the console every time a method is compiled.
2518 This lets you to see which methods actually get compiled.
2519 By default, this option is disabled and diagnostic output isn\[aq]t
2520 printed.
2521 .RS
2522 .PP
2523 You can also log compilation activity to a file by using the
2524 \f[CB]\-XX:+LogCompilation\f[R] option.
2525 .RE
2526 .TP
2527 .B \f[CB]\-XX:+PrintInlining\f[R]
2528 Enables printing of inlining decisions.
2529 This let\[aq]s you see which methods are getting inlined.
2530 .RS
2531 .PP
2532 By default, this option is disabled and inlining information isn\[aq]t
2533 printed.
2534 The \f[CB]\-XX:+PrintInlining\f[R] option has to be used together with the
2535 \f[CB]\-XX:+UnlockDiagnosticVMOptions\f[R] option that unlocks diagnostic
2536 JVM options.
2537 .RE
2538 .TP
2539 .B \f[CB]\-XX:ReservedCodeCacheSize=\f[R]\f[I]size\f[R]
2540 Sets the maximum code cache size (in bytes) for JIT\-compiled code.
2541 Append the letter \f[CB]k\f[R] or \f[CB]K\f[R] to indicate kilobytes,
2542 \f[CB]m\f[R] or \f[CB]M\f[R] to indicate megabytes, or \f[CB]g\f[R] or
2543 \f[CB]G\f[R] to indicate gigabytes.
2544 The default maximum code cache size is 240 MB; if you disable tiered
2545 compilation with the option \f[CB]\-XX:\-TieredCompilation\f[R], then the
2546 default size is 48 MB.
2547 This option has a limit of 2 GB; otherwise, an error is generated.
2548 The maximum code cache size shouldn\[aq]t be less than the initial code
2549 cache size; see the option \f[CB]\-XX:InitialCodeCacheSize\f[R].
2550 .RS
2551 .RE
2552 .TP
2553 .B \f[CB]\-XX:RTMAbortRatio=\f[R]\f[I]abort_ratio\f[R]
2554 Specifies the RTM abort ratio is specified as a percentage (%) of all
2555 executed RTM transactions.
2556 If a number of aborted transactions becomes greater than this ratio,
2557 then the compiled code is deoptimized.
2558 This ratio is used when the \f[CB]\-XX:+UseRTMDeopt\f[R] option is
2559 enabled.
2560 The default value of this option is 50.
2561 This means that the compiled code is deoptimized if 50% of all
2562 transactions are aborted.
2563 .RS
2564 .RE
2565 .TP
2566 .B \f[CB]\-XX:RTMRetryCount=\f[R]\f[I]number_of_retries\f[R]
2567 Specifies the number of times that the RTM locking code is retried, when
2568 it is aborted or busy, before falling back to the normal locking
2569 mechanism.
2570 The default value for this option is 5.
2571 The \f[CB]\-XX:UseRTMLocking\f[R] option must be enabled.
2572 .RS
2573 .RE
2574 .TP
2575 .B \f[CB]\-XX:+SegmentedCodeCache\f[R]
2576 Enables segmentation of the code cache.
2577 Without the \f[CB]\-XX:+SegmentedCodeCache\f[R], the code cache consists
2578 of one large segment.
2579 With \f[CB]\-XX:+SegmentedCodeCache\f[R], we have separate segments for
2580 nonmethod, profiled method, and nonprofiled method code.
2581 These segments aren\[aq]t resized at runtime.
2582 The feature is enabled by default if tiered compilation is enabled
2583 (\f[CB]\-XX:+TieredCompilation\f[R] ) and
2584 \f[CB]\-XX:ReservedCodeCacheSize\f[R] &gt;= 240 MB.
2585 The advantages are better control of the memory footprint, reduced code
2586 fragmentation, and better iTLB/iCache behavior due to improved locality.
2587 iTLB/iCache is a CPU\-specific term meaning Instruction Translation
2588 Lookaside Buffer (ITLB).
2589 ICache is an instruction cache in theCPU.
2590 The implementation of the code cache can be found in the file:
2591 \f[CB]/share/vm/code/codeCache.cpp\f[R].
2592 .RS
2593 .RE
2594 .TP
2595 .B \f[CB]\-XX:StartAggressiveSweepingAt=\f[R]\f[I]percent\f[R]
2596 Forces stack scanning of active methods to aggressively remove unused
2597 code when only the given percentage of the code cache is free.
2598 The default value is 10%.
2599 .RS
2600 .RE
2601 .TP
2602 .B \f[CB]\-XX:\-TieredCompilation\f[R]
2603 Disables the use of tiered compilation.
2604 By default, this option is enabled.
2605 .RS
2606 .RE
2607 .TP
2608 .B \f[CB]\-XX:UseSSE=\f[R]\f[I]version\f[R]
2609 Enables the use of SSE instruction set of a specified version.
2610 Is set by default to the highest supported version available (x86 only).
2611 .RS
2612 .RE
2613 .TP
2614 .B \f[CB]\-XX:UseAVX=\f[R]\f[I]version\f[R]
2615 Enables the use of AVX instruction set of a specified version.
2616 Is set by default to the highest supported version available (x86 only).
2617 .RS
2618 .RE
2619 .TP
2620 .B \f[CB]\-XX:+UseAES\f[R]
2621 Enables hardware\-based AES intrinsics for hardware that supports it.
2622 This option is on by default on hardware that has the necessary
2623 instructions.
2624 The \f[CB]\-XX:+UseAES\f[R] is used in conjunction with UseAESIntrinsics.
2625 Flags that control intrinsics now require the option
2626 \f[CB]\-XX:+UnlockDiagnosticVMOptions\f[R].
2627 .RS
2628 .RE
2629 .TP
2630 .B \f[CB]\-XX:+UseAESIntrinsics\f[R]
2631 Enables AES intrinsics.
2632 Specifying\f[CB]\-XX:+UseAESIntrinsics\f[R] is equivalent to also enabling
2633 \f[CB]\-XX:+UseAES\f[R].
2634 To disable hardware\-based AES intrinsics, specify
2635 \f[CB]\-XX:\-UseAES\ \-XX:\-UseAESIntrinsics\f[R].
2636 For example, to enable hardware AES, use the following flags:
2637 .RS
2638 .RS
2639 .PP
2640 \f[CB]\-XX:+UseAES\ \-XX:+UseAESIntrinsics\f[R]
2641 .RE
2642 .PP
2643 Flags that control intrinsics now require the option
2644 \f[CB]\-XX:+UnlockDiagnosticVMOptions\f[R].
2645 .RE
2646 .TP
2647 .B \f[CB]\-XX:+UseAESCTRIntrinsics\f[R]
2648 Analogous to \f[CB]\-XX:+UseAESIntrinsics\f[R] enables AES/CTR intrinsics.
2649 .RS
2650 .RE
2651 .TP
2652 .B \f[CB]\-XX:+UseGHASHIntrinsics\f[R]
2653 Controls the use of GHASH intrinsics.
2654 Enabled by default on platforms that support the corresponding
2655 instructions.
2656 Flags that control intrinsics now require the option
2657 \f[CB]\-XX:+UnlockDiagnosticVMOptions\f[R].
2658 .RS
2659 .RE
2660 .TP
2661 .B \f[CB]\-XX:+UseBASE64Intrinsics\f[R]
2662 Controls the use of accelerated BASE64 encoding routines for
2663 \f[CB]java.util.Base64\f[R].
2664 Enabled by default on platforms that support it.
2665 Flags that control intrinsics now require the option
2666 \f[CB]\-XX:+UnlockDiagnosticVMOptions\f[R].
2667 .RS
2668 .RE
2669 .TP
2670 .B \f[CB]\-XX:+UseAdler32Intrinsics\f[R]
2671 Controls the use of Adler32 checksum algorithm intrinsic for
2672 \f[CB]java.util.zip.Adler32\f[R].
2673 Enabled by default on platforms that support it.
2674 Flags that control intrinsics now require the option
2675 \f[CB]\-XX:+UnlockDiagnosticVMOptions\f[R].
2676 .RS
2677 .RE
2678 .TP
2679 .B \f[CB]\-XX:+UseCRC32Intrinsics\f[R]
2680 Controls the use of CRC32 intrinsics for \f[CB]java.util.zip.CRC32\f[R].
2681 Enabled by default on platforms that support it.
2682 Flags that control intrinsics now require the option
2683 \f[CB]\-XX:+UnlockDiagnosticVMOptions\f[R].
2684 .RS
2685 .RE
2686 .TP
2687 .B \f[CB]\-XX:+UseCRC32CIntrinsics\f[R]
2688 Controls the use of CRC32C intrinsics for \f[CB]java.util.zip.CRC32C\f[R].
2689 Enabled by default on platforms that support it.
2690 Flags that control intrinsics now require the option
2691 \f[CB]\-XX:+UnlockDiagnosticVMOptions\f[R].
2692 .RS
2693 .RE
2694 .TP
2695 .B \f[CB]\-XX:+UseSHA\f[R]
2696 Enables hardware\-based intrinsics for SHA crypto hash functions for
2697 some hardware.
2698 The \f[CB]UseSHA\f[R] option is used in conjunction with the
2699 \f[CB]UseSHA1Intrinsics\f[R], \f[CB]UseSHA256Intrinsics\f[R], and
2700 \f[CB]UseSHA512Intrinsics\f[R] options.
2701 .RS
2702 .PP
2703 The \f[CB]UseSHA\f[R] and \f[CB]UseSHA*Intrinsics\f[R] flags are enabled by
2704 default on machines that support the corresponding instructions.
2705 .PP
2706 This feature is applicable only when using the
2707 \f[CB]sun.security.provider.Sun\f[R] provider for SHA operations.
2708 Flags that control intrinsics now require the option
2709 \f[CB]\-XX:+UnlockDiagnosticVMOptions\f[R].
2710 .PP
2711 To disable all hardware\-based SHA intrinsics, specify the
2712 \f[CB]\-XX:\-UseSHA\f[R].
2713 To disable only a particular SHA intrinsic, use the appropriate
2714 corresponding option.
2715 For example: \f[CB]\-XX:\-UseSHA256Intrinsics\f[R].
2716 .RE
2717 .TP
2718 .B \f[CB]\-XX:+UseSHA1Intrinsics\f[R]
2719 Enables intrinsics for SHA\-1 crypto hash function.
2720 Flags that control intrinsics now require the option
2721 \f[CB]\-XX:+UnlockDiagnosticVMOptions\f[R].
2722 .RS
2723 .RE
2724 .TP
2725 .B \f[CB]\-XX:+UseSHA256Intrinsics\f[R]
2726 Enables intrinsics for SHA\-224 and SHA\-256 crypto hash functions.
2727 Flags that control intrinsics now require the option
2728 \f[CB]\-XX:+UnlockDiagnosticVMOptions\f[R].
2729 .RS
2730 .RE
2731 .TP
2732 .B \f[CB]\-XX:+UseSHA512Intrinsics\f[R]
2733 Enables intrinsics for SHA\-384 and SHA\-512 crypto hash functions.
2734 Flags that control intrinsics now require the option
2735 \f[CB]\-XX:+UnlockDiagnosticVMOptions\f[R].
2736 .RS
2737 .RE
2738 .TP
2739 .B \f[CB]\-XX:+UseMathExactIntrinsics\f[R]
2740 Enables intrinsification of various \f[CB]java.lang.Math.*Exact()\f[R]
2741 functions.
2742 Enabled by default.
2743 Flags that control intrinsics now require the option
2744 \f[CB]\-XX:+UnlockDiagnosticVMOptions\f[R].
2745 .RS
2746 .RE
2747 .TP
2748 .B \f[CB]\-XX:+UseMultiplyToLenIntrinsic\f[R]
2749 Enables intrinsification of \f[CB]BigInteger.multiplyToLen()\f[R].
2750 Enabled by default on platforms that support it.
2751 Flags that control intrinsics now require the option
2752 \f[CB]\-XX:+UnlockDiagnosticVMOptions\f[R].
2753 .RS
2754 .RE
2755 .TP
2756 .B \-XX:+UseSquareToLenIntrinsic
2757 Enables intrinsification of \f[CB]BigInteger.squareToLen()\f[R].
2758 Enabled by default on platforms that support it.
2759 Flags that control intrinsics now require the option
2760 \f[CB]\-XX:+UnlockDiagnosticVMOptions\f[R].
2761 .RS
2762 .RE
2763 .TP
2764 .B \-XX:+UseMulAddIntrinsic
2765 Enables intrinsification of \f[CB]BigInteger.mulAdd()\f[R].
2766 Enabled by default on platforms that support it.
2767 Flags that control intrinsics now require the option
2768 \f[CB]\-XX:+UnlockDiagnosticVMOptions\f[R].
2769 .RS
2770 .RE
2771 .TP
2772 .B \-XX:+UseMontgomeryMultiplyIntrinsic
2773 Enables intrinsification of \f[CB]BigInteger.montgomeryMultiply()\f[R].
2774 Enabled by default on platforms that support it.
2775 Flags that control intrinsics now require the option
2776 \f[CB]\-XX:+UnlockDiagnosticVMOptions\f[R].
2777 .RS
2778 .RE
2779 .TP
2780 .B \-XX:+UseMontgomerySquareIntrinsic
2781 Enables intrinsification of \f[CB]BigInteger.montgomerySquare()\f[R].
2782 Enabled by default on platforms that support it.
2783 Flags that control intrinsics now require the option
2784 \f[CB]\-XX:+UnlockDiagnosticVMOptions\f[R].
2785 .RS
2786 .RE
2787 .TP
2788 .B \f[CB]\-XX:+UseCMoveUnconditionally\f[R]
2789 Generates CMove (scalar and vector) instructions regardless of
2790 profitability analysis.
2791 .RS
2792 .RE
2793 .TP
2794 .B \f[CB]\-XX:+UseCodeCacheFlushing\f[R]
2795 Enables flushing of the code cache before shutting down the compiler.
2796 This option is enabled by default.
2797 To disable flushing of the code cache before shutting down the compiler,
2798 specify \f[CB]\-XX:\-UseCodeCacheFlushing\f[R].
2799 .RS
2800 .RE
2801 .TP
2802 .B \f[CB]\-XX:+UseCondCardMark\f[R]
2803 Enables checking if the card is already marked before updating the card
2804 table.
2805 This option is disabled by default.
2806 It should be used only on machines with multiple sockets, where it
2807 increases the performance of Java applications that rely on concurrent
2808 operations.
2809 .RS
2810 .RE
2811 .TP
2812 .B \f[CB]\-XX:+UseCountedLoopSafepoints\f[R]
2813 Keeps safepoints in counted loops.
2814 Its default value depends on whether the selected garbage collector
2815 requires low latency safepoints.
2816 .RS
2817 .RE
2818 .TP
2819 .B \f[CB]\-XX:LoopStripMiningIter=\f[R]\f[I]number_of_iterations\f[R]
2820 Controls the number of iterations in the inner strip mined loop.
2821 Strip mining transforms counted loops into two level nested loops.
2822 Safepoints are kept in the outer loop while the inner loop can execute
2823 at full speed.
2824 This option controls the maximum number of iterations in the inner loop.
2825 The default value is 1,000.
2826 .RS
2827 .RE
2828 .TP
2829 .B \f[CB]\-XX:LoopStripMiningIterShortLoop\f[R]=\f[I]number_of_iterations\f[R]
2830 Controls loop strip mining optimization.
2831 Loops with the number of iterations less than specified will not have
2832 safepoints in them.
2833 Default value is 1/10th of \f[CB]\-XX:LoopStripMiningIter\f[R].
2834 .RS
2835 .RE
2836 .TP
2837 .B \f[CB]\-XX:+UseFMA\f[R]
2838 Enables hardware\-based FMA intrinsics for hardware where FMA
2839 instructions are available (such as, Intel and ARM64).
2840 FMA intrinsics are generated for the
2841 \f[CB]java.lang.Math.fma(\f[R]\f[I]a\f[R]\f[CB],\f[R] \f[I]b\f[R]\f[CB],\f[R]
2842 \f[I]c\f[R]\f[CB])\f[R] methods that calculate the value of \f[CB](\f[R]
2843 \f[I]a\f[R] \f[CB]*\f[R] \f[I]b\f[R] \f[CB]+\f[R] \f[I]c\f[R] \f[CB])\f[R]
2844 expressions.
2845 .RS
2846 .RE
2847 .TP
2848 .B \f[CB]\-XX:+UseRTMDeopt\f[R]
2849 Autotunes RTM locking depending on the abort ratio.
2850 This ratio is specified by the \f[CB]\-XX:RTMAbortRatio\f[R] option.
2851 If the number of aborted transactions exceeds the abort ratio, then the
2852 method containing the lock is deoptimized and recompiled with all locks
2853 as normal locks.
2854 This option is disabled by default.
2855 The \f[CB]\-XX:+UseRTMLocking\f[R] option must be enabled.
2856 .RS
2857 .RE
2858 .TP
2859 .B \f[CB]\-XX:+UseRTMLocking\f[R]
2860 Generates Restricted Transactional Memory (RTM) locking code for all
2861 inflated locks, with the normal locking mechanism as the fallback
2862 handler.
2863 This option is disabled by default.
2864 Options related to RTM are available only on x86 CPUs that support
2865 Transactional Synchronization Extensions (TSX).
2866 .RS
2867 .PP
2868 RTM is part of Intel\[aq]s TSX, which is an x86 instruction set
2869 extension and facilitates the creation of multithreaded applications.
2870 RTM introduces the new instructions \f[CB]XBEGIN\f[R], \f[CB]XABORT\f[R],
2871 \f[CB]XEND\f[R], and \f[CB]XTEST\f[R].
2872 The \f[CB]XBEGIN\f[R] and \f[CB]XEND\f[R] instructions enclose a set of
2873 instructions to run as a transaction.
2874 If no conflict is found when running the transaction, then the memory
2875 and register modifications are committed together at the \f[CB]XEND\f[R]
2876 instruction.
2877 The \f[CB]XABORT\f[R] instruction can be used to explicitly abort a
2878 transaction and the \f[CB]XTEST\f[R] instruction checks if a set of
2879 instructions is being run in a transaction.
2880 .PP
2881 A lock on a transaction is inflated when another thread tries to access
2882 the same transaction, thereby blocking the thread that didn\[aq]t
2883 originally request access to the transaction.
2884 RTM requires that a fallback set of operations be specified in case a
2885 transaction aborts or fails.
2886 An RTM lock is a lock that has been delegated to the TSX\[aq]s system.
2887 .PP
2888 RTM improves performance for highly contended locks with low conflict in
2889 a critical region (which is code that must not be accessed by more than
2890 one thread concurrently).
2891 RTM also improves the performance of coarse\-grain locking, which
2892 typically doesn\[aq]t perform well in multithreaded applications.
2893 (Coarse\-grain locking is the strategy of holding locks for long periods
2894 to minimize the overhead of taking and releasing locks, while
2895 fine\-grained locking is the strategy of trying to achieve maximum
2896 parallelism by locking only when necessary and unlocking as soon as
2897 possible.) Also, for lightly contended locks that are used by different
2898 threads, RTM can reduce false cache line sharing, also known as cache
2899 line ping\-pong.
2900 This occurs when multiple threads from different processors are
2901 accessing different resources, but the resources share the same cache
2902 line.
2903 As a result, the processors repeatedly invalidate the cache lines of
2904 other processors, which forces them to read from main memory instead of
2905 their cache.
2906 .RE
2907 .TP
2908 .B \f[CB]\-XX:+UseSuperWord\f[R]
2909 Enables the transformation of scalar operations into superword
2910 operations.
2911 Superword is a vectorization optimization.
2912 This option is enabled by default.
2913 To disable the transformation of scalar operations into superword
2914 operations, specify \f[CB]\-XX:\-UseSuperWord\f[R].
2915 .RS
2916 .RE
2917 .SH ADVANCED SERVICEABILITY OPTIONS FOR JAVA
2918 .PP
2919 These \f[CB]java\f[R] options provide the ability to gather system
2920 information and perform extensive debugging.
2921 .TP
2922 .B \f[CB]\-XX:+DisableAttachMechanism\f[R]
2923 Disables the mechanism that lets tools attach to the JVM.
2924 By default, this option is disabled, meaning that the attach mechanism
2925 is enabled and you can use diagnostics and troubleshooting tools such as
2926 \f[CB]jcmd\f[R], \f[CB]jstack\f[R], \f[CB]jmap\f[R], and \f[CB]jinfo\f[R].
2927 .RS
2928 .RS
2929 .PP
2930 \f[B]Note:\f[R] The tools such as \f[B]jcmd\f[R], \f[B]jinfo\f[R],
2931 \f[B]jmap\f[R], and \f[B]jstack\f[R] shipped with the JDK aren\[aq]t
2932 supported when using the tools from one JDK version to troubleshoot a
2933 different JDK version.
2934 .RE
2935 .RE
2936 .TP
2937 .B \f[CB]\-XX:+ExtendedDTraceProbes\f[R]
2938 \f[B]Linux and macOS:\f[R] Enables additional \f[CB]dtrace\f[R] tool probes
2939 that affect the performance.
2940 By default, this option is disabled and \f[CB]dtrace\f[R] performs only
2941 standard probes.
2942 .RS
2943 .RE
2944 .TP
2945 .B \f[CB]\-XX:+HeapDumpOnOutOfMemoryError\f[R]
2946 Enables the dumping of the Java heap to a file in the current directory
2947 by using the heap profiler (HPROF) when a
2948 \f[CB]java.lang.OutOfMemoryError\f[R] exception is thrown.
2949 You can explicitly set the heap dump file path and name using the
2950 \f[CB]\-XX:HeapDumpPath\f[R] option.
2951 By default, this option is disabled and the heap isn\[aq]t dumped when
2952 an \f[CB]OutOfMemoryError\f[R] exception is thrown.
2953 .RS
2954 .RE
2955 .TP
2956 .B \f[CB]\-XX:HeapDumpPath=path\f[R]
2957 Sets the path and file name for writing the heap dump provided by the
2958 heap profiler (HPROF) when the \f[CB]\-XX:+HeapDumpOnOutOfMemoryError\f[R]
2959 option is set.
2960 By default, the file is created in the current working directory, and
2961 it\[aq]s named \f[CB]java_pid&lt;pid&gt;.hprof\f[R] where \f[CB]&lt;pid&gt;\f[R] is the
2962 identifier of the process that caused the error.
2963 The following example shows how to set the default file explicitly
2964 (\f[CB]%p\f[R] represents the current process identifier):
2965 .RS
2966 .RS
2967 .PP
2968 \f[CB]\-XX:HeapDumpPath=./java_pid%p.hprof\f[R]
2969 .RE
2970 .IP \[bu] 2
2971 \f[B]Linux and macOS:\f[R] The following example shows how to set the
2972 heap dump file to \f[CB]/var/log/java/java_heapdump.hprof\f[R]:
2973 .RS 2
2974 .RS
2975 .PP
2976 \f[CB]\-XX:HeapDumpPath=/var/log/java/java_heapdump.hprof\f[R]
2977 .RE
2978 .RE
2979 .IP \[bu] 2
2980 \f[B]Windows:\f[R] The following example shows how to set the heap dump
2981 file to \f[CB]C:/log/java/java_heapdump.log\f[R]:
2982 .RS 2
2983 .RS
2984 .PP
2985 \f[CB]\-XX:HeapDumpPath=C:/log/java/java_heapdump.log\f[R]
2986 .RE
2987 .RE
2988 .RE
2989 .TP
2990 .B \f[CB]\-XX:LogFile=\f[R]\f[I]path\f[R]
2991 Sets the path and file name to where log data is written.
2992 By default, the file is created in the current working directory, and
2993 it\[aq]s named \f[CB]hotspot.log\f[R].
2994 .RS
2995 .IP \[bu] 2
2996 \f[B]Linux and macOS:\f[R] The following example shows how to set the log
2997 file to \f[CB]/var/log/java/hotspot.log\f[R]:
2998 .RS 2
2999 .RS
3000 .PP
3001 \f[CB]\-XX:LogFile=/var/log/java/hotspot.log\f[R]
3002 .RE
3003 .RE
3004 .IP \[bu] 2
3005 \f[B]Windows:\f[R] The following example shows how to set the log file to
3006 \f[CB]C:/log/java/hotspot.log\f[R]:
3007 .RS 2
3008 .RS
3009 .PP
3010 \f[CB]\-XX:LogFile=C:/log/java/hotspot.log\f[R]
3011 .RE
3012 .RE
3013 .RE
3014 .TP
3015 .B \f[CB]\-XX:+PrintClassHistogram\f[R]
3016 Enables printing of a class instance histogram after one of the
3017 following events:
3018 .RS
3019 .IP \[bu] 2
3020 \f[B]Linux and macOS:\f[R] \f[CB]Control+Break\f[R]
3021 .IP \[bu] 2
3022 \f[B]Windows:\f[R] \f[CB]Control+C\f[R] (\f[CB]SIGTERM\f[R])
3023 .PP
3024 By default, this option is disabled.
3025 .PP
3026 Setting this option is equivalent to running the \f[CB]jmap\ \-histo\f[R]
3027 command, or the \f[CB]jcmd\f[R] \f[I]pid\f[R] \f[CB]GC.class_histogram\f[R]
3028 command, where \f[I]pid\f[R] is the current Java process identifier.
3029 .RE
3030 .TP
3031 .B \f[CB]\-XX:+PrintConcurrentLocks\f[R]
3032 Enables printing of \f[CB]java.util.concurrent\f[R] locks after one of the
3033 following events:
3034 .RS
3035 .IP \[bu] 2
3036 \f[B]Linux and macOS:\f[R] \f[CB]Control+Break\f[R]
3037 .IP \[bu] 2
3038 \f[B]Windows:\f[R] \f[CB]Control+C\f[R] (\f[CB]SIGTERM\f[R])
3039 .PP
3040 By default, this option is disabled.
3041 .PP
3042 Setting this option is equivalent to running the \f[CB]jstack\ \-l\f[R]
3043 command or the \f[CB]jcmd\f[R] \f[I]pid\f[R] \f[CB]Thread.print\ \-l\f[R]
3044 command, where \f[I]pid\f[R] is the current Java process identifier.
3045 .RE
3046 .TP
3047 .B \f[CB]\-XX:+PrintFlagsRanges\f[R]
3048 Prints the range specified and allows automatic testing of the values.
3049 See \f[B]Validate Java Virtual Machine Flag Arguments\f[R].
3050 .RS
3051 .RE
3052 .TP
3053 .B \f[CB]\-XX:+PerfDataSaveToFile\f[R]
3054 If enabled, saves \f[B]jstat\f[R] binary data when the Java application
3055 exits.
3056 This binary data is saved in a file named
3057 \f[CB]hsperfdata_\f[R]\f[I]pid\f[R], where \f[I]pid\f[R] is the process
3058 identifier of the Java application that you ran.
3059 Use the \f[CB]jstat\f[R] command to display the performance data contained
3060 in this file as follows:
3061 .RS
3062 .RS
3063 .PP
3064 \f[CB]jstat\ \-class\ file:///\f[R]\f[I]path\f[R]\f[CB]/hsperfdata_\f[R]\f[I]pid\f[R]
3065 .RE
3066 .RS
3067 .PP
3068 \f[CB]jstat\ \-gc\ file:///\f[R]\f[I]path\f[R]\f[CB]/hsperfdata_\f[R]\f[I]pid\f[R]
3069 .RE
3070 .RE
3071 .TP
3072 .B \f[CB]\-XX:+UsePerfData\f[R]
3073 Enables the \f[CB]perfdata\f[R] feature.
3074 This option is enabled by default to allow JVM monitoring and
3075 performance testing.
3076 Disabling it suppresses the creation of the \f[CB]hsperfdata_userid\f[R]
3077 directories.
3078 To disable the \f[CB]perfdata\f[R] feature, specify
3079 \f[CB]\-XX:\-UsePerfData\f[R].
3080 .RS
3081 .RE
3082 .SH ADVANCED GARBAGE COLLECTION OPTIONS FOR JAVA
3083 .PP
3084 These \f[CB]java\f[R] options control how garbage collection (GC) is
3085 performed by the Java HotSpot VM.
3086 .TP
3087 .B \f[CB]\-XX:+AggressiveHeap\f[R]
3088 Enables Java heap optimization.
3089 This sets various parameters to be optimal for long\-running jobs with
3090 intensive memory allocation, based on the configuration of the computer
3091 (RAM and CPU).
3092 By default, the option is disabled and the heap sizes are configured
3093 less aggressively.
3094 .RS
3095 .RE
3096 .TP
3097 .B \f[CB]\-XX:+AlwaysPreTouch\f[R]
3098 Requests the VM to touch every page on the Java heap after requesting it
3099 from the operating system and before handing memory out to the
3100 application.
3101 By default, this option is disabled and all pages are committed as the
3102 application uses the heap space.
3103 .RS
3104 .RE
3105 .TP
3106 .B \f[CB]\-XX:ConcGCThreads=\f[R]\f[I]threads\f[R]
3107 Sets the number of threads used for concurrent GC.
3108 Sets \f[I]\f[CI]threads\f[I]\f[R] to approximately 1/4 of the number of
3109 parallel garbage collection threads.
3110 The default value depends on the number of CPUs available to the JVM.
3111 .RS
3112 .PP
3113 For example, to set the number of threads for concurrent GC to 2,
3114 specify the following option:
3115 .RS
3116 .PP
3117 \f[CB]\-XX:ConcGCThreads=2\f[R]
3118 .RE
3119 .RE
3120 .TP
3121 .B \f[CB]\-XX:+DisableExplicitGC\f[R]
3122 Enables the option that disables processing of calls to the
3123 \f[CB]System.gc()\f[R] method.
3124 This option is disabled by default, meaning that calls to
3125 \f[CB]System.gc()\f[R] are processed.
3126 If processing of calls to \f[CB]System.gc()\f[R] is disabled, then the JVM
3127 still performs GC when necessary.
3128 .RS
3129 .RE
3130 .TP
3131 .B \f[CB]\-XX:+ExplicitGCInvokesConcurrent\f[R]
3132 Enables invoking of concurrent GC by using the \f[CB]System.gc()\f[R]
3133 request.
3134 This option is disabled by default and can be enabled only with the
3135 \f[CB]\-XX:+UseG1GC\f[R] option.
3136 .RS
3137 .RE
3138 .TP
3139 .B \f[CB]\-XX:G1AdaptiveIHOPNumInitialSamples=\f[R]\f[I]number\f[R]
3140 When \f[CB]\-XX:UseAdaptiveIHOP\f[R] is enabled, this option sets the
3141 number of completed marking cycles used to gather samples until G1
3142 adaptively determines the optimum value of
3143 \f[CB]\-XX:InitiatingHeapOccupancyPercent\f[R].
3144 Before, G1 uses the value of
3145 \f[CB]\-XX:InitiatingHeapOccupancyPercent\f[R] directly for this purpose.
3146 The default value is 3.
3147 .RS
3148 .RE
3149 .TP
3150 .B \f[CB]\-XX:G1HeapRegionSize=size\f[R]
3151 Sets the size of the regions into which the Java heap is subdivided when
3152 using the garbage\-first (G1) collector.
3153 The value is a power of 2 and can range from 1 MB to 32 MB.
3154 The default region size is determined ergonomically based on the heap
3155 size with a goal of approximately 2048 regions.
3156 .RS
3157 .PP
3158 The following example sets the size of the subdivisions to 16 MB:
3159 .RS
3160 .PP
3161 \f[CB]\-XX:G1HeapRegionSize=16m\f[R]
3162 .RE
3163 .RE
3164 .TP
3165 .B \f[CB]\-XX:G1HeapWastePercent=\f[R]\f[I]percent\f[R]
3166 Sets the percentage of heap that you\[aq]re willing to waste.
3167 The Java HotSpot VM doesn\[aq]t initiate the mixed garbage collection
3168 cycle when the reclaimable percentage is less than the heap waste
3169 percentage.
3170 The default is 5 percent.
3171 .RS
3172 .RE
3173 .TP
3174 .B \f[CB]\-XX:G1MaxNewSizePercent=\f[R]\f[I]percent\f[R]
3175 Sets the percentage of the heap size to use as the maximum for the young
3176 generation size.
3177 The default value is 60 percent of your Java heap.
3178 .RS
3179 .PP
3180 This is an experimental flag.
3181 This setting replaces the \f[CB]\-XX:DefaultMaxNewGenPercent\f[R] setting.
3182 .RE
3183 .TP
3184 .B \f[CB]\-XX:G1MixedGCCountTarget=\f[R]\f[I]number\f[R]
3185 Sets the target number of mixed garbage collections after a marking
3186 cycle to collect old regions with at most
3187 \f[CB]G1MixedGCLIveThresholdPercent\f[R] live data.
3188 The default is 8 mixed garbage collections.
3189 The goal for mixed collections is to be within this target number.
3190 .RS
3191 .RE
3192 .TP
3193 .B \f[CB]\-XX:G1MixedGCLiveThresholdPercent=\f[R]\f[I]percent\f[R]
3194 Sets the occupancy threshold for an old region to be included in a mixed
3195 garbage collection cycle.
3196 The default occupancy is 85 percent.
3197 .RS
3198 .PP
3199 This is an experimental flag.
3200 This setting replaces the
3201 \f[CB]\-XX:G1OldCSetRegionLiveThresholdPercent\f[R] setting.
3202 .RE
3203 .TP
3204 .B \f[CB]\-XX:G1NewSizePercent=\f[R]\f[I]percent\f[R]
3205 Sets the percentage of the heap to use as the minimum for the young
3206 generation size.
3207 The default value is 5 percent of your Java heap.
3208 .RS
3209 .PP
3210 This is an experimental flag.
3211 This setting replaces the \f[CB]\-XX:DefaultMinNewGenPercent\f[R] setting.
3212 .RE
3213 .TP
3214 .B \f[CB]\-XX:G1OldCSetRegionThresholdPercent=\f[R]\f[I]percent\f[R]
3215 Sets an upper limit on the number of old regions to be collected during
3216 a mixed garbage collection cycle.
3217 The default is 10 percent of the Java heap.
3218 .RS
3219 .RE
3220 .TP
3221 .B \f[CB]\-XX:G1ReservePercent=\f[R]\f[I]percent\f[R]
3222 Sets the percentage of the heap (0 to 50) that\[aq]s reserved as a false
3223 ceiling to reduce the possibility of promotion failure for the G1
3224 collector.
3225 When you increase or decrease the percentage, ensure that you adjust the
3226 total Java heap by the same amount.
3227 By default, this option is set to 10%.
3228 .RS
3229 .PP
3230 The following example sets the reserved heap to 20%:
3231 .RS
3232 .PP
3233 \f[CB]\-XX:G1ReservePercent=20\f[R]
3234 .RE
3235 .RE
3236 .TP
3237 .B \f[CB]\-XX:+G1UseAdaptiveIHOP\f[R]
3238 Controls adaptive calculation of the old generation occupancy to start
3239 background work preparing for an old generation collection.
3240 If enabled, G1 uses \f[CB]\-XX:InitiatingHeapOccupancyPercent\f[R] for the
3241 first few times as specified by the value of
3242 \f[CB]\-XX:G1AdaptiveIHOPNumInitialSamples\f[R], and after that adaptively
3243 calculates a new optimum value for the initiating occupancy
3244 automatically.
3245 Otherwise, the old generation collection process always starts at the
3246 old generation occupancy determined by
3247 \f[CB]\-XX:InitiatingHeapOccupancyPercent\f[R].
3248 .RS
3249 .PP
3250 The default is enabled.
3251 .RE
3252 .TP
3253 .B \f[CB]\-XX:InitialHeapSize=\f[R]\f[I]size\f[R]
3254 Sets the initial size (in bytes) of the memory allocation pool.
3255 This value must be either 0, or a multiple of 1024 and greater than 1
3256 MB.
3257 Append the letter \f[CB]k\f[R] or \f[CB]K\f[R] to indicate kilobytes,
3258 \f[CB]m\f[R] or \f[CB]M\f[R] to indicate megabytes, or \f[CB]g\f[R] or
3259 \f[CB]G\f[R] to indicate gigabytes.
3260 The default value is selected at run time based on the system
3261 configuration.
3262 .RS
3263 .PP
3264 The following examples show how to set the size of allocated memory to 6
3265 MB using various units:
3266 .IP
3267 .nf
3268 \f[CB]
3269 \-XX:InitialHeapSize=6291456
3270 \-XX:InitialHeapSize=6144k
3271 \-XX:InitialHeapSize=6m
3272 \f[R]
3273 .fi
3274 .PP
3275 If you set this option to 0, then the initial size is set as the sum of
3276 the sizes allocated for the old generation and the young generation.
3277 The size of the heap for the young generation can be set using the
3278 \f[CB]\-XX:NewSize\f[R] option.
3279 .RE
3280 .TP
3281 .B \f[CB]\-XX:InitialRAMPercentage=\f[R]\f[I]percent\f[R]
3282 Sets the initial amount of memory that the JVM will use for the Java
3283 heap before applying ergonomics heuristics as a percentage of the
3284 maximum amount determined as described in the \f[CB]\-XX:MaxRAM\f[R]
3285 option.
3286 The default value is 1.5625 percent.
3287 .RS
3288 .PP
3289 The following example shows how to set the percentage of the initial
3290 amount of memory used for the Java heap:
3291 .RS
3292 .PP
3293 \f[CB]\-XX:InitialRAMPercentage=5\f[R]
3294 .RE
3295 .RE
3296 .TP
3297 .B \f[CB]\-XX:InitialSurvivorRatio=\f[R]\f[I]ratio\f[R]
3298 Sets the initial survivor space ratio used by the throughput garbage
3299 collector (which is enabled by the \f[CB]\-XX:+UseParallelGC\f[R] option).
3300 Adaptive sizing is enabled by default with the throughput garbage
3301 collector by using the \f[CB]\-XX:+UseParallelGC\f[R] option, and the
3302 survivor space is resized according to the application behavior,
3303 starting with the initial value.
3304 If adaptive sizing is disabled (using the
3305 \f[CB]\-XX:\-UseAdaptiveSizePolicy\f[R] option), then the
3306 \f[CB]\-XX:SurvivorRatio\f[R] option should be used to set the size of the
3307 survivor space for the entire execution of the application.
3308 .RS
3309 .PP
3310 The following formula can be used to calculate the initial size of
3311 survivor space (S) based on the size of the young generation (Y), and
3312 the initial survivor space ratio (R):
3313 .RS
3314 .PP
3315 \f[CB]S=Y/(R+2)\f[R]
3316 .RE
3317 .PP
3318 The 2 in the equation denotes two survivor spaces.
3319 The larger the value specified as the initial survivor space ratio, the
3320 smaller the initial survivor space size.
3321 .PP
3322 By default, the initial survivor space ratio is set to 8.
3323 If the default value for the young generation space size is used (2 MB),
3324 then the initial size of the survivor space is 0.2 MB.
3325 .PP
3326 The following example shows how to set the initial survivor space ratio
3327 to 4:
3328 .RS
3329 .PP
3330 \f[CB]\-XX:InitialSurvivorRatio=4\f[R]
3331 .RE
3332 .RE
3333 .TP
3334 .B \f[CB]\-XX:InitiatingHeapOccupancyPercent=\f[R]\f[I]percent\f[R]
3335 Sets the percentage of the old generation occupancy (0 to 100) at which
3336 to start the first few concurrent marking cycles for the G1 garbage
3337 collector.
3338 .RS
3339 .PP
3340 By default, the initiating value is set to 45%.
3341 A value of 0 implies nonstop concurrent GC cycles from the beginning
3342 until G1 adaptively sets this value.
3343 .PP
3344 See also the \f[CB]\-XX:G1UseAdaptiveIHOP\f[R] and
3345 \f[CB]\-XX:G1AdaptiveIHOPNumInitialSamples\f[R] options.
3346 .PP
3347 The following example shows how to set the initiating heap occupancy to
3348 75%:
3349 .RS
3350 .PP
3351 \f[CB]\-XX:InitiatingHeapOccupancyPercent=75\f[R]
3352 .RE
3353 .RE
3354 .TP
3355 .B \f[CB]\-XX:MaxGCPauseMillis=\f[R]\f[I]time\f[R]
3356 Sets a target for the maximum GC pause time (in milliseconds).
3357 This is a soft goal, and the JVM will make its best effort to achieve
3358 it.
3359 The specified value doesn\[aq]t adapt to your heap size.
3360 By default, for G1 the maximum pause time target is 200 milliseconds.
3361 The other generational collectors do not use a pause time goal by
3362 default.
3363 .RS
3364 .PP
3365 The following example shows how to set the maximum target pause time to
3366 500 ms:
3367 .RS
3368 .PP
3369 \f[CB]\-XX:MaxGCPauseMillis=500\f[R]
3370 .RE
3371 .RE
3372 .TP
3373 .B \f[CB]\-XX:MaxHeapSize=\f[R]\f[I]size\f[R]
3374 Sets the maximum size (in byes) of the memory allocation pool.
3375 This value must be a multiple of 1024 and greater than 2 MB.
3376 Append the letter \f[CB]k\f[R] or \f[CB]K\f[R] to indicate kilobytes,
3377 \f[CB]m\f[R] or \f[CB]M\f[R] to indicate megabytes, or \f[CB]g\f[R] or
3378 \f[CB]G\f[R] to indicate gigabytes.
3379 The default value is selected at run time based on the system
3380 configuration.
3381 For server deployments, the options \f[CB]\-XX:InitialHeapSize\f[R] and
3382 \f[CB]\-XX:MaxHeapSize\f[R] are often set to the same value.
3383 .RS
3384 .PP
3385 The following examples show how to set the maximum allowed size of
3386 allocated memory to 80 MB using various units:
3387 .IP
3388 .nf
3389 \f[CB]
3390 \-XX:MaxHeapSize=83886080
3391 \-XX:MaxHeapSize=81920k
3392 \-XX:MaxHeapSize=80m
3393 \f[R]
3394 .fi
3395 .PP
3396 The \f[CB]\-XX:MaxHeapSize\f[R] option is equivalent to \f[CB]\-Xmx\f[R].
3397 .RE
3398 .TP
3399 .B \f[CB]\-XX:MaxHeapFreeRatio=\f[R]\f[I]percent\f[R]
3400 Sets the maximum allowed percentage of free heap space (0 to 100) after
3401 a GC event.
3402 If free heap space expands above this value, then the heap is shrunk.
3403 By default, this value is set to 70%.
3404 .RS
3405 .PP
3406 Minimize the Java heap size by lowering the values of the parameters
3407 \f[CB]MaxHeapFreeRatio\f[R] (default value is 70%) and
3408 \f[CB]MinHeapFreeRatio\f[R] (default value is 40%) with the command\-line
3409 options \f[CB]\-XX:MaxHeapFreeRatio\f[R] and
3410 \f[CB]\-XX:MinHeapFreeRatio\f[R].
3411 Lowering \f[CB]MaxHeapFreeRatio\f[R] to as low as 10% and
3412 \f[CB]MinHeapFreeRatio\f[R] to 5% has successfully reduced the heap size
3413 without too much performance regression; however, results may vary
3414 greatly depending on your application.
3415 Try different values for these parameters until they\[aq]re as low as
3416 possible yet still retain acceptable performance.
3417 .RS
3418 .PP
3419 \f[CB]\-XX:MaxHeapFreeRatio=10\ \-XX:MinHeapFreeRatio=5\f[R]
3420 .RE
3421 .PP
3422 Customers trying to keep the heap small should also add the option
3423 \f[CB]\-XX:\-ShrinkHeapInSteps\f[R].
3424 See \f[B]Performance Tuning Examples\f[R] for a description of using this
3425 option to keep the Java heap small by reducing the dynamic footprint for
3426 embedded applications.
3427 .RE
3428 .TP
3429 .B \f[CB]\-XX:MaxMetaspaceSize=\f[R]\f[I]size\f[R]
3430 Sets the maximum amount of native memory that can be allocated for class
3431 metadata.
3432 By default, the size isn\[aq]t limited.
3433 The amount of metadata for an application depends on the application
3434 itself, other running applications, and the amount of memory available
3435 on the system.
3436 .RS
3437 .PP
3438 The following example shows how to set the maximum class metadata size
3439 to 256 MB:
3440 .RS
3441 .PP
3442 \f[CB]\-XX:MaxMetaspaceSize=256m\f[R]
3443 .RE
3444 .RE
3445 .TP
3446 .B \f[CB]\-XX:MaxNewSize=\f[R]\f[I]size\f[R]
3447 Sets the maximum size (in bytes) of the heap for the young generation
3448 (nursery).
3449 The default value is set ergonomically.
3450 .RS
3451 .RE
3452 .TP
3453 .B \f[CB]\-XX:MaxRAM=\f[R]\f[I]size\f[R]
3454 Sets the maximum amount of memory that the JVM may use for the Java heap
3455 before applying ergonomics heuristics.
3456 The default value is the maximum amount of available memory to the JVM
3457 process or 128 GB, whichever is lower.
3458 .RS
3459 .PP
3460 The maximum amount of available memory to the JVM process is the minimum
3461 of the machine\[aq]s physical memory and any constraints set by the
3462 environment (e.g.
3463 container).
3464 .PP
3465 Specifying this option disables automatic use of compressed oops if the
3466 combined result of this and other options influencing the maximum amount
3467 of memory is larger than the range of memory addressable by compressed
3468 oops.
3469 See \f[CB]\-XX:UseCompressedOops\f[R] for further information about
3470 compressed oops.
3471 .PP
3472 The following example shows how to set the maximum amount of available
3473 memory for sizing the Java heap to 2 GB:
3474 .RS
3475 .PP
3476 \f[CB]\-XX:MaxRAM=2G\f[R]
3477 .RE
3478 .RE
3479 .TP
3480 .B \f[CB]\-XX:MaxRAMPercentage=\f[R]\f[I]percent\f[R]
3481 Sets the maximum amount of memory that the JVM may use for the Java heap
3482 before applying ergonomics heuristics as a percentage of the maximum
3483 amount determined as described in the \f[CB]\-XX:MaxRAM\f[R] option.
3484 The default value is 25 percent.
3485 .RS
3486 .PP
3487 Specifying this option disables automatic use of compressed oops if the
3488 combined result of this and other options influencing the maximum amount
3489 of memory is larger than the range of memory addressable by compressed
3490 oops.
3491 See \f[CB]\-XX:UseCompressedOops\f[R] for further information about
3492 compressed oops.
3493 .PP
3494 The following example shows how to set the percentage of the maximum
3495 amount of memory used for the Java heap:
3496 .RS
3497 .PP
3498 \f[CB]\-XX:MaxRAMPercentage=75\f[R]
3499 .RE
3500 .RE
3501 .TP
3502 .B \f[CB]\-XX:MinRAMPercentage=\f[R]\f[I]percent\f[R]
3503 Sets the maximum amount of memory that the JVM may use for the Java heap
3504 before applying ergonomics heuristics as a percentage of the maximum
3505 amount determined as described in the \f[CB]\-XX:MaxRAM\f[R] option for
3506 small heaps.
3507 A small heap is a heap of approximately 125 MB.
3508 The default value is 50 percent.
3509 .RS
3510 .PP
3511 The following example shows how to set the percentage of the maximum
3512 amount of memory used for the Java heap for small heaps:
3513 .RS
3514 .PP
3515 \f[CB]\-XX:MinRAMPercentage=75\f[R]
3516 .RE
3517 .RE
3518 .TP
3519 .B \f[CB]\-XX:MaxTenuringThreshold=\f[R]\f[I]threshold\f[R]
3520 Sets the maximum tenuring threshold for use in adaptive GC sizing.
3521 The largest value is 15.
3522 The default value is 15 for the parallel (throughput) collector.
3523 .RS
3524 .PP
3525 The following example shows how to set the maximum tenuring threshold to
3526 10:
3527 .RS
3528 .PP
3529 \f[CB]\-XX:MaxTenuringThreshold=10\f[R]
3530 .RE
3531 .RE
3532 .TP
3533 .B \f[CB]\-XX:MetaspaceSize=\f[R]\f[I]size\f[R]
3534 Sets the size of the allocated class metadata space that triggers a
3535 garbage collection the first time it\[aq]s exceeded.
3536 This threshold for a garbage collection is increased or decreased
3537 depending on the amount of metadata used.
3538 The default size depends on the platform.
3539 .RS
3540 .RE
3541 .TP
3542 .B \f[CB]\-XX:MinHeapFreeRatio=\f[R]\f[I]percent\f[R]
3543 Sets the minimum allowed percentage of free heap space (0 to 100) after
3544 a GC event.
3545 If free heap space falls below this value, then the heap is expanded.
3546 By default, this value is set to 40%.
3547 .RS
3548 .PP
3549 Minimize Java heap size by lowering the values of the parameters
3550 \f[CB]MaxHeapFreeRatio\f[R] (default value is 70%) and
3551 \f[CB]MinHeapFreeRatio\f[R] (default value is 40%) with the command\-line
3552 options \f[CB]\-XX:MaxHeapFreeRatio\f[R] and
3553 \f[CB]\-XX:MinHeapFreeRatio\f[R].
3554 Lowering \f[CB]MaxHeapFreeRatio\f[R] to as low as 10% and
3555 \f[CB]MinHeapFreeRatio\f[R] to 5% has successfully reduced the heap size
3556 without too much performance regression; however, results may vary
3557 greatly depending on your application.
3558 Try different values for these parameters until they\[aq]re as low as
3559 possible, yet still retain acceptable performance.
3560 .RS
3561 .PP
3562 \f[CB]\-XX:MaxHeapFreeRatio=10\ \-XX:MinHeapFreeRatio=5\f[R]
3563 .RE
3564 .PP
3565 Customers trying to keep the heap small should also add the option
3566 \f[CB]\-XX:\-ShrinkHeapInSteps\f[R].
3567 See \f[B]Performance Tuning Examples\f[R] for a description of using this
3568 option to keep the Java heap small by reducing the dynamic footprint for
3569 embedded applications.
3570 .RE
3571 .TP
3572 .B \f[CB]\-XX:MinHeapSize=\f[R]\f[I]size\f[R]
3573 Sets the minimum size (in bytes) of the memory allocation pool.
3574 This value must be either 0, or a multiple of 1024 and greater than 1
3575 MB.
3576 Append the letter \f[CB]k\f[R] or \f[CB]K\f[R] to indicate kilobytes,
3577 \f[CB]m\f[R] or \f[CB]M\f[R] to indicate megabytes, or \f[CB]g\f[R] or
3578 \f[CB]G\f[R] to indicate gigabytes.
3579 The default value is selected at run time based on the system
3580 configuration.
3581 .RS
3582 .PP
3583 The following examples show how to set the mimimum size of allocated
3584 memory to 6 MB using various units:
3585 .IP
3586 .nf
3587 \f[CB]
3588 \-XX:MinHeapSize=6291456
3589 \-XX:MinHeapSize=6144k
3590 \-XX:MinHeapSize=6m
3591 \f[R]
3592 .fi
3593 .PP
3594 If you set this option to 0, then the minimum size is set to the same
3595 value as the initial size.
3596 .RE
3597 .TP
3598 .B \f[CB]\-XX:NewRatio=\f[R]\f[I]ratio\f[R]
3599 Sets the ratio between young and old generation sizes.
3600 By default, this option is set to 2.
3601 The following example shows how to set the young\-to\-old ratio to 1:
3602 .RS
3603 .RS
3604 .PP
3605 \f[CB]\-XX:NewRatio=1\f[R]
3606 .RE
3607 .RE
3608 .TP
3609 .B \f[CB]\-XX:NewSize=\f[R]\f[I]size\f[R]
3610 Sets the initial size (in bytes) of the heap for the young generation
3611 (nursery).
3612 Append the letter \f[CB]k\f[R] or \f[CB]K\f[R] to indicate kilobytes,
3613 \f[CB]m\f[R] or \f[CB]M\f[R] to indicate megabytes, or \f[CB]g\f[R] or
3614 \f[CB]G\f[R] to indicate gigabytes.
3615 .RS
3616 .PP
3617 The young generation region of the heap is used for new objects.
3618 GC is performed in this region more often than in other regions.
3619 If the size for the young generation is too low, then a large number of
3620 minor GCs are performed.
3621 If the size is too high, then only full GCs are performed, which can
3622 take a long time to complete.
3623 It is recommended that you keep the size for the young generation
3624 greater than 25% and less than 50% of the overall heap size.
3625 .PP
3626 The following examples show how to set the initial size of the young
3627 generation to 256 MB using various units:
3628 .IP
3629 .nf
3630 \f[CB]
3631 \-XX:NewSize=256m
3632 \-XX:NewSize=262144k
3633 \-XX:NewSize=268435456
3634 \f[R]
3635 .fi
3636 .PP
3637 The \f[CB]\-XX:NewSize\f[R] option is equivalent to \f[CB]\-Xmn\f[R].
3638 .RE
3639 .TP
3640 .B \f[CB]\-XX:ParallelGCThreads=\f[R]\f[I]threads\f[R]
3641 Sets the number of the stop\-the\-world (STW) worker threads.
3642 The default value depends on the number of CPUs available to the JVM and
3643 the garbage collector selected.
3644 .RS
3645 .PP
3646 For example, to set the number of threads for G1 GC to 2, specify the
3647 following option:
3648 .RS
3649 .PP
3650 \f[CB]\-XX:ParallelGCThreads=2\f[R]
3651 .RE
3652 .RE
3653 .TP
3654 .B \f[CB]\-XX:+ParallelRefProcEnabled\f[R]
3655 Enables parallel reference processing.
3656 By default, this option is disabled.
3657 .RS
3658 .RE
3659 .TP
3660 .B \f[CB]\-XX:+PrintAdaptiveSizePolicy\f[R]
3661 Enables printing of information about adaptive\-generation sizing.
3662 By default, this option is disabled.
3663 .RS
3664 .RE
3665 .TP
3666 .B \f[CB]\-XX:+ScavengeBeforeFullGC\f[R]
3667 Enables GC of the young generation before each full GC.
3668 This option is enabled by default.
3669 It is recommended that you \f[I]don\[aq]t\f[R] disable it, because
3670 scavenging the young generation before a full GC can reduce the number
3671 of objects reachable from the old generation space into the young
3672 generation space.
3673 To disable GC of the young generation before each full GC, specify the
3674 option \f[CB]\-XX:\-ScavengeBeforeFullGC\f[R].
3675 .RS
3676 .RE
3677 .TP
3678 .B \f[CB]\-XX:SoftRefLRUPolicyMSPerMB=\f[R]\f[I]time\f[R]
3679 Sets the amount of time (in milliseconds) a softly reachable object is
3680 kept active on the heap after the last time it was referenced.
3681 The default value is one second of lifetime per free megabyte in the
3682 heap.
3683 The \f[CB]\-XX:SoftRefLRUPolicyMSPerMB\f[R] option accepts integer values
3684 representing milliseconds per one megabyte of the current heap size (for
3685 Java HotSpot Client VM) or the maximum possible heap size (for Java
3686 HotSpot Server VM).
3687 This difference means that the Client VM tends to flush soft references
3688 rather than grow the heap, whereas the Server VM tends to grow the heap
3689 rather than flush soft references.
3690 In the latter case, the value of the \f[CB]\-Xmx\f[R] option has a
3691 significant effect on how quickly soft references are garbage collected.
3692 .RS
3693 .PP
3694 The following example shows how to set the value to 2.5 seconds:
3695 .PP
3696 \f[CB]\-XX:SoftRefLRUPolicyMSPerMB=2500\f[R]
3697 .RE
3698 .TP
3699 .B \f[CB]\-XX:\-ShrinkHeapInSteps\f[R]
3700 Incrementally reduces the Java heap to the target size, specified by the
3701 option \f[CB]\-XX:MaxHeapFreeRatio\f[R].
3702 This option is enabled by default.
3703 If disabled, then it immediately reduces the Java heap to the target
3704 size instead of requiring multiple garbage collection cycles.
3705 Disable this option if you want to minimize the Java heap size.
3706 You will likely encounter performance degradation when this option is
3707 disabled.
3708 .RS
3709 .PP
3710 See \f[B]Performance Tuning Examples\f[R] for a description of using the
3711 \f[CB]MaxHeapFreeRatio\f[R] option to keep the Java heap small by reducing
3712 the dynamic footprint for embedded applications.
3713 .RE
3714 .TP
3715 .B \f[CB]\-XX:StringDeduplicationAgeThreshold=\f[R]\f[I]threshold\f[R]
3716 Identifies \f[CB]String\f[R] objects reaching the specified age that are
3717 considered candidates for deduplication.
3718 An object\[aq]s age is a measure of how many times it has survived
3719 garbage collection.
3720 This is sometimes referred to as tenuring.
3721 .RS
3722 .RS
3723 .PP
3724 \f[B]Note:\f[R] \f[CB]String\f[R] objects that are promoted to an old heap
3725 region before this age has been reached are always considered candidates
3726 for deduplication.
3727 The default value for this option is \f[CB]3\f[R].
3728 See the \f[CB]\-XX:+UseStringDeduplication\f[R] option.
3729 .RE
3730 .RE
3731 .TP
3732 .B \f[CB]\-XX:SurvivorRatio=\f[R]\f[I]ratio\f[R]
3733 Sets the ratio between eden space size and survivor space size.
3734 By default, this option is set to 8.
3735 The following example shows how to set the eden/survivor space ratio to
3736 4:
3737 .RS
3738 .RS
3739 .PP
3740 \f[CB]\-XX:SurvivorRatio=4\f[R]
3741 .RE
3742 .RE
3743 .TP
3744 .B \f[CB]\-XX:TargetSurvivorRatio=\f[R]\f[I]percent\f[R]
3745 Sets the desired percentage of survivor space (0 to 100) used after
3746 young garbage collection.
3747 By default, this option is set to 50%.
3748 .RS
3749 .PP
3750 The following example shows how to set the target survivor space ratio
3751 to 30%:
3752 .RS
3753 .PP
3754 \f[CB]\-XX:TargetSurvivorRatio=30\f[R]
3755 .RE
3756 .RE
3757 .TP
3758 .B \f[CB]\-XX:TLABSize=\f[R]\f[I]size\f[R]
3759 Sets the initial size (in bytes) of a thread\-local allocation buffer
3760 (TLAB).
3761 Append the letter \f[CB]k\f[R] or \f[CB]K\f[R] to indicate kilobytes,
3762 \f[CB]m\f[R] or \f[CB]M\f[R] to indicate megabytes, or \f[CB]g\f[R] or
3763 \f[CB]G\f[R] to indicate gigabytes.
3764 If this option is set to 0, then the JVM selects the initial size
3765 automatically.
3766 .RS
3767 .PP
3768 The following example shows how to set the initial TLAB size to 512 KB:
3769 .RS
3770 .PP
3771 \f[CB]\-XX:TLABSize=512k\f[R]
3772 .RE
3773 .RE
3774 .TP
3775 .B \f[CB]\-XX:+UseAdaptiveSizePolicy\f[R]
3776 Enables the use of adaptive generation sizing.
3777 This option is enabled by default.
3778 To disable adaptive generation sizing, specify
3779 \f[CB]\-XX:\-UseAdaptiveSizePolicy\f[R] and set the size of the memory
3780 allocation pool explicitly.
3781 See the \f[CB]\-XX:SurvivorRatio\f[R] option.
3782 .RS
3783 .RE
3784 .TP
3785 .B \f[CB]\-XX:+UseG1GC\f[R]
3786 Enables the use of the garbage\-first (G1) garbage collector.
3787 It\[aq]s a server\-style garbage collector, targeted for multiprocessor
3788 machines with a large amount of RAM.
3789 This option meets GC pause time goals with high probability, while
3790 maintaining good throughput.
3791 The G1 collector is recommended for applications requiring large heaps
3792 (sizes of around 6 GB or larger) with limited GC latency requirements (a
3793 stable and predictable pause time below 0.5 seconds).
3794 By default, this option is enabled and G1 is used as the default garbage
3795 collector.
3796 .RS
3797 .RE
3798 .TP
3799 .B \f[CB]\-XX:+UseGCOverheadLimit\f[R]
3800 Enables the use of a policy that limits the proportion of time spent by
3801 the JVM on GC before an \f[CB]OutOfMemoryError\f[R] exception is thrown.
3802 This option is enabled, by default, and the parallel GC will throw an
3803 \f[CB]OutOfMemoryError\f[R] if more than 98% of the total time is spent on
3804 garbage collection and less than 2% of the heap is recovered.
3805 When the heap is small, this feature can be used to prevent applications
3806 from running for long periods of time with little or no progress.
3807 To disable this option, specify the option
3808 \f[CB]\-XX:\-UseGCOverheadLimit\f[R].
3809 .RS
3810 .RE
3811 .TP
3812 .B \f[CB]\-XX:+UseNUMA\f[R]
3813 Enables performance optimization of an application on a machine with
3814 nonuniform memory architecture (NUMA) by increasing the
3815 application\[aq]s use of lower latency memory.
3816 By default, this option is disabled and no optimization for NUMA is
3817 made.
3818 The option is available only when the parallel garbage collector is used
3819 (\f[CB]\-XX:+UseParallelGC\f[R]).
3820 .RS
3821 .RE
3822 .TP
3823 .B \f[CB]\-XX:+UseParallelGC\f[R]
3824 Enables the use of the parallel scavenge garbage collector (also known
3825 as the throughput collector) to improve the performance of your
3826 application by leveraging multiple processors.
3827 .RS
3828 .PP
3829 By default, this option is disabled and the default collector is used.
3830 .RE
3831 .TP
3832 .B \f[CB]\-XX:+UseSerialGC\f[R]
3833 Enables the use of the serial garbage collector.
3834 This is generally the best choice for small and simple applications that
3835 don\[aq]t require any special functionality from garbage collection.
3836 By default, this option is disabled and the default collector is used.
3837 .RS
3838 .RE
3839 .TP
3840 .B \f[CB]\-XX:+UseSHM\f[R]
3841 \f[B]Linux only:\f[R] Enables the JVM to use shared memory to set up
3842 large pages.
3843 .RS
3844 .PP
3845 See \f[B]Large Pages\f[R] for setting up large pages.
3846 .RE
3847 .TP
3848 .B \f[CB]\-XX:+UseStringDeduplication\f[R]
3849 Enables string deduplication.
3850 By default, this option is disabled.
3851 To use this option, you must enable the garbage\-first (G1) garbage
3852 collector.
3853 .RS
3854 .PP
3855 String deduplication reduces the memory footprint of \f[CB]String\f[R]
3856 objects on the Java heap by taking advantage of the fact that many
3857 \f[CB]String\f[R] objects are identical.
3858 Instead of each \f[CB]String\f[R] object pointing to its own character
3859 array, identical \f[CB]String\f[R] objects can point to and share the same
3860 character array.
3861 .RE
3862 .TP
3863 .B \f[CB]\-XX:+UseTLAB\f[R]
3864 Enables the use of thread\-local allocation blocks (TLABs) in the young
3865 generation space.
3866 This option is enabled by default.
3867 To disable the use of TLABs, specify the option \f[CB]\-XX:\-UseTLAB\f[R].
3868 .RS
3869 .RE
3870 .TP
3871 .B \f[CB]\-XX:+UseZGC\f[R]
3872 Enables the use of the Z garbage collector (ZGC).
3873 This is a low latency garbage collector, providing max pause times of a
3874 few milliseconds, at some throughput cost.
3875 Pause times are independent of what heap size is used.
3876 Supports heap sizes from 8MB to 16TB.
3877 .RS
3878 .RE
3879 .TP
3880 .B \f[CB]\-XX:ZAllocationSpikeTolerance\f[R]=\f[I]factor\f[R]
3881 Sets the allocation spike tolerance for ZGC.
3882 By default, this option is set to 2.0.
3883 This factor describes the level of allocation spikes to expect.
3884 For example, using a factor of 3.0 means the current allocation rate can
3885 be expected to triple at any time.
3886 .RS
3887 .RE
3888 .TP
3889 .B \f[CB]\-XX:ZCollectionInterval\f[R]=\f[I]seconds\f[R]
3890 Sets the maximum interval (in seconds) between two GC cycles when using
3891 ZGC.
3892 By default, this option is set to 0 (disabled).
3893 .RS
3894 .RE
3895 .TP
3896 .B \f[CB]\-XX:ZFragmentationLimit\f[R]=\f[I]percent\f[R]
3897 Sets the maximum acceptable heap fragmentation (in percent) for ZGC.
3898 By default, this option is set to 25.
3899 Using a lower value will cause the heap to be compacted more
3900 aggressively, to reclaim more memory at the cost of using more CPU time.
3901 .RS
3902 .RE
3903 .TP
3904 .B \f[CB]\-XX:+ZProactive\f[R]
3905 Enables proactive GC cycles when using ZGC.
3906 By default, this option is enabled.
3907 ZGC will start a proactive GC cycle if doing so is expected to have
3908 minimal impact on the running application.
3909 This is useful if the application is mostly idle or allocates very few
3910 objects, but you still want to keep the heap size down and allow
3911 reference processing to happen even when there are a lot of free space
3912 on the heap.
3913 .RS
3914 .RE
3915 .TP
3916 .B \f[CB]\-XX:+ZUncommit\f[R]
3917 Enables uncommitting of unused heap memory when using ZGC.
3918 By default, this option is enabled.
3919 Uncommitting unused heap memory will lower the memory footprint of the
3920 JVM, and make that memory available for other processes to use.
3921 .RS
3922 .RE
3923 .TP
3924 .B \f[CB]\-XX:ZUncommitDelay\f[R]=\f[I]seconds\f[R]
3925 Sets the amount of time (in seconds) that heap memory must have been
3926 unused before being uncommitted.
3927 By default, this option is set to 300 (5 minutes).
3928 Committing and uncommitting memory are relatively expensive operations.
3929 Using a lower value will cause heap memory to be uncommitted earlier, at
3930 the risk of soon having to commit it again.
3931 .RS
3932 .RE
3933 .SH DEPRECATED JAVA OPTIONS
3934 .PP
3935 These \f[CB]java\f[R] options are deprecated and might be removed in a
3936 future JDK release.
3937 They\[aq]re still accepted and acted upon, but a warning is issued when
3938 they\[aq]re used.
3939 .TP
3940 .B \f[CB]\-Xfuture\f[R]
3941 Enables strict class\-file format checks that enforce close conformance
3942 to the class\-file format specification.
3943 Developers should use this flag when developing new code.
3944 Stricter checks may become the default in future releases.
3945 .RS
3946 .RE
3947 .TP
3948 .B \f[CB]\-Xloggc:\f[R]\f[I]filename\f[R]
3949 Sets the file to which verbose GC events information should be
3950 redirected for logging.
3951 The \f[CB]\-Xloggc\f[R] option overrides \f[CB]\-verbose:gc\f[R] if both are
3952 given with the same java command.
3953 \f[CB]\-Xloggc:\f[R]\f[I]filename\f[R] is replaced by
3954 \f[CB]\-Xlog:gc:\f[R]\f[I]filename\f[R].
3955 See Enable Logging with the JVM Unified Logging Framework.
3956 .RS
3957 .PP
3958 Example:
3959 .PP
3960 \f[CB]\-Xlog:gc:garbage\-collection.log\f[R]
3961 .RE
3962 .TP
3963 .B \f[CB]\-XX:+FlightRecorder\f[R]
3964 Enables the use of Java Flight Recorder (JFR) during the runtime of the
3965 application.
3966 Since JDK 8u40 this option has not been required to use JFR.
3967 .RS
3968 .RE
3969 .TP
3970 .B \f[CB]\-XX:InitialRAMFraction=\f[R]\f[I]ratio\f[R]
3971 Sets the initial amount of memory that the JVM may use for the Java heap
3972 before applying ergonomics heuristics as a ratio of the maximum amount
3973 determined as described in the \f[CB]\-XX:MaxRAM\f[R] option.
3974 The default value is 64.
3975 .RS
3976 .PP
3977 Use the option \f[CB]\-XX:InitialRAMPercentage\f[R] instead.
3978 .RE
3979 .TP
3980 .B \f[CB]\-XX:MaxRAMFraction=\f[R]\f[I]ratio\f[R]
3981 Sets the maximum amount of memory that the JVM may use for the Java heap
3982 before applying ergonomics heuristics as a fraction of the maximum
3983 amount determined as described in the \f[CB]\-XX:MaxRAM\f[R] option.
3984 The default value is 4.
3985 .RS
3986 .PP
3987 Specifying this option disables automatic use of compressed oops if the
3988 combined result of this and other options influencing the maximum amount
3989 of memory is larger than the range of memory addressable by compressed
3990 oops.
3991 See \f[CB]\-XX:UseCompressedOops\f[R] for further information about
3992 compressed oops.
3993 .PP
3994 Use the option \f[CB]\-XX:MaxRAMPercentage\f[R] instead.
3995 .RE
3996 .TP
3997 .B \f[CB]\-XX:MinRAMFraction=\f[R]\f[I]ratio\f[R]
3998 Sets the maximum amount of memory that the JVM may use for the Java heap
3999 before applying ergonomics heuristics as a fraction of the maximum
4000 amount determined as described in the \f[CB]\-XX:MaxRAM\f[R] option for
4001 small heaps.
4002 A small heap is a heap of approximately 125 MB.
4003 The default value is 2.
4004 .RS
4005 .PP
4006 Use the option \f[CB]\-XX:MinRAMPercentage\f[R] instead.
4007 .RE
4008 .TP
4009 .B \f[CB]\-XX:+TraceClassLoading\f[R]
4010 Enables tracing of classes as they are loaded.
4011 By default, this option is disabled and classes aren\[aq]t traced.
4012 .RS
4013 .PP
4014 The replacement Unified Logging syntax is
4015 \f[CB]\-Xlog:class+load=\f[R]\f[I]level\f[R].
4016 See \f[B]Enable Logging with the JVM Unified Logging Framework\f[R]
4017 .PP
4018 Use \f[I]level\f[R]=\f[CB]info\f[R] for regular information, or
4019 \f[I]level\f[R]=\f[CB]debug\f[R] for additional information.
4020 In Unified Logging syntax, \f[CB]\-verbose:class\f[R] equals
4021 \f[CB]\-Xlog:class+load=info,class+unload=info\f[R].
4022 .RE
4023 .TP
4024 .B \f[CB]\-XX:+TraceClassLoadingPreorder\f[R]
4025 Enables tracing of all loaded classes in the order in which they\[aq]re
4026 referenced.
4027 By default, this option is disabled and classes aren\[aq]t traced.
4028 .RS
4029 .PP
4030 The replacement Unified Logging syntax is
4031 \f[CB]\-Xlog:class+preorder=debug\f[R].
4032 See \f[B]Enable Logging with the JVM Unified Logging Framework\f[R].
4033 .RE
4034 .TP
4035 .B \f[CB]\-XX:+TraceClassResolution\f[R]
4036 Enables tracing of constant pool resolutions.
4037 By default, this option is disabled and constant pool resolutions
4038 aren\[aq]t traced.
4039 .RS
4040 .PP
4041 The replacement Unified Logging syntax is
4042 \f[CB]\-Xlog:class+resolve=debug\f[R].
4043 See \f[B]Enable Logging with the JVM Unified Logging Framework\f[R].
4044 .RE
4045 .TP
4046 .B \f[CB]\-XX:+TraceLoaderConstraints\f[R]
4047 Enables tracing of the loader constraints recording.
4048 By default, this option is disabled and loader constraints recording
4049 isn\[aq]t traced.
4050 .RS
4051 .PP
4052 The replacement Unified Logging syntax is
4053 \f[CB]\-Xlog:class+loader+constraints=info\f[R].
4054 See \f[B]Enable Logging with the JVM Unified Logging Framework\f[R].
4055 .RE
4056 .TP
4057 .B \f[CB]\-XX:+UseBiasedLocking\f[R]
4058 Enables the use of biased locking.
4059 Some applications with significant amounts of uncontended
4060 synchronization may attain significant speedups with this flag enabled,
4061 but applications with certain patterns of locking may see slowdowns.
4062 .RS
4063 .PP
4064 By default, this option is disabled.
4065 .RE
4066 .SH OBSOLETE JAVA OPTIONS
4067 .PP
4068 These \f[CB]java\f[R] options are still accepted but ignored, and a
4069 warning is issued when they\[aq]re used.
4070 .TP
4071 .B \f[CB]\-XX:+UseMembar\f[R]
4072 Enabled issuing membars on thread\-state transitions.
4073 This option was disabled by default on all platforms except ARM servers,
4074 where it was enabled.
4075 .RS
4076 .RE
4077 .TP
4078 .B \f[CB]\-XX:MaxPermSize=\f[R]\f[I]size\f[R]
4079 Sets the maximum permanent generation space size (in bytes).
4080 This option was deprecated in JDK 8 and superseded by the
4081 \f[CB]\-XX:MaxMetaspaceSize\f[R] option.
4082 .RS
4083 .RE
4084 .TP
4085 .B \f[CB]\-XX:PermSize=\f[R]\f[I]size\f[R]
4086 Sets the space (in bytes) allocated to the permanent generation that
4087 triggers a garbage collection if it\[aq]s exceeded.
4088 This option was deprecated in JDK 8 and superseded by the
4089 \f[CB]\-XX:MetaspaceSize\f[R] option.
4090 .RS
4091 .RE
4092 .TP
4093 .B \f[CB]\-XX:+UseParallelOldGC\f[R]
4094 Enables the use of the parallel garbage collector for full GCs.
4095 By default, this option is disabled.
4096 Enabling it automatically enables the \f[CB]\-XX:+UseParallelGC\f[R]
4097 option.
4098 .RS
4099 .RE
4100 .SH REMOVED JAVA OPTIONS
4101 .PP
4102 These \f[CB]java\f[R] options have been removed in JDK 15 and using them
4103 results in an error of:
4104 .RS
4105 .PP
4106 \f[CB]Unrecognized\ VM\ option\f[R] \f[I]option\-name\f[R]
4107 .RE
4108 .TP
4109 .B \f[CB]\-XX:+FailOverToOldVerifier\f[R]
4110 Enables automatic failover to the old verifier when the new type checker
4111 fails.
4112 By default, this option is disabled and it\[aq]s ignored (that is,
4113 treated as disabled) for classes with a recent bytecode version.
4114 You can enable it only for classes with older versions of the bytecode.
4115 .RS
4116 .RE
4117 .TP
4118 .B \f[CB]\-XX:+UseConcMarkSweepGC\f[R]
4119 Enables the use of the CMS garbage collector for the old generation.
4120 CMS is an alternative to the default garbage collector (G1), which also
4121 focuses on meeting application latency requirements.
4122 By default, this option is disabled and the collector is selected
4123 automatically based on the configuration of the machine and type of the
4124 JVM.
4125 .RS
4126 .RE
4127 .PP
4128 For the lists and descriptions of options removed in previous releases
4129 see the \f[I]Removed Java Options\f[R] section in:
4130 .IP \[bu] 2
4131 \f[B]Java Platform, Standard Edition Tools Reference, Release 14\f[R]
4132 [https://docs.oracle.com/en/java/javase/14/docs/specs/man/java.html]
4133 .IP \[bu] 2
4134 \f[B]Java Platform, Standard Edition Tools Reference, Release 13\f[R]
4135 [https://docs.oracle.com/en/java/javase/13/docs/specs/man/java.html]
4136 .IP \[bu] 2
4137 \f[B]Java Platform, Standard Edition Tools Reference, Release 12\f[R]
4138 [https://docs.oracle.com/en/java/javase/12/tools/java.html#GUID\-3B1CE181\-CD30\-4178\-9602\-230B800D4FAE]
4139 .IP \[bu] 2
4140 \f[B]Java Platform, Standard Edition Tools Reference, Release 11\f[R]
4141 [https://docs.oracle.com/en/java/javase/11/tools/java.html#GUID\-741FC470\-AA3E\-494A\-8D2B\-1B1FE4A990D1]
4142 .IP \[bu] 2
4143 \f[B]Java Platform, Standard Edition Tools Reference, Release 10\f[R]
4144 [https://docs.oracle.com/javase/10/tools/java.htm#JSWOR624]
4145 .IP \[bu] 2
4146 \f[B]Java Platform, Standard Edition Tools Reference, Release 9\f[R]
4147 [https://docs.oracle.com/javase/9/tools/java.htm#JSWOR624]
4148 .IP \[bu] 2
4149 \f[B]Java Platform, Standard Edition Tools Reference, Release 8 for
4150 Oracle JDK on Windows\f[R]
4151 [https://docs.oracle.com/javase/8/docs/technotes/tools/windows/java.html#BGBCIEFC]
4152 .IP \[bu] 2
4153 \f[B]Java Platform, Standard Edition Tools Reference, Release 8 for
4154 Oracle JDK on Solaris, Linux, and macOS\f[R]
4155 [https://docs.oracle.com/javase/8/docs/technotes/tools/unix/java.html#BGBCIEFC]
4156 .SH JAVA COMMAND\-LINE ARGUMENT FILES
4157 .PP
4158 You can shorten or simplify the \f[CB]java\f[R] command by using
4159 \f[CB]\@\f[R] argument files to specify one or more text files that
4160 contain arguments, such as options and class names, which are passed to
4161 the \f[CB]java\f[R] command.
4162 This let\[aq]s you to create \f[CB]java\f[R] commands of any length on any
4163 operating system.
4164 .PP
4165 In the command line, use the at sign (\f[CB]\@\f[R]) prefix to identify an
4166 argument file that contains \f[CB]java\f[R] options and class names.
4167 When the \f[CB]java\f[R] command encounters a file beginning with the at
4168 sign (\f[CB]\@\f[R]), it expands the contents of that file into an
4169 argument list just as they would be specified on the command line.
4170 .PP
4171 The \f[CB]java\f[R] launcher expands the argument file contents until it
4172 encounters the \f[CB]\-\-disable\-\@files\f[R] option.
4173 You can use the \f[CB]\-\-disable\-\@files\f[R] option anywhere on the
4174 command line, including in an argument file, to stop \f[CB]\@\f[R]
4175 argument files expansion.
4176 .PP
4177 The following items describe the syntax of \f[CB]java\f[R] argument files:
4178 .IP \[bu] 2
4179 The argument file must contain only ASCII characters or characters in
4180 system default encoding that\[aq]s ASCII friendly, such as UTF\-8.
4181 .IP \[bu] 2
4182 The argument file size must not exceed MAXINT (2,147,483,647) bytes.
4183 .IP \[bu] 2
4184 The launcher doesn\[aq]t expand wildcards that are present within an
4185 argument file.
4186 .IP \[bu] 2
4187 Use white space or new line characters to separate arguments included in
4188 the file.
4189 .IP \[bu] 2
4190 White space includes a white space character, \f[CB]\\t\f[R],
4191 \f[CB]\\n\f[R], \f[CB]\\r\f[R], and \f[CB]\\f\f[R].
4192 .RS 2
4193 .PP
4194 For example, it is possible to have a path with a space, such as
4195 \f[CB]c:\\Program\ Files\f[R] that can be specified as either
4196 \f[CB]&quot;c:\\\\Program\ Files&quot;\f[R] or, to avoid an escape,
4197 \f[CB]c:\\Program&quot;\ &quot;Files\f[R].
4198 .RE
4199 .IP \[bu] 2
4200 Any option that contains spaces, such as a path component, must be
4201 within quotation marks using quotation (\[aq]&quot;\[aq]) characters in its
4202 entirety.
4203 .IP \[bu] 2
4204 A string within quotation marks may contain the characters \f[CB]\\n\f[R],
4205 \f[CB]\\r\f[R], \f[CB]\\t\f[R], and \f[CB]\\f\f[R].
4206 They are converted to their respective ASCII codes.
4207 .IP \[bu] 2
4208 If a file name contains embedded spaces, then put the whole file name in
4209 double quotation marks.
4210 .IP \[bu] 2
4211 File names in an argument file are relative to the current directory,
4212 not to the location of the argument file.
4213 .IP \[bu] 2
4214 Use the number sign \f[CB]#\f[R] in the argument file to identify
4215 comments.
4216 All characters following the \f[CB]#\f[R] are ignored until the end of
4217 line.
4218 .IP \[bu] 2
4219 Additional at sign \f[CB]\@\f[R] prefixes to \f[CB]\@\f[R] prefixed options
4220 act as an escape, (the first \f[CB]\@\f[R] is removed and the rest of the
4221 arguments are presented to the launcher literally).
4222 .IP \[bu] 2
4223 Lines may be continued using the continuation character (\f[CB]\\\f[R]) at
4224 the end\-of\-line.
4225 The two lines are concatenated with the leading white spaces trimmed.
4226 To prevent trimming the leading white spaces, a continuation character
4227 (\f[CB]\\\f[R]) may be placed at the first column.
4228 .IP \[bu] 2
4229 Because backslash (\\) is an escape character, a backslash character
4230 must be escaped with another backslash character.
4231 .IP \[bu] 2
4232 Partial quote is allowed and is closed by an end\-of\-file.
4233 .IP \[bu] 2
4234 An open quote stops at end\-of\-line unless \f[CB]\\\f[R] is the last
4235 character, which then joins the next line by removing all leading white
4236 space characters.
4237 .IP \[bu] 2
4238 Wildcards (*) aren\[aq]t allowed in these lists (such as specifying
4239 \f[CB]*.java\f[R]).
4240 .IP \[bu] 2
4241 Use of the at sign (\f[CB]\@\f[R]) to recursively interpret files
4242 isn\[aq]t supported.
4243 .SS Example of Open or Partial Quotes in an Argument File
4244 .PP
4245 In the argument file,
4246 .IP
4247 .nf
4248 \f[CB]
4249 \-cp\ &quot;lib/
4250 cool/
4251 app/
4252 jars
4253 \f[R]
4254 .fi
4255 .PP
4256 this is interpreted as:
4257 .RS
4258 .PP
4259 \f[CB]\-cp\ lib/cool/app/jars\f[R]
4260 .RE
4261 .SS Example of a Backslash Character Escaped with Another Backslash
4262 Character in an Argument File
4263 .PP
4264 To output the following:
4265 .RS
4266 .PP
4267 \f[CB]\-cp\ c:\\Program\ Files\ (x86)\\Java\\jre\\lib\\ext;c:\\Program\ Files\\Java\\jre9\\lib\\ext\f[R]
4268 .RE
4269 .PP
4270 The backslash character must be specified in the argument file as:
4271 .RS
4272 .PP
4273 \f[CB]\-cp\ &quot;c:\\\\Program\ Files\ (x86)\\\\Java\\\\jre\\\\lib\\\\ext;c:\\\\Program\ Files\\\\Java\\\\jre9\\\\lib\\\\ext&quot;\f[R]
4274 .RE
4275 .SS Example of an EOL Escape Used to Force Concatenation of Lines in an
4276 Argument File
4277 .PP
4278 In the argument file,
4279 .IP
4280 .nf
4281 \f[CB]
4282 \-cp\ &quot;/lib/cool\ app/jars:\\
4283 \ \ \ \ /lib/another\ app/jars&quot;
4284 \f[R]
4285 .fi
4286 .PP
4287 This is interpreted as:
4288 .RS
4289 .PP
4290 \f[CB]\-cp\ /lib/cool\ app/jars:/lib/another\ app/jars\f[R]
4291 .RE
4292 .SS Example of Line Continuation with Leading Spaces in an Argument File
4293 .PP
4294 In the argument file,
4295 .IP
4296 .nf
4297 \f[CB]
4298 \-cp\ &quot;/lib/cool\\
4299 \\app/jars???
4300 \f[R]
4301 .fi
4302 .PP
4303 This is interpreted as:
4304 .PP
4305 \f[CB]\-cp\ /lib/cool\ app/jars\f[R]
4306 .SS Examples of Using Single Argument File
4307 .PP
4308 You can use a single argument file, such as \f[CB]myargumentfile\f[R] in
4309 the following example, to hold all required \f[CB]java\f[R] arguments:
4310 .RS
4311 .PP
4312 \f[CB]java\ \@myargumentfile\f[R]
4313 .RE
4314 .SS Examples of Using Argument Files with Paths
4315 .PP
4316 You can include relative paths in argument files; however, they\[aq]re
4317 relative to the current working directory and not to the paths of the
4318 argument files themselves.
4319 In the following example, \f[CB]path1/options\f[R] and
4320 \f[CB]path2/options\f[R] represent argument files with different paths.
4321 Any relative paths that they contain are relative to the current working
4322 directory and not to the argument files:
4323 .RS
4324 .PP
4325 \f[CB]java\ \@path1/options\ \@path2/classes\f[R]
4326 .RE
4327 .SH CODE HEAP STATE ANALYTICS
4328 .SS Overview
4329 .PP
4330 There are occasions when having insight into the current state of the
4331 JVM code heap would be helpful to answer questions such as:
4332 .IP \[bu] 2
4333 Why was the JIT turned off and then on again and again?
4334 .IP \[bu] 2
4335 Where has all the code heap space gone?
4336 .IP \[bu] 2
4337 Why is the method sweeper not working effectively?
4338 .PP
4339 To provide this insight, a code heap state analytics feature has been
4340 implemented that enables on\-the\-fly analysis of the code heap.
4341 The analytics process is divided into two parts.
4342 The first part examines the entire code heap and aggregates all
4343 information that is believed to be useful or important.
4344 The second part consists of several independent steps that print the
4345 collected information with an emphasis on different aspects of the data.
4346 Data collection and printing are done on an &quot;on request&quot; basis.
4347 .SS Syntax
4348 .PP
4349 Requests for real\-time, on\-the\-fly analysis can be issued with the
4350 following command:
4351 .RS
4352 .PP
4353 \f[CB]jcmd\f[R] \f[I]pid\f[R] \f[CB]Compiler.CodeHeap_Analytics\f[R]
4354 [\f[I]function\f[R]] [\f[I]granularity\f[R]]
4355 .RE
4356 .PP
4357 If you are only interested in how the code heap looks like after running
4358 a sample workload, you can use the command line option:
4359 .RS
4360 .PP
4361 \f[CB]\-Xlog:codecache=Trace\f[R]
4362 .RE
4363 .PP
4364 To see the code heap state when a &quot;CodeCache full&quot; condition exists,
4365 start the VM with the command line option:
4366 .RS
4367 .PP
4368 \f[CB]\-Xlog:codecache=Debug\f[R]
4369 .RE
4370 .PP
4371 See \f[B]CodeHeap State Analytics (OpenJDK)\f[R]
4372 [https://bugs.openjdk.java.net/secure/attachment/75649/JVM_CodeHeap_StateAnalytics_V2.pdf]
4373 for a detailed description of the code heap state analytics feature, the
4374 supported functions, and the granularity options.
4375 .SH ENABLE LOGGING WITH THE JVM UNIFIED LOGGING FRAMEWORK
4376 .PP
4377 You use the \f[CB]\-Xlog\f[R] option to configure or enable logging with
4378 the Java Virtual Machine (JVM) unified logging framework.
4379 .SS Synopsis
4380 .RS
4381 .PP
4382 \f[CB]\-Xlog\f[R][\f[CB]:\f[R][\f[I]what\f[R]][\f[CB]:\f[R][\f[I]output\f[R]][\f[CB]:\f[R][\f[I]decorators\f[R]][\f[CB]:\f[R]\f[I]output\-options\f[R][\f[CB],\f[R]...]]]]]
4383 .RE
4384 .TP
4385 .B \f[I]what\f[R]
4386 Specifies a combination of tags and levels of the form
4387 \f[I]tag1\f[R][\f[CB]+\f[R]\f[I]tag2\f[R]...][\f[CB]*\f[R]][\f[CB]=\f[R]\f[I]level\f[R]][\f[CB],\f[R]...].
4388 Unless the wildcard (\f[CB]*\f[R]) is specified, only log messages tagged
4389 with exactly the tags specified are matched.
4390 See \f[B]\-Xlog Tags and Levels\f[R].
4391 .RS
4392 .RE
4393 .TP
4394 .B \f[I]output\f[R]
4395 Sets the type of output.
4396 Omitting the \f[I]output\f[R] type defaults to \f[CB]stdout\f[R].
4397 See \f[B]\-Xlog Output\f[R].
4398 .RS
4399 .RE
4400 .TP
4401 .B \f[I]decorators\f[R]
4402 Configures the output to use a custom set of decorators.
4403 Omitting \f[I]decorators\f[R] defaults to \f[CB]uptime\f[R],
4404 \f[CB]level\f[R], and \f[CB]tags\f[R].
4405 See \f[B]Decorations\f[R].
4406 .RS
4407 .RE
4408 .TP
4409 .B \f[I]output\-options\f[R]
4410 Sets the \f[CB]\-Xlog\f[R] logging output options.
4411 .RS
4412 .RE
4413 .SS Description
4414 .PP
4415 The Java Virtual Machine (JVM) unified logging framework provides a
4416 common logging system for all components of the JVM.
4417 GC logging for the JVM has been changed to use the new logging
4418 framework.
4419 The mapping of old GC flags to the corresponding new Xlog configuration
4420 is described in \f[B]Convert GC Logging Flags to Xlog\f[R].
4421 In addition, runtime logging has also been changed to use the JVM
4422 unified logging framework.
4423 The mapping of legacy runtime logging flags to the corresponding new
4424 Xlog configuration is described in \f[B]Convert Runtime Logging Flags to
4425 Xlog\f[R].
4426 .PP
4427 The following provides quick reference to the \f[CB]\-Xlog\f[R] command
4428 and syntax for options:
4429 .TP
4430 .B \f[CB]\-Xlog\f[R]
4431 Enables JVM logging on an \f[CB]info\f[R] level.
4432 .RS
4433 .RE
4434 .TP
4435 .B \f[CB]\-Xlog:help\f[R]
4436 Prints \f[CB]\-Xlog\f[R] usage syntax and available tags, levels, and
4437 decorators along with example command lines with explanations.
4438 .RS
4439 .RE
4440 .TP
4441 .B \f[CB]\-Xlog:disable\f[R]
4442 Turns off all logging and clears all configuration of the logging
4443 framework including the default configuration for warnings and errors.
4444 .RS
4445 .RE
4446 .TP
4447 .B \f[CB]\-Xlog\f[R][\f[CB]:\f[R]\f[I]option\f[R]]
4448 Applies multiple arguments in the order that they appear on the command
4449 line.
4450 Multiple \f[CB]\-Xlog\f[R] arguments for the same output override each
4451 other in their given order.
4452 .RS
4453 .PP
4454 The \f[I]option\f[R] is set as:
4455 .RS
4456 .PP
4457 [\f[I]tag\-selection\f[R]][\f[CB]:\f[R][\f[I]output\f[R]][\f[CB]:\f[R][\f[I]decorators\f[R]][\f[CB]:\f[R]\f[I]output\-options\f[R]]]]
4458 .RE
4459 .PP
4460 Omitting the \f[I]tag\-selection\f[R] defaults to a tag\-set of
4461 \f[CB]all\f[R] and a level of \f[CB]info\f[R].
4462 .RS
4463 .PP
4464 \f[I]tag\f[R][\f[CB]+\f[R]...] \f[CB]all\f[R]
4465 .RE
4466 .PP
4467 The \f[CB]all\f[R] tag is a meta tag consisting of all tag\-sets
4468 available.
4469 The asterisk \f[CB]*\f[R] in a tag set definition denotes a wildcard tag
4470 match.
4471 Matching with a wildcard selects all tag sets that contain \f[I]at
4472 least\f[R] the specified tags.
4473 Without the wildcard, only exact matches of the specified tag sets are
4474 selected.
4475 .PP
4476 \f[I]output\-options\f[R] is
4477 .RS
4478 .PP
4479 \f[CB]filecount=\f[R]\f[I]file\-count\f[R] \f[CB]filesize=\f[R]\f[I]file size
4480 with optional K, M or G suffix\f[R]
4481 .RE
4482 .RE
4483 .SS Default Configuration
4484 .PP
4485 When the \f[CB]\-Xlog\f[R] option and nothing else is specified on the
4486 command line, the default configuration is used.
4487 The default configuration logs all messages with a level that matches
4488 either warning or error regardless of what tags the message is
4489 associated with.
4490 The default configuration is equivalent to entering the following on the
4491 command line:
4492 .RS
4493 .PP
4494 \f[CB]\-Xlog:all=warning:stdout:uptime,level,tags\f[R]
4495 .RE
4496 .SS Controlling Logging at Runtime
4497 .PP
4498 Logging can also be controlled at run time through Diagnostic Commands
4499 (with the \f[B]jcmd\f[R] utility).
4500 Everything that can be specified on the command line can also be
4501 specified dynamically with the \f[CB]VM.log\f[R] command.
4502 As the diagnostic commands are automatically exposed as MBeans, you can
4503 use JMX to change logging configuration at run time.
4504 .SS \-Xlog Tags and Levels
4505 .PP
4506 Each log message has a level and a tag set associated with it.
4507 The level of the message corresponds to its details, and the tag set
4508 corresponds to what the message contains or which JVM component it
4509 involves (such as, \f[CB]gc\f[R], \f[CB]jit\f[R], or \f[CB]os\f[R]).
4510 Mapping GC flags to the Xlog configuration is described in \f[B]Convert
4511 GC Logging Flags to Xlog\f[R].
4512 Mapping legacy runtime logging flags to the corresponding Xlog
4513 configuration is described in \f[B]Convert Runtime Logging Flags to
4514 Xlog\f[R].
4515 .PP
4516 \f[B]Available log levels:\f[R]
4517 .IP \[bu] 2
4518 \f[CB]off\f[R]
4519 .IP \[bu] 2
4520 \f[CB]trace\f[R]
4521 .IP \[bu] 2
4522 \f[CB]debug\f[R]
4523 .IP \[bu] 2
4524 \f[CB]info\f[R]
4525 .IP \[bu] 2
4526 \f[CB]warning\f[R]
4527 .IP \[bu] 2
4528 \f[CB]error\f[R]
4529 .PP
4530 \f[B]Available log tags:\f[R]
4531 .PP
4532 There are literally dozens of log tags, which in the right combinations,
4533 will enable a range of logging output.
4534 The full set of available log tags can be seen using
4535 \f[CB]\-Xlog:help\f[R].
4536 Specifying \f[CB]all\f[R] instead of a tag combination matches all tag
4537 combinations.
4538 .SS \-Xlog Output
4539 .PP
4540 The \f[CB]\-Xlog\f[R] option supports the following types of outputs:
4541 .IP \[bu] 2
4542 \f[CB]stdout\f[R] \-\-\- Sends output to stdout
4543 .IP \[bu] 2
4544 \f[CB]stderr\f[R] \-\-\- Sends output to stderr
4545 .IP \[bu] 2
4546 \f[CB]file=\f[R]\f[I]filename\f[R] \-\-\- Sends output to text file(s).
4547 .PP
4548 When using \f[CB]file=\f[R]\f[I]filename\f[R], specifying \f[CB]%p\f[R]
4549 and/or \f[CB]%t\f[R] in the file name expands to the JVM\[aq]s PID and
4550 startup timestamp, respectively.
4551 You can also configure text files to handle file rotation based on file
4552 size and a number of files to rotate.
4553 For example, to rotate the log file every 10 MB and keep 5 files in
4554 rotation, specify the options \f[CB]filesize=10M,\ filecount=5\f[R].
4555 The target size of the files isn\[aq]t guaranteed to be exact, it\[aq]s
4556 just an approximate value.
4557 Files are rotated by default with up to 5 rotated files of target size
4558 20 MB, unless configured otherwise.
4559 Specifying \f[CB]filecount=0\f[R] means that the log file shouldn\[aq]t be
4560 rotated.
4561 There\[aq]s a possibility of the pre\-existing log file getting
4562 overwritten.
4563 .SS Decorations
4564 .PP
4565 Logging messages are decorated with information about the message.
4566 You can configure each output to use a custom set of decorators.
4567 The order of the output is always the same as listed in the table.
4568 You can configure the decorations to be used at run time.
4569 Decorations are prepended to the log message.
4570 For example:
4571 .IP
4572 .nf
4573 \f[CB]
4574 [6.567s][info][gc,old]\ Old\ collection\ complete
4575 \f[R]
4576 .fi
4577 .PP
4578 Omitting \f[CB]decorators\f[R] defaults to \f[CB]uptime\f[R],
4579 \f[CB]level\f[R], and \f[CB]tags\f[R].
4580 The \f[CB]none\f[R] decorator is special and is used to turn off all
4581 decorations.
4582 .PP
4583 \f[CB]time\f[R] (\f[CB]t\f[R]), \f[CB]utctime\f[R] (\f[CB]utc\f[R]),
4584 \f[CB]uptime\f[R] (\f[CB]u\f[R]), \f[CB]timemillis\f[R] (\f[CB]tm\f[R]),
4585 \f[CB]uptimemillis\f[R] (\f[CB]um\f[R]), \f[CB]timenanos\f[R] (\f[CB]tn\f[R]),
4586 \f[CB]uptimenanos\f[R] (\f[CB]un\f[R]), \f[CB]hostname\f[R] (\f[CB]hn\f[R]),
4587 \f[CB]pid\f[R] (\f[CB]p\f[R]), \f[CB]tid\f[R] (\f[CB]ti\f[R]), \f[CB]level\f[R]
4588 (\f[CB]l\f[R]), \f[CB]tags\f[R] (\f[CB]tg\f[R]) decorators can also be
4589 specified as \f[CB]none\f[R] for no decoration.
4590 .PP
4591 .TS
4592 tab(@);
4593 lw(14.9n) lw(55.1n).
4594 T{
4595 Decorations
4596 T}@T{
4597 Description
4598 T}
4599 _
4600 T{
4601 \f[CB]time\f[R] or \f[CB]t\f[R]
4602 T}@T{
4603 Current time and date in ISO\-8601 format.
4604 T}
4605 T{
4606 \f[CB]utctime\f[R] or \f[CB]utc\f[R]
4607 T}@T{
4608 Universal Time Coordinated or Coordinated Universal Time.
4609 T}
4610 T{
4611 \f[CB]uptime\f[R] or \f[CB]u\f[R]
4612 T}@T{
4613 Time since the start of the JVM in seconds and milliseconds.
4614 For example, 6.567s.
4615 T}
4616 T{
4617 \f[CB]timemillis\f[R] or \f[CB]tm\f[R]
4618 T}@T{
4619 The same value as generated by \f[CB]System.currentTimeMillis()\f[R]
4620 T}
4621 T{
4622 \f[CB]uptimemillis\f[R] or \f[CB]um\f[R]
4623 T}@T{
4624 Milliseconds since the JVM started.
4625 T}
4626 T{
4627 \f[CB]timenanos\f[R] or \f[CB]tn\f[R]
4628 T}@T{
4629 The same value generated by \f[CB]System.nanoTime()\f[R].
4630 T}
4631 T{
4632 \f[CB]uptimenanos\f[R] or \f[CB]un\f[R]
4633 T}@T{
4634 Nanoseconds since the JVM started.
4635 T}
4636 T{
4637 \f[CB]hostname\f[R] or \f[CB]hn\f[R]
4638 T}@T{
4639 The host name.
4640 T}
4641 T{
4642 \f[CB]pid\f[R] or \f[CB]p\f[R]
4643 T}@T{
4644 The process identifier.
4645 T}
4646 T{
4647 \f[CB]tid\f[R] or \f[CB]ti\f[R]
4648 T}@T{
4649 The thread identifier.
4650 T}
4651 T{
4652 \f[CB]level\f[R] or \f[CB]l\f[R]
4653 T}@T{
4654 The level associated with the log message.
4655 T}
4656 T{
4657 \f[CB]tags\f[R] or \f[CB]tg\f[R]
4658 T}@T{
4659 The tag\-set associated with the log message.
4660 T}
4661 .TE
4662 .SS Convert GC Logging Flags to Xlog
4663 .PP
4664 .TS
4665 tab(@);
4666 lw(22.4n) lw(16.5n) lw(31.2n).
4667 T{
4668 Legacy Garbage Collection (GC) Flag
4669 T}@T{
4670 Xlog Configuration
4671 T}@T{
4672 Comment
4673 T}
4674 _
4675 T{
4676 \f[CB]G1PrintHeapRegions\f[R]
4677 T}@T{
4678 \f[CB]\-Xlog:gc+region=trace\f[R]
4679 T}@T{
4680 Not Applicable
4681 T}
4682 T{
4683 \f[CB]GCLogFileSize\f[R]
4684 T}@T{
4685 No configuration available
4686 T}@T{
4687 Log rotation is handled by the framework.
4688 T}
4689 T{
4690 \f[CB]NumberOfGCLogFiles\f[R]
4691 T}@T{
4692 Not Applicable
4693 T}@T{
4694 Log rotation is handled by the framework.
4695 T}
4696 T{
4697 \f[CB]PrintAdaptiveSizePolicy\f[R]
4698 T}@T{
4699 \f[CB]\-Xlog:gc+ergo*=\f[R]\f[I]level\f[R]
4700 T}@T{
4701 Use a \f[I]level\f[R] of \f[CB]debug\f[R] for most of the information, or a
4702 \f[I]level\f[R] of \f[CB]trace\f[R] for all of what was logged for
4703 \f[CB]PrintAdaptiveSizePolicy\f[R].
4704 T}
4705 T{
4706 \f[CB]PrintGC\f[R]
4707 T}@T{
4708 \f[CB]\-Xlog:gc\f[R]
4709 T}@T{
4710 Not Applicable
4711 T}
4712 T{
4713 \f[CB]PrintGCApplicationConcurrentTime\f[R]
4714 T}@T{
4715 \f[CB]\-Xlog:safepoint\f[R]
4716 T}@T{
4717 Note that \f[CB]PrintGCApplicationConcurrentTime\f[R] and
4718 \f[CB]PrintGCApplicationStoppedTime\f[R] are logged on the same tag and
4719 aren\[aq]t separated in the new logging.
4720 T}
4721 T{
4722 \f[CB]PrintGCApplicationStoppedTime\f[R]
4723 T}@T{
4724 \f[CB]\-Xlog:safepoint\f[R]
4725 T}@T{
4726 Note that \f[CB]PrintGCApplicationConcurrentTime\f[R] and
4727 \f[CB]PrintGCApplicationStoppedTime\f[R] are logged on the same tag and
4728 not separated in the new logging.
4729 T}
4730 T{
4731 \f[CB]PrintGCCause\f[R]
4732 T}@T{
4733 Not Applicable
4734 T}@T{
4735 GC cause is now always logged.
4736 T}
4737 T{
4738 \f[CB]PrintGCDateStamps\f[R]
4739 T}@T{
4740 Not Applicable
4741 T}@T{
4742 Date stamps are logged by the framework.
4743 T}
4744 T{
4745 \f[CB]PrintGCDetails\f[R]
4746 T}@T{
4747 \f[CB]\-Xlog:gc*\f[R]
4748 T}@T{
4749 Not Applicable
4750 T}
4751 T{
4752 \f[CB]PrintGCID\f[R]
4753 T}@T{
4754 Not Applicable
4755 T}@T{
4756 GC ID is now always logged.
4757 T}
4758 T{
4759 \f[CB]PrintGCTaskTimeStamps\f[R]
4760 T}@T{
4761 \f[CB]\-Xlog:gc+task*=debug\f[R]
4762 T}@T{
4763 Not Applicable
4764 T}
4765 T{
4766 \f[CB]PrintGCTimeStamps\f[R]
4767 T}@T{
4768 Not Applicable
4769 T}@T{
4770 Time stamps are logged by the framework.
4771 T}
4772 T{
4773 \f[CB]PrintHeapAtGC\f[R]
4774 T}@T{
4775 \f[CB]\-Xlog:gc+heap=trace\f[R]
4776 T}@T{
4777 Not Applicable
4778 T}
4779 T{
4780 \f[CB]PrintReferenceGC\f[R]
4781 T}@T{
4782 \f[CB]\-Xlog:gc+ref*=debug\f[R]
4783 T}@T{
4784 Note that in the old logging, \f[CB]PrintReferenceGC\f[R] had an effect
4785 only if \f[CB]PrintGCDetails\f[R] was also enabled.
4786 T}
4787 T{
4788 \f[CB]PrintStringDeduplicationStatistics\f[R]
4789 T}@T{
4790 `\-Xlog:gc+stringdedup*=debug
4791 T}@T{
4792 ` Not Applicable
4793 T}
4794 T{
4795 \f[CB]PrintTenuringDistribution\f[R]
4796 T}@T{
4797 \f[CB]\-Xlog:gc+age*=\f[R]\f[I]level\f[R]
4798 T}@T{
4799 Use a \f[I]level\f[R] of \f[CB]debug\f[R] for the most relevant
4800 information, or a \f[I]level\f[R] of \f[CB]trace\f[R] for all of what was
4801 logged for \f[CB]PrintTenuringDistribution\f[R].
4802 T}
4803 T{
4804 \f[CB]UseGCLogFileRotation\f[R]
4805 T}@T{
4806 Not Applicable
4807 T}@T{
4808 What was logged for \f[CB]PrintTenuringDistribution\f[R].
4809 T}
4810 .TE
4811 .SS Convert Runtime Logging Flags to Xlog
4812 .PP
4813 .TS
4814 tab(@);
4815 lw(15.0n) lw(20.2n) lw(34.7n).
4816 T{
4817 Legacy Runtime Flag
4818 T}@T{
4819 Xlog Configuration
4820 T}@T{
4821 Comment
4822 T}
4823 _
4824 T{
4825 \f[CB]TraceExceptions\f[R]
4826 T}@T{
4827 \f[CB]\-Xlog:exceptions=info\f[R]
4828 T}@T{
4829 Not Applicable
4830 T}
4831 T{
4832 \f[CB]TraceClassLoading\f[R]
4833 T}@T{
4834 \f[CB]\-Xlog:class+load=\f[R]\f[I]level\f[R]
4835 T}@T{
4836 Use \f[I]level\f[R]=\f[CB]info\f[R] for regular information, or
4837 \f[I]level\f[R]=\f[CB]debug\f[R] for additional information.
4838 In Unified Logging syntax, \f[CB]\-verbose:class\f[R] equals
4839 \f[CB]\-Xlog:class+load=info,class+unload=info\f[R].
4840 T}
4841 T{
4842 \f[CB]TraceClassLoadingPreorder\f[R]
4843 T}@T{
4844 \f[CB]\-Xlog:class+preorder=debug\f[R]
4845 T}@T{
4846 Not Applicable
4847 T}
4848 T{
4849 \f[CB]TraceClassUnloading\f[R]
4850 T}@T{
4851 \f[CB]\-Xlog:class+unload=\f[R]\f[I]level\f[R]
4852 T}@T{
4853 Use \f[I]level\f[R]=\f[CB]info\f[R] for regular information, or
4854 \f[I]level\f[R]=\f[CB]trace\f[R] for additional information.
4855 In Unified Logging syntax, \f[CB]\-verbose:class\f[R] equals
4856 \f[CB]\-Xlog:class+load=info,class+unload=info\f[R].
4857 T}
4858 T{
4859 \f[CB]VerboseVerification\f[R]
4860 T}@T{
4861 \f[CB]\-Xlog:verification=info\f[R]
4862 T}@T{
4863 Not Applicable
4864 T}
4865 T{
4866 \f[CB]TraceClassPaths\f[R]
4867 T}@T{
4868 \f[CB]\-Xlog:class+path=info\f[R]
4869 T}@T{
4870 Not Applicable
4871 T}
4872 T{
4873 \f[CB]TraceClassResolution\f[R]
4874 T}@T{
4875 \f[CB]\-Xlog:class+resolve=debug\f[R]
4876 T}@T{
4877 Not Applicable
4878 T}
4879 T{
4880 \f[CB]TraceClassInitialization\f[R]
4881 T}@T{
4882 \f[CB]\-Xlog:class+init=info\f[R]
4883 T}@T{
4884 Not Applicable
4885 T}
4886 T{
4887 \f[CB]TraceLoaderConstraints\f[R]
4888 T}@T{
4889 \f[CB]\-Xlog:class+loader+constraints=info\f[R]
4890 T}@T{
4891 Not Applicable
4892 T}
4893 T{
4894 \f[CB]TraceClassLoaderData\f[R]
4895 T}@T{
4896 \f[CB]\-Xlog:class+loader+data=\f[R]\f[I]level\f[R]
4897 T}@T{
4898 Use \f[I]level\f[R]=\f[CB]debug\f[R] for regular information or
4899 \f[I]level\f[R]=\f[CB]trace\f[R] for additional information.
4900 T}
4901 T{
4902 \f[CB]TraceSafepointCleanupTime\f[R]
4903 T}@T{
4904 \f[CB]\-Xlog:safepoint+cleanup=info\f[R]
4905 T}@T{
4906 Not Applicable
4907 T}
4908 T{
4909 \f[CB]TraceSafepoint\f[R]
4910 T}@T{
4911 \f[CB]\-Xlog:safepoint=debug\f[R]
4912 T}@T{
4913 Not Applicable
4914 T}
4915 T{
4916 \f[CB]TraceMonitorInflation\f[R]
4917 T}@T{
4918 \f[CB]\-Xlog:monitorinflation=debug\f[R]
4919 T}@T{
4920 Not Applicable
4921 T}
4922 T{
4923 \f[CB]TraceBiasedLocking\f[R]
4924 T}@T{
4925 \f[CB]\-Xlog:biasedlocking=\f[R]\f[I]level\f[R]
4926 T}@T{
4927 Use \f[I]level\f[R]=\f[CB]info\f[R] for regular information, or
4928 \f[I]level\f[R]=\f[CB]trace\f[R] for additional information.
4929 T}
4930 T{
4931 \f[CB]TraceRedefineClasses\f[R]
4932 T}@T{
4933 \f[CB]\-Xlog:redefine+class*=\f[R]\f[I]level\f[R]
4934 T}@T{
4935 \f[I]level\f[R]=\f[CB]info\f[R], \f[CB]debug\f[R], and \f[CB]trace\f[R] provide
4936 increasing amounts of information.
4937 T}
4938 .TE
4939 .SS \-Xlog Usage Examples
4940 .PP
4941 The following are \f[CB]\-Xlog\f[R] examples.
4942 .TP
4943 .B \f[CB]\-Xlog\f[R]
4944 Logs all messages by using the \f[CB]info\f[R] level to \f[CB]stdout\f[R]
4945 with \f[CB]uptime\f[R], \f[CB]levels\f[R], and \f[CB]tags\f[R] decorations.
4946 This is equivalent to using:
4947 .RS
4948 .RS
4949 .PP
4950 \f[CB]\-Xlog:all=info:stdout:uptime,levels,tags\f[R]
4951 .RE
4952 .RE
4953 .TP
4954 .B \f[CB]\-Xlog:gc\f[R]
4955 Logs messages tagged with the \f[CB]gc\f[R] tag using \f[CB]info\f[R] level
4956 to \f[CB]stdout\f[R].
4957 The default configuration for all other messages at level
4958 \f[CB]warning\f[R] is in effect.
4959 .RS
4960 .RE
4961 .TP
4962 .B \f[CB]\-Xlog:gc,safepoint\f[R]
4963 Logs messages tagged either with the \f[CB]gc\f[R] or \f[CB]safepoint\f[R]
4964 tags, both using the \f[CB]info\f[R] level, to \f[CB]stdout\f[R], with
4965 default decorations.
4966 Messages tagged with both \f[CB]gc\f[R] and \f[CB]safepoint\f[R] won\[aq]t
4967 be logged.
4968 .RS
4969 .RE
4970 .TP
4971 .B \f[CB]\-Xlog:gc+ref=debug\f[R]
4972 Logs messages tagged with both \f[CB]gc\f[R] and \f[CB]ref\f[R] tags, using
4973 the \f[CB]debug\f[R] level to \f[CB]stdout\f[R], with default decorations.
4974 Messages tagged only with one of the two tags won\[aq]t be logged.
4975 .RS
4976 .RE
4977 .TP
4978 .B \f[CB]\-Xlog:gc=debug:file=gc.txt:none\f[R]
4979 Logs messages tagged with the \f[CB]gc\f[R] tag using the \f[CB]debug\f[R]
4980 level to a file called \f[CB]gc.txt\f[R] with no decorations.
4981 The default configuration for all other messages at level
4982 \f[CB]warning\f[R] is still in effect.
4983 .RS
4984 .RE
4985 .TP
4986 .B \f[CB]\-Xlog:gc=trace:file=gctrace.txt:uptimemillis,pids:filecount=5,filesize=1024\f[R]
4987 Logs messages tagged with the \f[CB]gc\f[R] tag using the \f[CB]trace\f[R]
4988 level to a rotating file set with 5 files with size 1 MB with the base
4989 name \f[CB]gctrace.txt\f[R] and uses decorations \f[CB]uptimemillis\f[R] and
4990 \f[CB]pid\f[R].
4991 .RS
4992 .PP
4993 The default configuration for all other messages at level
4994 \f[CB]warning\f[R] is still in effect.
4995 .RE
4996 .TP
4997 .B \f[CB]\-Xlog:gc::uptime,tid\f[R]
4998 Logs messages tagged with the \f[CB]gc\f[R] tag using the default
4999 \[aq]info\[aq] level to default the output \f[CB]stdout\f[R] and uses
5000 decorations \f[CB]uptime\f[R] and \f[CB]tid\f[R].
5001 The default configuration for all other messages at level
5002 \f[CB]warning\f[R] is still in effect.
5003 .RS
5004 .RE
5005 .TP
5006 .B \f[CB]\-Xlog:gc*=info,safepoint*=off\f[R]
5007 Logs messages tagged with at least \f[CB]gc\f[R] using the \f[CB]info\f[R]
5008 level, but turns off logging of messages tagged with \f[CB]safepoint\f[R].
5009 Messages tagged with both \f[CB]gc\f[R] and \f[CB]safepoint\f[R] won\[aq]t
5010 be logged.
5011 .RS
5012 .RE
5013 .TP
5014 .B \f[CB]\-Xlog:disable\ \-Xlog:safepoint=trace:safepointtrace.txt\f[R]
5015 Turns off all logging, including warnings and errors, and then enables
5016 messages tagged with \f[CB]safepoint\f[R]using \f[CB]trace\f[R]level to the
5017 file \f[CB]safepointtrace.txt\f[R].
5018 The default configuration doesn\[aq]t apply, because the command line
5019 started with \f[CB]\-Xlog:disable\f[R].
5020 .RS
5021 .RE
5022 .SS Complex \-Xlog Usage Examples
5023 .PP
5024 The following describes a few complex examples of using the
5025 \f[CB]\-Xlog\f[R] option.
5026 .TP
5027 .B \f[CB]\-Xlog:gc+class*=debug\f[R]
5028 Logs messages tagged with at least \f[CB]gc\f[R] and \f[CB]class\f[R] tags
5029 using the \f[CB]debug\f[R] level to \f[CB]stdout\f[R].
5030 The default configuration for all other messages at the level
5031 \f[CB]warning\f[R] is still in effect
5032 .RS
5033 .RE
5034 .TP
5035 .B \f[CB]\-Xlog:gc+meta*=trace,class*=off:file=gcmetatrace.txt\f[R]
5036 Logs messages tagged with at least the \f[CB]gc\f[R] and \f[CB]meta\f[R]
5037 tags using the \f[CB]trace\f[R] level to the file \f[CB]metatrace.txt\f[R]
5038 but turns off all messages tagged with \f[CB]class\f[R].
5039 Messages tagged with \f[CB]gc\f[R], \f[CB]meta\f[R], and \f[CB]class\f[R]
5040 aren\[aq]t be logged as \f[CB]class*\f[R] is set to off.
5041 The default configuration for all other messages at level
5042 \f[CB]warning\f[R] is in effect except for those that include
5043 \f[CB]class\f[R].
5044 .RS
5045 .RE
5046 .TP
5047 .B \f[CB]\-Xlog:gc+meta=trace\f[R]
5048 Logs messages tagged with exactly the \f[CB]gc\f[R] and \f[CB]meta\f[R] tags
5049 using the \f[CB]trace\f[R] level to \f[CB]stdout\f[R].
5050 The default configuration for all other messages at level
5051 \f[CB]warning\f[R] is still be in effect.
5052 .RS
5053 .RE
5054 .TP
5055 .B \f[CB]\-Xlog:gc+class+heap*=debug,meta*=warning,threads*=off\f[R]
5056 Logs messages tagged with at least \f[CB]gc\f[R], \f[CB]class\f[R], and
5057 \f[CB]heap\f[R] tags using the \f[CB]trace\f[R] level to \f[CB]stdout\f[R] but
5058 only log messages tagged with \f[CB]meta\f[R] with level.
5059 The default configuration for all other messages at the level
5060 \f[CB]warning\f[R] is in effect except for those that include
5061 \f[CB]threads\f[R].
5062 .RS
5063 .RE
5064 .SH VALIDATE JAVA VIRTUAL MACHINE FLAG ARGUMENTS
5065 .PP
5066 You use values provided to all Java Virtual Machine (JVM) command\-line
5067 flags for validation and, if the input value is invalid or
5068 out\-of\-range, then an appropriate error message is displayed.
5069 .PP
5070 Whether they\[aq]re set ergonomically, in a command line, by an input
5071 tool, or through the APIs (for example, classes contained in the package
5072 \f[CB]java.lang.management\f[R]) the values provided to all Java Virtual
5073 Machine (JVM) command\-line flags are validated.
5074 Ergonomics are described in Java Platform, Standard Edition HotSpot
5075 Virtual Machine Garbage Collection Tuning Guide.
5076 .PP
5077 Range and constraints are validated either when all flags have their
5078 values set during JVM initialization or a flag\[aq]s value is changed
5079 during runtime (for example using the \f[CB]jcmd\f[R] tool).
5080 The JVM is terminated if a value violates either the range or constraint
5081 check and an appropriate error message is printed on the error stream.
5082 .PP
5083 For example, if a flag violates a range or a constraint check, then the
5084 JVM exits with an error:
5085 .IP
5086 .nf
5087 \f[CB]
5088 java\ \-XX:AllocatePrefetchStyle=5\ \-version
5089 intx\ AllocatePrefetchStyle=5\ is\ outside\ the\ allowed\ range\ [\ 0\ ...\ 3\ ]
5090 Improperly\ specified\ VM\ option\ \[aq]AllocatePrefetchStyle=5\[aq]
5091 Error:\ Could\ not\ create\ the\ Java\ Virtual\ Machine.
5092 Error:\ A\ fatal\ exception\ has\ occurred.\ Program\ will\ exit.
5093 \f[R]
5094 .fi
5095 .PP
5096 The flag \f[CB]\-XX:+PrintFlagsRanges\f[R] prints the range of all the
5097 flags.
5098 This flag allows automatic testing of the flags by the values provided
5099 by the ranges.
5100 For the flags that have the ranges specified, the type, name, and the
5101 actual range is printed in the output.
5102 .PP
5103 For example,
5104 .IP
5105 .nf
5106 \f[CB]
5107 intx\ \ \ ThreadStackSize\ [\ 0\ ...\ 9007199254740987\ ]\ {pd\ product}
5108 \f[R]
5109 .fi
5110 .PP
5111 For the flags that don\[aq]t have the range specified, the values
5112 aren\[aq]t displayed in the print out.
5113 For example:
5114 .IP
5115 .nf
5116 \f[CB]
5117 size_t\ NewSize\ \ \ \ \ \ \ \ \ [\ \ \ ...\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ]\ {product}
5118 \f[R]
5119 .fi
5120 .PP
5121 This helps to identify the flags that need to be implemented.
5122 The automatic testing framework can skip those flags that don\[aq]t have
5123 values and aren\[aq]t implemented.
5124 .SH LARGE PAGES
5125 .PP
5126 You use large pages, also known as huge pages, as memory pages that are
5127 significantly larger than the standard memory page size (which varies
5128 depending on the processor and operating system).
5129 Large pages optimize processor Translation\-Lookaside Buffers.
5130 .PP
5131 A Translation\-Lookaside Buffer (TLB) is a page translation cache that
5132 holds the most\-recently used virtual\-to\-physical address
5133 translations.
5134 A TLB is a scarce system resource.
5135 A TLB miss can be costly because the processor must then read from the
5136 hierarchical page table, which may require multiple memory accesses.
5137 By using a larger memory page size, a single TLB entry can represent a
5138 larger memory range.
5139 This results in less pressure on a TLB, and memory\-intensive
5140 applications may have better performance.
5141 .PP
5142 However, large pages page memory can negatively affect system
5143 performance.
5144 For example, when a large mount of memory is pinned by an application,
5145 it may create a shortage of regular memory and cause excessive paging in
5146 other applications and slow down the entire system.
5147 Also, a system that has been up for a long time could produce excessive
5148 fragmentation, which could make it impossible to reserve enough large
5149 page memory.
5150 When this happens, either the OS or JVM reverts to using regular pages.
5151 .PP
5152 Linux and Windows support large pages.
5153 .SS Large Pages Support for Linux
5154 .PP
5155 The 2.6 kernel supports large pages.
5156 Some vendors have backported the code to their 2.4\-based releases.
5157 To check if your system can support large page memory, try the
5158 following:
5159 .IP
5160 .nf
5161 \f[CB]
5162 #\ cat\ /proc/meminfo\ |\ grep\ Huge
5163 HugePages_Total:\ 0
5164 HugePages_Free:\ 0
5165 Hugepagesize:\ 2048\ kB
5166 \f[R]
5167 .fi
5168 .PP
5169 If the output shows the three &quot;Huge&quot; variables, then your system can
5170 support large page memory but it needs to be configured.
5171 If the command prints nothing, then your system doesn\[aq]t support
5172 large pages.
5173 To configure the system to use large page memory, login as
5174 \f[CB]root\f[R], and then follow these steps:
5175 .IP &quot;1.&quot; 3
5176 If you\[aq]re using the option \f[CB]\-XX:+UseSHM\f[R] (instead of
5177 \f[CB]\-XX:+UseHugeTLBFS\f[R]), then increase the \f[CB]SHMMAX\f[R] value.
5178 It must be larger than the Java heap size.
5179 On a system with 4 GB of physical RAM (or less), the following makes all
5180 the memory sharable:
5181 .RS 4
5182 .RS
5183 .PP
5184 \f[CB]#\ echo\ 4294967295\ &gt;\ /proc/sys/kernel/shmmax\f[R]
5185 .RE
5186 .RE
5187 .IP &quot;2.&quot; 3
5188 If you\[aq]re using the option \f[CB]\-XX:+UseSHM\f[R] or
5189 \f[CB]\-XX:+UseHugeTLBFS\f[R], then specify the number of large pages.
5190 In the following example, 3 GB of a 4 GB system are reserved for large
5191 pages (assuming a large page size of 2048kB, then 3 GB = 3 * 1024 MB =
5192 3072 MB = 3072 * 1024 kB = 3145728 kB and 3145728 kB / 2048 kB = 1536):
5193 .RS 4
5194 .RS
5195 .PP
5196 \f[CB]#\ echo\ 1536\ &gt;\ /proc/sys/vm/nr_hugepages\f[R]
5197 .RE
5198 .RS
5199 .PP
5200 \f[B]Note:\f[R] The values contained in \f[CB]/proc\f[R] resets after you
5201 reboot your system, so may want to set them in an initialization script
5202 (for example, \f[CB]rc.local\f[R] or \f[CB]sysctl.conf\f[R]).
5203 .RE
5204 .RE
5205 .IP \[bu] 2
5206 If you configure (or resize) the OS kernel parameters
5207 \f[CB]/proc/sys/kernel/shmmax\f[R] or \f[CB]/proc/sys/vm/nr_hugepages\f[R],
5208 Java processes may allocate large pages for areas in addition to the
5209 Java heap.
5210 These steps can allocate large pages for the following areas:
5211 .RS 2
5212 .IP \[bu] 2
5213 Java heap
5214 .IP \[bu] 2
5215 Code cache
5216 .IP \[bu] 2
5217 The marking bitmap data structure for the parallel GC
5218 .PP
5219 Consequently, if you configure the \f[CB]nr_hugepages\f[R] parameter to
5220 the size of the Java heap, then the JVM can fail in allocating the code
5221 cache areas on large pages because these areas are quite large in size.
5222 .RE
5223 .SS Large Pages Support for Windows
5224 .PP
5225 To use large pages support on Windows, the administrator must first
5226 assign additional privileges to the user who is running the application:
5227 .IP &quot;1.&quot; 3
5228 Select \f[B]Control Panel\f[R], \f[B]Administrative Tools\f[R], and then
5229 \f[B]Local Security Policy\f[R].
5230 .IP &quot;2.&quot; 3
5231 Select \f[B]Local Policies\f[R] and then \f[B]User Rights Assignment\f[R].
5232 .IP &quot;3.&quot; 3
5233 Double\-click \f[B]Lock pages in memory\f[R], then add users and/or
5234 groups.
5235 .IP &quot;4.&quot; 3
5236 Reboot your system.
5237 .PP
5238 Note that these steps are required even if it\[aq]s the administrator
5239 who\[aq]s running the application, because administrators by default
5240 don\[aq]t have the privilege to lock pages in memory.
5241 .SH APPLICATION CLASS DATA SHARING
5242 .PP
5243 Application Class Data Sharing (AppCDS) extends class data sharing (CDS)
5244 to enable application classes to be placed in a shared archive.
5245 .PP
5246 In addition to the core library classes, AppCDS supports \f[B]Class Data
5247 Sharing\f[R]
5248 [https://docs.oracle.com/en/java/javase/12/vm/class\-data\-sharing.html#GUID\-7EAA3411\-8CF0\-4D19\-BD05\-DF5E1780AA91]
5249 from the following locations:
5250 .IP \[bu] 2
5251 Platform classes from the runtime image
5252 .IP \[bu] 2
5253 Application classes from the runtime image
5254 .IP \[bu] 2
5255 Application classes from the class path
5256 .IP \[bu] 2
5257 Application classes from the module path
5258 .PP
5259 Archiving application classes provides better start up time at runtime.
5260 When running multiple JVM processes, AppCDS also reduces the runtime
5261 footprint with memory sharing for read\-only metadata.
5262 .PP
5263 CDS/AppCDS supports archiving classes from JAR files only.
5264 .PP
5265 Prior to JDK 11, a non\-empty directory was reported as a fatal error in
5266 the following conditions:
5267 .IP \[bu] 2
5268 For base CDS, a non\-empty directory cannot exist in the
5269 \f[CB]\-Xbootclasspath/a\f[R] path
5270 .IP \[bu] 2
5271 With \f[CB]\-XX:+UseAppCDS\f[R], a non\-empty directory could not exist in
5272 the \f[CB]\-Xbootclasspath/a\f[R] path, class path, and module path.
5273 .PP
5274 In JDK 11 and later, \f[CB]\-XX:+UseAppCDS\f[R] is obsolete and the
5275 behavior for a non\-empty directory is based on the class types in the
5276 classlist.
5277 A non\-empty directory is reported as a fatal error in the following
5278 conditions:
5279 .IP \[bu] 2
5280 If application classes or platform classes are not loaded, dump time
5281 only reports an error if a non\-empty directory exists in
5282 \f[CB]\-Xbootclasspath/a\f[R] path
5283 .IP \[bu] 2
5284 If application classes or platform classes are loaded, dump time reports
5285 an error for a non\-empty directory that exists in
5286 \f[CB]\-Xbootclasspath/a\f[R] path, class path, or module path
5287 .PP
5288 In JDK 11 and later, using
5289 \f[CB]\-XX:DumpLoadedClassList=\f[R]\f[I]class_list_file\f[R] results a
5290 generated classlist with all classes (both system library classes and
5291 application classes) included.
5292 You no longer have to specify \f[CB]\-XX:+UseAppCDS\f[R] with
5293 \f[CB]\-XX:DumpLoadedClassList\f[R] to produce a complete class list.
5294 .PP
5295 In JDK 11 and later, because \f[CB]UseAppCDS\f[R] is obsolete,
5296 \f[CB]SharedArchiveFile\f[R] becomes a product flag by default.
5297 Specifying \f[CB]+UnlockDiagnosticVMOptions\f[R] for
5298 \f[CB]SharedArchiveFile\f[R] is no longer needed in any configuration.
5299 .PP
5300 Class Data Sharing (CDS)/AppCDS does not support archiving array classes
5301 in a class list.
5302 When an array in the class list is encountered, CDS dump time gives the
5303 explicit error message:
5304 .RS
5305 .PP
5306 \f[CB]Preload\ Warning:\ Cannot\ find\f[R] \f[I]array_name\f[R]
5307 .RE
5308 .PP
5309 Although an array in the class list is not allowed, some array classes
5310 can still be created at CDS/AppCDS dump time.
5311 Those arrays are created during the execution of the Java code used by
5312 the Java class loaders (\f[CB]PlatformClassLoader\f[R] and the system
5313 class loader) to load classes at dump time.
5314 The created arrays are archived with the rest of the loaded classes.
5315 .SS Extending Class Data Sharing to Support the Module Path
5316 .PP
5317 In JDK 11, Class Data Sharing (CDS) has been improved to support
5318 archiving classes from the module path.
5319 .IP \[bu] 2
5320 To create a CDS archive using the \f[CB]\-\-module\-path\f[R] VM option,
5321 use the following command line syntax:
5322 .RS 2
5323 .RS
5324 .PP
5325 \f[CB]java\ \-Xshare:dump\ \-XX:SharedClassListFile=\f[R]\f[I]class_list_file\f[R]
5326 \f[CB]\-XX:SharedArchiveFile=\f[R]\f[I]shared_archive_file\f[R]
5327 \f[CB]\-\-module\-path=\f[R]\f[I]path_to_modular_jar\f[R] \f[CB]\-m\f[R]
5328 \f[I]module_name\f[R]
5329 .RE
5330 .RE
5331 .IP \[bu] 2
5332 To run with a CDS archive using the \f[CB]\-\-module\-path\f[R] VM option,
5333 use the following the command line syntax:
5334 .RS 2
5335 .RS
5336 .PP
5337 \f[CB]java\ \-XX:SharedArchiveFile=\f[R]\f[I]shared_archive_file\f[R]
5338 \f[CB]\-\-module\-path=\f[R]\f[I]path_to_modular_jar\f[R] \f[CB]\-m\f[R]
5339 \f[I]module_name\f[R]
5340 .RE
5341 .RE
5342 .PP
5343 The following table describes how the VM options related to module paths
5344 can be used along with the \f[CB]\-Xshare\f[R] option.
5345 .PP
5346 .TS
5347 tab(@);
5348 l l l.
5349 T{
5350 Option
5351 T}@T{
5352 \-Xshare:dump
5353 T}@T{
5354 \-Xshare:{on,auto}
5355 T}
5356 _
5357 T{
5358 \f[CB]\-\-module\-path\f[R][1] \f[I]mp\f[R]
5359 T}@T{
5360 Allowed
5361 T}@T{
5362 Allowed[2]
5363 T}
5364 T{
5365 \f[CB]\-\-module\f[R]
5366 T}@T{
5367 Allowed
5368 T}@T{
5369 Allowed
5370 T}
5371 T{
5372 \f[CB]\-\-add\-module\f[R]
5373 T}@T{
5374 Allowed
5375 T}@T{
5376 Allowed
5377 T}
5378 T{
5379 \f[CB]\-\-upgrade\-module\-path\f[R][3]
5380 T}@T{
5381 Disallowed (exits if specified)
5382 T}@T{
5383 Allowed (disables CDS)
5384 T}
5385 T{
5386 \f[CB]\-\-patch\-module\f[R][4]
5387 T}@T{
5388 Disallowed (exits if specified)
5389 T}@T{
5390 Allowed (disables CDS)
5391 T}
5392 T{
5393 \f[CB]\-\-limit\-modules\f[R][5]
5394 T}@T{
5395 Disallowed (exits if specified)
5396 T}@T{
5397 Allowed (disables CDS)
5398 T}
5399 .TE
5400 .PP
5401 [1] Although there are two ways of specifying a module in a
5402 \f[CB]\-\-module\-path\f[R], that is, modular JAR or exploded module, only
5403 modular JARs are supported.
5404 .PP
5405 [2] Different \f[I]mp\f[R] can be specified during dump time versus run
5406 time.
5407 If an archived class K was loaded from \f[CB]mp1.jar\f[R] at dump time,
5408 but changes in \f[I]mp\f[R] cause it to be available from a different
5409 \f[CB]mp2.jar\f[R] at run time, then the archived version of K will be
5410 disregarded at run time; K will be loaded dynamically.
5411 .PP
5412 [3] Currently, only two system modules are upgradeable
5413 (\f[CB]java.compiler\f[R] and \f[CB]jdk.internal.vm.compiler\f[R]).
5414 However, these modules are seldom upgraded in production software.
5415 .PP
5416 [4] As documented in JEP 261, using \f[CB]\-\-patch\-module\f[R] is
5417 strongly discouraged for production use.
5418 .PP
5419 [5] \f[CB]\-\-limit\-modules\f[R] is intended for testing purposes.
5420 It is seldom used in production software.
5421 .PP
5422 If \f[CB]\-\-upgrade\-module\-path\f[R], \f[CB]\-\-patch\-module\f[R], or
5423 \f[CB]\-\-limit\-modules\f[R] is specified at dump time, an error will be
5424 printed and the JVM will exit.
5425 For example, if the \f[CB]\-\-limit\-modules\f[R] option is specified at
5426 dump time, the user will see the following error:
5427 .IP
5428 .nf
5429 \f[CB]
5430 Error\ occurred\ during\ initialization\ of\ VM
5431 Cannot\ use\ the\ following\ option\ when\ dumping\ the\ shared\ archive:\ \-\-limit\-modules
5432 \f[R]
5433 .fi
5434 .PP
5435 If \f[CB]\-\-upgrade\-module\-path\f[R], \f[CB]\-\-patch\-module\f[R], or
5436 \f[CB]\-\-limit\-modules\f[R] is specified at run time, a warning message
5437 will be printed indicating that CDS is disabled.
5438 For example, if the \f[CB]\-\-limit\-modules\f[R] options is specified at
5439 run time, the user will see the following warning:
5440 .IP
5441 .nf
5442 \f[CB]
5443 Java\ HotSpot(TM)\ 64\-Bit\ Server\ VM\ warning:\ CDS\ is\ disabled\ when\ the\ \-\-limit\-modules\ option\ is\ specified.
5444 \f[R]
5445 .fi
5446 .PP
5447 Several other noteworthy things include:
5448 .IP \[bu] 2
5449 Any valid combinations of \f[CB]\-cp\f[R] and \f[CB]\-\-module\-path\f[R]
5450 are supported.
5451 .IP \[bu] 2
5452 A non\-empty directory in the module path causes a fatal error.
5453 The user will see the following error messages:
5454 .RS 2
5455 .IP
5456 .nf
5457 \f[CB]
5458 Error:\ non\-empty\ directory\ &lt;directory&gt;\ Hint:\ enable\ \-Xlog:class+path=info\ to\ diagnose\ the\ failure\ Error\ occurred\ during\ initialization\ of\ VM\ Cannot\ have\ non\-empty\ directory\ in\ paths
5459 \f[R]
5460 .fi
5461 .RE
5462 .IP \[bu] 2
5463 Unlike the class path, there\[aq]s no restriction that the module path
5464 at dump time must be equal to or be a prefix of the module path at run
5465 time.
5466 .IP \[bu] 2
5467 The archive is invalidated if an existing JAR in the module path is
5468 updated after archive generation.
5469 .IP \[bu] 2
5470 Removing a JAR from the module path does not invalidate the shared
5471 archive.
5472 Archived classes from the removed JAR are not used at runtime.
5473 .SS Dynamic CDS archive
5474 .PP
5475 Dynamic CDS archive extends AppCDS to allow archiving of classes when a
5476 Java application exits.
5477 It improves the usability of AppCDS by eliminating the trial run step
5478 for creating a class list for each application.
5479 The archived classes include all loaded application classes and library
5480 classes that are not present in the default CDS archive which is
5481 included in the JDK.
5482 .PP
5483 A base archive is required when creating a dynamic archive.
5484 If the base archive is not specified, the default CDS archive is used as
5485 the base archive.
5486 .PP
5487 To create a dynamic CDS archive with the default CDS archive as the base
5488 archive, just add the
5489 \f[CB]\-XX:ArchiveClassesAtExit=&lt;dynamic\ archive&gt;\f[R] option to the
5490 command line for running the Java application.
5491 .PP
5492 If the default CDS archive does not exist, the VM will exit with the
5493 following error:
5494 .IP
5495 .nf
5496 \f[CB]
5497 ArchiveClassesAtExit\ not\ supported\ when\ base\ CDS\ archive\ is\ not\ loaded
5498 \f[R]
5499 .fi
5500 .PP
5501 To run the Java application using a dynamic CDS archive, just add the
5502 \f[CB]\-XX:SharedArchiveFile=&lt;dynamic\ archive&gt;\f[R] option to the command
5503 line for running the Java application.
5504 .PP
5505 The base archive is not required to be specified in the command line.
5506 The base archive information, including its name and full path, will be
5507 retrieved from the dynamic archive header.
5508 Note that the user could also use the \f[CB]\-XX:SharedArchiveFile\f[R]
5509 option for specifying a regular AppCDS archive.
5510 Therefore, the specified archive in the \f[CB]\-XX:SharedArchiveFile\f[R]
5511 option could be either a regular or dynamic archive.
5512 During VM start up the specified archive header will be read.
5513 If \f[CB]\-XX:SharedArchiveFile\f[R] refers to a regular archive, then the
5514 behavior will be unchanged.
5515 If \f[CB]\-XX:SharedArchiveFile\f[R] refers to a dynamic archive, the VM
5516 will retrieve the base archive location from the dynamic archive.
5517 If the dynamic archive was created with the default CDS archive, then
5518 the current default CDS archive will be used, and will be found relative
5519 to the current run time environment.
5520 .PP
5521 Please refer to \f[B]JDK\-8221706\f[R]
5522 [https://bugs.openjdk.java.net/browse/JDK\-8221706] for details on error
5523 checking during dynamic CDS archive dump time and run time.
5524 .SS Creating a Shared Archive File and Using It to Run an Application
5525 .SS AppCDS archive
5526 .PP
5527 The following steps create a shared archive file that contains all the
5528 classes used by the \f[CB]test.Hello\f[R] application.
5529 The last step runs the application with the shared archive file.
5530 .IP &quot;1.&quot; 3
5531 Create a list of all classes used by the \f[CB]test.Hello\f[R]
5532 application.
5533 The following command creates a file named \f[CB]hello.classlist\f[R] that
5534 contains a list of all classes used by this application:
5535 .RS 4
5536 .RS
5537 .PP
5538 \f[CB]java\ \-Xshare:off\ \-XX:DumpLoadedClassList=hello.classlist\ \-cp\ hello.jar\ test.Hello\f[R]
5539 .RE
5540 .PP
5541 Note that the classpath specified by the \f[CB]\-cp\f[R] parameter must
5542 contain only JAR files.
5543 .RE
5544 .IP &quot;2.&quot; 3
5545 Create a shared archive, named \f[CB]hello.jsa\f[R], that contains all the
5546 classes in \f[CB]hello.classlist\f[R]:
5547 .RS 4
5548 .RS
5549 .PP
5550 \f[CB]java\ \-Xshare:dump\ \-XX:SharedArchiveFile=hello.jsa\ \-XX:SharedClassListFile=hello.classlist\ \-cp\ hello.jar\f[R]
5551 .RE
5552 .PP
5553 Note that the classpath used at archive creation time must be the same
5554 as (or a prefix of) the classpath used at run time.
5555 .RE
5556 .IP &quot;3.&quot; 3
5557 Run the application \f[CB]test.Hello\f[R] with the shared archive
5558 \f[CB]hello.jsa\f[R]:
5559 .RS 4
5560 .RS
5561 .PP
5562 \f[CB]java\ \-XX:SharedArchiveFile=hello.jsa\ \-cp\ hello.jar\ test.Hello\f[R]
5563 .RE
5564 .RE
5565 .IP &quot;4.&quot; 3
5566 \f[B]Optional\f[R] Verify that the \f[CB]test.Hello\f[R] application is
5567 using the class contained in the \f[CB]hello.jsa\f[R] shared archive:
5568 .RS 4
5569 .RS
5570 .PP
5571 \f[CB]java\ \-XX:SharedArchiveFile=hello.jsa\ \-cp\ hello.jar\ \-verbose:class\ test.Hello\f[R]
5572 .RE
5573 .PP
5574 The output of this command should contain the following text:
5575 .IP
5576 .nf
5577 \f[CB]
5578 Loaded\ test.Hello\ from\ shared\ objects\ file\ by\ sun/misc/Launcher$AppClassLoader
5579 \f[R]
5580 .fi
5581 .RE
5582 .SS Dynamic CDS archive
5583 .PP
5584 The following steps create a dynamic CDS archive file that contains the
5585 classes used by the \f[CB]test.Hello\f[R] application and are not included
5586 in the default CDS archive.
5587 The second step runs the application with the dynamic CDS archive.
5588 .IP &quot;1.&quot; 3
5589 Create a dynamic CDS archive, named \f[CB]hello.jsa\f[R], that contains
5590 all the classes in \f[CB]hello.jar\f[R] loaded by the application
5591 \f[CB]test.Hello\f[R]:
5592 .RS 4
5593 .RS
5594 .PP
5595 \f[CB]java\ \-XX:ArchiveClassesAtExit=hello.jsa\ \-cp\ hello.jar\ Hello\f[R]
5596 .RE
5597 .PP
5598 Note that the classpath used at archive creation time must be the same
5599 as (or a prefix of) the classpath used at run time.
5600 .RE
5601 .IP &quot;2.&quot; 3
5602 Run the application \f[CB]test.Hello\f[R] with the shared archive
5603 \f[CB]hello.jsa\f[R]:
5604 .RS 4
5605 .RS
5606 .PP
5607 \f[CB]java\ \-XX:SharedArchiveFile=hello.jsa\ \-cp\ hello.jar\ test.Hello\f[R]
5608 .RE
5609 .RE
5610 .IP &quot;3.&quot; 3
5611 \f[B]Optional\f[R] Repeat step 4 of the previous section to verify that
5612 the \f[CB]test.Hello\f[R] application is using the class contained in the
5613 \f[CB]hello.jsa\f[R] shared archive.
5614 .PP
5615 To automate the above steps 1 and 2, one can write a script such as the
5616 following:
5617 .IP
5618 .nf
5619 \f[CB]
5620 \ \ \ \ ARCHIVE=hello.jsa
5621 \ \ \ \ if\ test\ \-f\ $ARCHIVE;\ then
5622 \ \ \ \ \ \ \ \ FLAG=&quot;\-XX:SharedArchiveFile=$ARCHIVE&quot;
5623 \ \ \ \ else
5624 \ \ \ \ \ \ \ \ FLAG=&quot;\-XX:ArchiveClassesAtExit=$ARCHIVE&quot;
5625 \ \ \ \ fi
5626 \ \ \ \ $JAVA_HOME/bin/java\ \-cp\ hello.jar\ $FLAG\ test.Hello
5627 \f[R]
5628 .fi
5629 .PP
5630 Like an AppCDS archive, the archive needs to be re\-generated if the
5631 Java version has changed.
5632 The above script could be adjusted to account for the Java version as
5633 follows:
5634 .IP
5635 .nf
5636 \f[CB]
5637 \ \ \ \ ARCHIVE=hello.jsa
5638 \ \ \ \ VERSION=foo.version
5639 \ \ \ \ if\ test\ \-f\ $ARCHIVE\ \-a\ \-f\ $VERSION\ &amp;&amp;\ cmp\ \-s\ $VERSION\ $JAVA_HOME/release;\ then
5640 \ \ \ \ \ \ \ \ FLAG=&quot;\-XX:SharedArchiveFile=$ARCHIVE&quot;
5641 \ \ \ \ else
5642 \ \ \ \ \ \ \ \ FLAG=&quot;\-XX:ArchiveClassesAtExit=$ARCHIVE&quot;
5643 \ \ \ \ \ \ \ \ cp\ \-f\ $JAVA_HOME/release\ $VERSION
5644 \ \ \ \ fi
5645 \ \ \ \ $JAVA_HOME/bin/java\ \-cp\ hello.jar\ $FLAG\ test.Hello
5646 \f[R]
5647 .fi
5648 .PP
5649 Currently, we don\[aq]t support concurrent dumping operations to the
5650 same CDS archive.
5651 Care should be taken to avoid multiple writers to the same CDS archive.
5652 .PP
5653 The user could also create a dynamic CDS archive with a specific base
5654 archive, e.g.
5655 named as \f[CB]base.jsa\f[R] as follows:
5656 .RS
5657 .PP
5658 \f[CB]java\ \-XX:SharedArchiveFile=base.jsa\ \-XX:ArchiveClassesAtExit=hello.jsa\ \-cp\ hello.jar\ Hello\f[R]
5659 .RE
5660 .PP
5661 To run the application using the dynamic CDS archive \f[CB]hello.jsa\f[R]
5662 and a specific base CDS archive \f[CB]base.jsa\f[R]:
5663 .RS
5664 .PP
5665 \f[CB]java\ \-XX:SharedArchiveFile=base.jsa:hello.jsa\ \-cp\ hello.jar\ Hello\f[R]
5666 .RE
5667 .PP
5668 Note that on Windows, the above path delimiter \f[CB]:\f[R] should be
5669 replaced with \f[CB];\f[R].
5670 .PP
5671 The above command for specifying a base archive is useful if the base
5672 archive used for creating the dynamic archive has been moved.
5673 Normally, just specifying the dynamic archive should be sufficient since
5674 the base archive info can be retrieved from the dynamic archive header.
5675 .SS Sharing a Shared Archive Across Multiple Application Processes
5676 .PP
5677 You can share the same archive file across multiple applications
5678 processes.
5679 This reduces memory usage because the archive is memory\-mapped into the
5680 address space of the processes.
5681 The operating system automatically shares the read\-only pages across
5682 these processes.
5683 .PP
5684 The following steps demonstrate how to create a common archive that can
5685 be shared by different applications.
5686 Classes from \f[CB]common.jar\f[R], \f[CB]hello.jar\f[R] and \f[CB]hi.jar\f[R]
5687 are archived in the \f[CB]common.jsa\f[R] because they are all in the
5688 classpath during the archiving step (step 3).
5689 .PP
5690 To include classes from \f[CB]hello.jar\f[R] and \f[CB]hi.jar\f[R], the
5691 \f[CB]\&amp;.jar\f[R] files must be added to the classpath specified by the
5692 \f[CB]\-cp\f[R] parameter.
5693 .IP &quot;1.&quot; 3
5694 Create a list of all classes used by the \f[CB]Hello\f[R] application and
5695 another list for the \f[CB]Hi\f[R] application:
5696 .RS 4
5697 .RS
5698 .PP
5699 \f[CB]java\ \-XX:DumpLoadedClassList=hello.classlist\ \-cp\ common.jar:hello.jar\ Hello\f[R]
5700 .RE
5701 .RS
5702 .PP
5703 \f[CB]java\ \-XX:DumpLoadedClassList=hi.classlist\ \-cp\ common.jar:hi.jar\ Hi\f[R]
5704 .RE
5705 .RE
5706 .IP &quot;2.&quot; 3
5707 Create a single list of classes used by all the applications that will
5708 share the shared archive file.
5709 .RS 4
5710 .PP
5711 \f[B]Linux and macOS\f[R] The following commands combine the files
5712 \f[CB]hello.classlist\f[R] and \f[CB]hi.classlist\f[R] into one file,
5713 \f[CB]common.classlist\f[R]:
5714 .RS
5715 .PP
5716 \f[CB]cat\ hello.classlist\ hi.classlist\ &gt;\ common.classlist\f[R]
5717 .RE
5718 .PP
5719 \f[B]Windows\f[R] The following commands combine the files
5720 \f[CB]hello.classlist\f[R] and \f[CB]hi.classlist\f[R] into one file,
5721 \f[CB]common.classlist\f[R]:
5722 .RS
5723 .PP
5724 \f[CB]type\ hello.classlist\ hi.classlist\ &gt;\ common.classlist\f[R]
5725 .RE
5726 .RE
5727 .IP &quot;3.&quot; 3
5728 Create a shared archive named \f[CB]common.jsa\f[R] that contains all the
5729 classes in \f[CB]common.classlist\f[R]:
5730 .RS 4
5731 .RS
5732 .PP
5733 \f[CB]java\ \-Xshare:dump\ \-XX:SharedArchiveFile=common.jsa\ \-XX:SharedClassListFile=common.classlist\ \-cp\ common.jar:hello.jar:hi.jar\f[R]
5734 .RE
5735 .PP
5736 The classpath parameter used is the common class path prefix shared by
5737 the \f[CB]Hello\f[R] and \f[CB]Hi\f[R] applications.
5738 .RE
5739 .IP &quot;4.&quot; 3
5740 Run the \f[CB]Hello\f[R] and \f[CB]Hi\f[R] applications with the same shared
5741 archive:
5742 .RS 4
5743 .RS
5744 .PP
5745 \f[CB]java\ \-XX:SharedArchiveFile=common.jsa\ \-cp\ common.jar:hello.jar:hi.jar\ Hello\f[R]
5746 .RE
5747 .RS
5748 .PP
5749 \f[CB]java\ \-XX:SharedArchiveFile=common.jsa\ \-cp\ common.jar:hello.jar:hi.jar\ Hi\f[R]
5750 .RE
5751 .RE
5752 .SS Specifying Additional Shared Data Added to an Archive File
5753 .PP
5754 The \f[CB]SharedArchiveConfigFile\f[R] option is used to specify
5755 additional shared data to add to the archive file.
5756 .RS
5757 .PP
5758 \f[CB]\-XX:SharedArchiveConfigFile=\f[R]\f[I]shared_config_file\f[R]
5759 .RE
5760 .PP
5761 JDK 9 and later supports adding both symbols and string objects to an
5762 archive for memory sharing when you have multiple JVM processes running
5763 on the same host.
5764 An example of this is having multiple JVM processes that use the same
5765 set of Java EE classes.
5766 When these common classes are loaded and used, new symbols and strings
5767 may be created and added to the JVM\[aq]s internal &quot;symbol&quot; and &quot;string&quot;
5768 tables.
5769 At runtime, the symbols or string objects mapped from the archive file
5770 can be shared across multiple JVM processes, resulting in a reduction of
5771 overall memory usage.
5772 In addition, archiving strings also provides added performance benefits
5773 in both startup time and runtime execution.
5774 .PP
5775 In JDK 10 and later, CONSTANT_String entries in archived classes are
5776 resolved to interned String objects at dump time, and all interned
5777 String objects are archived.
5778 However, even though all CONSTANT_String literals in all archived
5779 classes are resolved, it might still beneficial to add additional
5780 strings that are not string literals in class files, but are likely to
5781 be used by your application at run time.
5782 .PP
5783 Symbol data should be generated by the \f[CB]jcmd\f[R] tool attaching to a
5784 running JVM process.
5785 See \f[B]jcmd\f[R].
5786 .PP
5787 The following is an example of the symbol dumping command in
5788 \f[CB]jcmd\f[R]:
5789 .RS
5790 .PP
5791 \f[CB]jcmd\f[R] \f[I]pid\f[R] \f[CB]VM.symboltable\ \-verbose\f[R]
5792 .RE
5793 .RS
5794 .PP
5795 \f[B]Note:\f[R] The first line (process ID) and the second line
5796 (\f[CB]\@VERSION\ ...\f[R]) of this \f[CB]jcmd\f[R] output should be
5797 excluded from the configuration file.
5798 .RE
5799 .SS Example of a Configuration File
5800 .PP
5801 The following is an example of a configuration file:
5802 .IP
5803 .nf
5804 \f[CB]
5805 VERSION:\ 1.0
5806 \@SECTION:\ Symbol
5807 10\ \-1:\ linkMethod
5808 \f[R]
5809 .fi
5810 .PP
5811 In the configuration file example, the \f[CB]\@SECTION:\ Symbol\f[R] entry
5812 uses the following format:
5813 .RS
5814 .PP
5815 \f[I]length\f[R] \f[I]refcount\f[R]\f[CB]:\f[R] \f[I]symbol\f[R]
5816 .RE
5817 .PP
5818 The \f[I]refcount\f[R] for a shared symbol is always \f[CB]\-1\f[R].
5819 .PP
5820 \f[CB]\@SECTION\f[R] specifies the type of the section that follows it.
5821 All data within the section must be the same type that\[aq]s specified
5822 by \f[CB]\@SECTION\f[R].
5823 Different types of data can\[aq]t be mixed.
5824 Multiple separated data sections for the same type specified by
5825 different \f[CB]\@SECTION\f[R] are allowed within one
5826 \f[CB]shared_config_file\f[R] .
5827 .SH PERFORMANCE TUNING EXAMPLES
5828 .PP
5829 You can use the Java advanced runtime options to optimize the
5830 performance of your applications.
5831 .SS Tuning for Higher Throughput
5832 .PP
5833 Use the following commands and advanced options to achieve higher
5834 throughput performance for your application:
5835 .RS
5836 .PP
5837 \f[CB]java\ \-server\ \-XX:+UseParallelGC\ \-XX:+UseLargePages\ \-Xmn10g\ \ \-Xms26g\ \-Xmx26g\f[R]
5838 .RE
5839 .SS Tuning for Lower Response Time
5840 .PP
5841 Use the following commands and advanced options to achieve lower
5842 response times for your application:
5843 .RS
5844 .PP
5845 \f[CB]java\ \-XX:+UseG1GC\ \-XX:MaxGCPauseMillis=100\f[R]
5846 .RE
5847 .SS Keeping the Java Heap Small and Reducing the Dynamic Footprint of
5848 Embedded Applications
5849 .PP
5850 Use the following advanced runtime options to keep the Java heap small
5851 and reduce the dynamic footprint of embedded applications:
5852 .RS
5853 .PP
5854 \f[CB]\-XX:MaxHeapFreeRatio=10\ \-XX:MinHeapFreeRatio=5\f[R]
5855 .RE
5856 .RS
5857 .PP
5858 \f[B]Note:\f[R] The defaults for these two options are 70% and 40%
5859 respectively.
5860 Because performance sacrifices can occur when using these small
5861 settings, you should optimize for a small footprint by reducing these
5862 settings as much as possible without introducing unacceptable
5863 performance degradation.
5864 .RE
5865 .SH EXIT STATUS
5866 .PP
5867 The following exit values are typically returned by the launcher when
5868 the launcher is called with the wrong arguments, serious errors, or
5869 exceptions thrown by the JVM.
5870 However, a Java application may choose to return any value by using the
5871 API call \f[CB]System.exit(exitValue)\f[R].
5872 The values are:
5873 .IP \[bu] 2
5874 \f[CB]0\f[R]: Successful completion
5875 .IP \[bu] 2
5876 \f[CB]&gt;0\f[R]: An error occurred
    </pre>
  </body>
</html>