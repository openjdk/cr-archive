<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/java.desktop/share/classes/sun/font/FileFontStrike.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="CMap.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="FontFamily.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.desktop/share/classes/sun/font/FileFontStrike.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 221,12 ***</span>
               matrix[0] &gt;= 3.0 &amp;&amp; matrix[0] &lt;= 100.0) &amp;&amp;
              !((TrueTypeFont)fileFont).useEmbeddedBitmapsForSize(intPtSize)) {
              useNatives = true;
          }
          if (FontUtilities.isLogging() &amp;&amp; FontUtilities.isWindows) {
<span class="line-modified">!             FontUtilities.getLogger().info</span>
<span class="line-removed">-                 (&quot;Strike for &quot; + fileFont + &quot; at size = &quot; + intPtSize +</span>
                   &quot; use natives = &quot; + useNatives +
                   &quot; useJavaRasteriser = &quot; + fileFont.useJavaRasterizer +
                   &quot; AAHint = &quot; + desc.aaHint +
                   &quot; Has Embedded bitmaps = &quot; +
                   ((TrueTypeFont)fileFont).
<span class="line-new-header">--- 221,11 ---</span>
               matrix[0] &gt;= 3.0 &amp;&amp; matrix[0] &lt;= 100.0) &amp;&amp;
              !((TrueTypeFont)fileFont).useEmbeddedBitmapsForSize(intPtSize)) {
              useNatives = true;
          }
          if (FontUtilities.isLogging() &amp;&amp; FontUtilities.isWindows) {
<span class="line-modified">!             FontUtilities.logInfo(&quot;Strike for &quot; + fileFont + &quot; at size = &quot; + intPtSize +</span>
                   &quot; use natives = &quot; + useNatives +
                   &quot; useJavaRasteriser = &quot; + fileFont.useJavaRasterizer +
                   &quot; AAHint = &quot; + desc.aaHint +
                   &quot; Has Embedded bitmaps = &quot; +
                   ((TrueTypeFont)fileFont).
</pre>
<hr />
<pre>
<span class="line-old-header">*** 317,14 ***</span>
              StrikeCache.unsafe.putFloat(ptr + StrikeCache.xAdvanceOffset,
                                          advance);
              return ptr;
          } else {
              if (FontUtilities.isLogging()) {
<span class="line-modified">!                 FontUtilities.getLogger().warning(</span>
<span class="line-modified">!                         &quot;Failed to render glyph using GDI: code=&quot; + glyphCode</span>
<span class="line-modified">!                                 + &quot;, fontFamily=&quot; + family + &quot;, style=&quot; + style</span>
<span class="line-removed">-                                 + &quot;, size=&quot; + size);</span>
              }
              return fileFont.getGlyphImage(pScalerContext, glyphCode);
          }
      }
  
<span class="line-new-header">--- 316,13 ---</span>
              StrikeCache.unsafe.putFloat(ptr + StrikeCache.xAdvanceOffset,
                                          advance);
              return ptr;
          } else {
              if (FontUtilities.isLogging()) {
<span class="line-modified">!                 FontUtilities.logWarning(&quot;Failed to render glyph using GDI: code=&quot; + glyphCode</span>
<span class="line-modified">!                                     + &quot;, fontFamily=&quot; + family + &quot;, style=&quot; + style</span>
<span class="line-modified">!                                     + &quot;, size=&quot; + size);</span>
              }
              return fileFont.getGlyphImage(pScalerContext, glyphCode);
          }
      }
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 354,18 ***</span>
              return glyphPtr;
          } else {
              if (useNatives) {
                  glyphPtr = getGlyphImageFromNative(glyphCode);
                  if (glyphPtr == 0L &amp;&amp; FontUtilities.isLogging()) {
<span class="line-modified">!                     FontUtilities.getLogger().info</span>
<span class="line-removed">-                         (&quot;Strike for &quot; + fileFont +</span>
                           &quot; at size = &quot; + intPtSize +
                           &quot; couldn&#39;t get native glyph for code = &quot; + glyphCode);
<span class="line-modified">!                  }</span>
<span class="line-modified">!             } if (glyphPtr == 0L) {</span>
<span class="line-modified">!                 glyphPtr = fileFont.getGlyphImage(pScalerContext,</span>
<span class="line-modified">!                                                   glyphCode);</span>
              }
              return setCachedGlyphPtr(glyphCode, glyphPtr);
          }
      }
  
<span class="line-new-header">--- 352,17 ---</span>
              return glyphPtr;
          } else {
              if (useNatives) {
                  glyphPtr = getGlyphImageFromNative(glyphCode);
                  if (glyphPtr == 0L &amp;&amp; FontUtilities.isLogging()) {
<span class="line-modified">!                     FontUtilities.logInfo(&quot;Strike for &quot; + fileFont +</span>
                           &quot; at size = &quot; + intPtSize +
                           &quot; couldn&#39;t get native glyph for code = &quot; + glyphCode);
<span class="line-modified">!                 }</span>
<span class="line-modified">!             }</span>
<span class="line-modified">!             if (glyphPtr == 0L) {</span>
<span class="line-modified">!                 glyphPtr = fileFont.getGlyphImage(pScalerContext, glyphCode);</span>
              }
              return setCachedGlyphPtr(glyphCode, glyphPtr);
          }
      }
  
</pre>
<center><a href="CMap.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="FontFamily.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>