<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/jdk.jartool/share/man/jarsigner.1</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="jar.1.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="../../../jdk.javadoc/share/classes/jdk/javadoc/internal/doclets/formats/html/AbstractExecutableMemberWriter.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.jartool/share/man/jarsigner.1</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,7 ***</span>
  .\&quot;t
<span class="line-modified">! .\&quot; Copyright (c) 1994, 2019, Oracle and/or its affiliates. All rights reserved.</span>
  .\&quot; DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  .\&quot;
  .\&quot; This code is free software; you can redistribute it and/or modify it
  .\&quot; under the terms of the GNU General Public License version 2 only, as
  .\&quot; published by the Free Software Foundation.
<span class="line-new-header">--- 1,7 ---</span>
  .\&quot;t
<span class="line-modified">! .\&quot; Copyright (c) 1998, 2020, Oracle and/or its affiliates. All rights reserved.</span>
  .\&quot; DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  .\&quot;
  .\&quot; This code is free software; you can redistribute it and/or modify it
  .\&quot; under the terms of the GNU General Public License version 2 only, as
  .\&quot; published by the Free Software Foundation.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 20,11 ***</span>
  .\&quot; or visit www.oracle.com if you need additional information or have any
  .\&quot; questions.
  .\&quot;
  .\&quot; Automatically generated by Pandoc 2.3.1
  .\&quot;
<span class="line-modified">! .TH &quot;JARSIGNER&quot; &quot;1&quot; &quot;2020&quot; &quot;JDK 14&quot; &quot;JDK Commands&quot;</span>
  .hy
  .SH NAME
  .PP
  jarsigner \- sign and verify Java Archive (JAR) files
  .SH SYNOPSIS
<span class="line-new-header">--- 20,11 ---</span>
  .\&quot; or visit www.oracle.com if you need additional information or have any
  .\&quot; questions.
  .\&quot;
  .\&quot; Automatically generated by Pandoc 2.3.1
  .\&quot;
<span class="line-modified">! .TH &quot;JARSIGNER&quot; &quot;1&quot; &quot;2020&quot; &quot;JDK 15&quot; &quot;JDK Commands&quot;</span>
  .hy
  .SH NAME
  .PP
  jarsigner \- sign and verify Java Archive (JAR) files
  .SH SYNOPSIS
</pre>
<hr />
<pre>
<span class="line-old-header">*** 143,10 ***</span>
<span class="line-new-header">--- 143,13 ---</span>
  file.
  Use the \f[CB]\-verify\f[R] option to verify a signed JAR file.
  .PP
  The \f[CB]jarsigner\f[R] command also attempts to validate the
  signer\[aq]s certificate after signing or verifying.
<span class="line-added">+ During validation, it checks the revocation status of each certificate</span>
<span class="line-added">+ in the signer\[aq]s certificate chain when the \f[CB]\-revCheck\f[R]</span>
<span class="line-added">+ option is specified.</span>
  If there is a validation error or any other problem, the command
  generates warning messages.
  If you specify the \f[CB]\-strict\f[R] option, then the command treats
  severe warnings as errors.
  See \f[B]Errors and Warnings\f[R].
</pre>
<hr />
<pre>
<span class="line-old-header">*** 174,12 ***</span>
  specifying the URL of the keystore to be used.
  The keystore is by default stored in a file named \f[CB]\&amp;.keystore\f[R]
  in the user\[aq]s home directory, as determined by the
  \f[CB]user.home\f[R] system property.
  .PP
<span class="line-modified">! \f[B]Oracle Solaris, Linux, and OS X:\f[R] \f[CB]user.home\f[R] defaults to</span>
<span class="line-modified">! the user\[aq]s home directory.</span>
  .PP
  The input stream from the \f[CB]\-keystore\f[R] option is passed to the
  \f[CB]KeyStore.load\f[R] method.
  If \f[CB]NONE\f[R] is specified as the URL, then a null stream is passed
  to the \f[CB]KeyStore.load\f[R] method.
<span class="line-new-header">--- 177,12 ---</span>
  specifying the URL of the keystore to be used.
  The keystore is by default stored in a file named \f[CB]\&amp;.keystore\f[R]
  in the user\[aq]s home directory, as determined by the
  \f[CB]user.home\f[R] system property.
  .PP
<span class="line-modified">! \f[B]Linux and OS X:\f[R] \f[CB]user.home\f[R] defaults to the user\[aq]s</span>
<span class="line-modified">! home directory.</span>
  .PP
  The input stream from the \f[CB]\-keystore\f[R] option is passed to the
  \f[CB]KeyStore.load\f[R] method.
  If \f[CB]NONE\f[R] is specified as the URL, then a null stream is passed
  to the \f[CB]KeyStore.load\f[R] method.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 349,20 ***</span>
  .TE
  .PP
  These default signature algorithms can be overridden by using the
  \f[CB]\-sigalg\f[R] option.
  .PP
<span class="line-modified">! Signed JAR file algorithms are checked against the</span>
<span class="line-modified">! \f[CB]jdk.jar.disabledAlgorithms\f[R] security property during</span>
<span class="line-modified">! verification (\f[CB]\-verify\f[R]).</span>
  If the JAR file was signed with any algorithms that are disabled, it
  will be treated as an unsigned JAR file.
  For detailed verification output, include
  \f[CB]\-J\-Djava.security.debug=jar\f[R].
<span class="line-modified">! The default value for the \f[CB]jdk.jar.disabledAlgorithms\f[R] security</span>
<span class="line-modified">! property is defined in the \f[CB]java.security\f[R] file (located in the</span>
<span class="line-modified">! JRE\[aq]s \f[CB]$JAVA_HOME/conf/security\f[R] directory).</span>
  .PP
  \f[B]Note:\f[R]
  .PP
  In order to improve out of the box security, default key size and
  signature algorithm names are periodically updated to stronger values
<span class="line-new-header">--- 352,25 ---</span>
  .TE
  .PP
  These default signature algorithms can be overridden by using the
  \f[CB]\-sigalg\f[R] option.
  .PP
<span class="line-modified">! The \f[CB]jarsigner\f[R] command uses the</span>
<span class="line-modified">! \f[CB]jdk.jar.disabledAlgorithms\f[R] and</span>
<span class="line-modified">! \f[CB]jdk.security.legacyAlgorithms\f[R] security properties to determine</span>
<span class="line-added">+ which algorithms are considered a security risk.</span>
  If the JAR file was signed with any algorithms that are disabled, it
  will be treated as an unsigned JAR file.
<span class="line-added">+ If the JAR file was signed with any legacy algorithms, it will be</span>
<span class="line-added">+ treated as signed with an informational warning to inform users that the</span>
<span class="line-added">+ legacy algorithm will be disabled in a future update.</span>
  For detailed verification output, include
  \f[CB]\-J\-Djava.security.debug=jar\f[R].
<span class="line-modified">! The \f[CB]jdk.jar.disabledAlgorithms\f[R] and</span>
<span class="line-modified">! \f[CB]jdk.security.legacyAlgorithms\f[R] security properties are defined</span>
<span class="line-modified">! in the \f[CB]java.security\f[R] file (located in the JDK\[aq]s</span>
<span class="line-added">+ \f[CB]$JAVA_HOME/conf/security\f[R] directory).</span>
  .PP
  \f[B]Note:\f[R]
  .PP
  In order to improve out of the box security, default key size and
  signature algorithm names are periodically updated to stronger values
</pre>
<hr />
<pre>
<span class="line-old-header">*** 593,11 ***</span>
  .IP \[bu] 2
  \f[CB]\-keystore\ file:\f[R]\f[I]filePathAndName\f[R]
  .PP
  If the Sun PKCS #11 provider was configured in the
  \f[CB]java.security\f[R] security properties file (located in the
<span class="line-modified">! JRE\[aq]s \f[CB]$JAVA_HOME/conf/security\f[R] directory), then the</span>
  \f[CB]keytool\f[R] and \f[CB]jarsigner\f[R] tools can operate on the PKCS
  #11 token by specifying these options:
  .RS
  .PP
  \f[CB]\-keystore\ NONE\ \-storetype\ PKCS11\f[R]
<span class="line-new-header">--- 601,11 ---</span>
  .IP \[bu] 2
  \f[CB]\-keystore\ file:\f[R]\f[I]filePathAndName\f[R]
  .PP
  If the Sun PKCS #11 provider was configured in the
  \f[CB]java.security\f[R] security properties file (located in the
<span class="line-modified">! JDK\[aq]s \f[CB]$JAVA_HOME/conf/security\f[R] directory), then the</span>
  \f[CB]keytool\f[R] and \f[CB]jarsigner\f[R] tools can operate on the PKCS
  #11 token by specifying these options:
  .RS
  .PP
  \f[CB]\-keystore\ NONE\ \-storetype\ PKCS11\f[R]
</pre>
<hr />
<pre>
<span class="line-old-header">*** 808,10 ***</span>
<span class="line-new-header">--- 816,21 ---</span>
  If the public key certificate for a signer matches an entry in the
  keystore, then the alias name for the keystore entry for that signer is
  displayed in parentheses.
  .RE
  .TP
<span class="line-added">+ .B \f[CB]\-revCheck\f[R]</span>
<span class="line-added">+ This option enables revocation checking of certificates when signing or</span>
<span class="line-added">+ verifying a JAR file.</span>
<span class="line-added">+ The \f[CB]jarsigner\f[R] command attempts to make network connections to</span>
<span class="line-added">+ fetch OCSP responses and CRLs if the \f[CB]\-revCheck\f[R] option is</span>
<span class="line-added">+ specified on the command line.</span>
<span class="line-added">+ Note that revocation checks are not enabled unless this option is</span>
<span class="line-added">+ specified.</span>
<span class="line-added">+ .RS</span>
<span class="line-added">+ .RE</span>
<span class="line-added">+ .TP</span>
  .B \f[CB]\-tsa\f[R] \f[I]url\f[R]
  If \f[CB]\-tsa\ http://example.tsa.url\f[R] appears on the command line
  when signing a JAR file then a time stamp is generated for the
  signature.
  The URL, \f[CB]http://example.tsa.url\f[R], identifies the location of the
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1029,11 ***</span>
  An absolute path or a path relative to the current directory can be
  specified.
  If \f[I]classpathlist\f[R] contains multiple paths or JAR files, then
  they should be separated with a:
  .IP \[bu] 2
<span class="line-modified">! Colon (\f[CB]:\f[R]) on Oracle Solaris, Linux, and macOS</span>
  .IP \[bu] 2
  Semicolon (\f[CB];\f[R]) on Windows
  .PP
  This option isn\[aq]t necessary when the class is already in the search
  path.
<span class="line-new-header">--- 1048,11 ---</span>
  An absolute path or a path relative to the current directory can be
  specified.
  If \f[I]classpathlist\f[R] contains multiple paths or JAR files, then
  they should be separated with a:
  .IP \[bu] 2
<span class="line-modified">! Colon (\f[CB]:\f[R]) on Linux and macOS</span>
  .IP \[bu] 2
  Semicolon (\f[CB];\f[R]) on Windows
  .PP
  This option isn\[aq]t necessary when the class is already in the search
  path.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1071,11 ***</span>
  KeyUsage extension that doesn\[aq]t allow it to sign a file, the
  \f[CB]jarsigner\f[R] command exits with code 12 (=4+8) when the
  \f[CB]\-strict\f[R] option is specified.
  .PP
  \f[B]Note:\f[R] Exit codes are reused because only the values from 0 to
<span class="line-modified">! 255 are legal on Oracle Solaris, Linux, and OS X.</span>
  .PP
  The following sections describes the names, codes, and descriptions of
  the errors and warnings that the \f[CB]jarsigner\f[R] command can issue.
  .SH FAILURE
  .PP
<span class="line-new-header">--- 1090,11 ---</span>
  KeyUsage extension that doesn\[aq]t allow it to sign a file, the
  \f[CB]jarsigner\f[R] command exits with code 12 (=4+8) when the
  \f[CB]\-strict\f[R] option is specified.
  .PP
  \f[B]Note:\f[R] Exit codes are reused because only the values from 0 to
<span class="line-modified">! 255 are legal on Linux and OS X.</span>
  .PP
  The following sections describes the names, codes, and descriptions of
  the errors and warnings that the \f[CB]jarsigner\f[R] command can issue.
  .SH FAILURE
  .PP
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1133,14 ***</span>
  Code 4.
  This JAR contains entries whose signer certificate is self signed.
  .RS
  .RE
  .TP
<span class="line-modified">! .B weakAlg</span>
  Code 4.
<span class="line-modified">! An algorithm specified on the command line is considered a security</span>
<span class="line-removed">- risk.</span>
  .RS
  .RE
  .TP
  .B badKeyUsage
  Code 8.
<span class="line-new-header">--- 1152,13 ---</span>
  Code 4.
  This JAR contains entries whose signer certificate is self signed.
  .RS
  .RE
  .TP
<span class="line-modified">! .B disabledAlg</span>
  Code 4.
<span class="line-modified">! An algorithm used is considered a security risk and is disabled.</span>
  .RS
  .RE
  .TP
  .B badKeyUsage
  Code 8.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1204,10 ***</span>
<span class="line-new-header">--- 1222,15 ---</span>
  .B hasExpiringTsaCert
  The timestamp will expire within one year on \f[CB]YYYY\-MM\-DD\f[R].
  .RS
  .RE
  .TP
<span class="line-added">+ .B legacyAlg</span>
<span class="line-added">+ An algorithm used is considered a security risk but not disabled.</span>
<span class="line-added">+ .RS</span>
<span class="line-added">+ .RE</span>
<span class="line-added">+ .TP</span>
  .B noTimestamp
  This JAR contains signatures that doesn\[aq]t include a timestamp.
  Without a timestamp, users may not be able to validate this JAR file
  after the signer certificate\[aq]s expiration date
  (\f[CB]YYYY\-MM\-DD\f[R]) or after any future revocation date.
</pre>
<center><a href="jar.1.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="../../../jdk.javadoc/share/classes/jdk/javadoc/internal/doclets/formats/html/AbstractExecutableMemberWriter.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>