<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.incubator.foreign/share/classes/jdk/internal/foreign/AbstractNativeScope.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../incubator/foreign/NativeScope.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>src/jdk.incubator.foreign/share/classes/jdk/internal/foreign/AbstractNativeScope.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 package jdk.internal.foreign;
  2 
  3 import jdk.incubator.foreign.MemorySegment;
  4 import jdk.incubator.foreign.NativeScope;
  5 
  6 import java.util.ArrayList;
  7 import java.util.List;
  8 import java.util.Objects;
  9 import java.util.OptionalLong;
 10 
<span class="line-modified"> 11 public abstract class AbstractNativeScope extends NativeScope {</span>
 12 
 13     private final List&lt;MemorySegment&gt; segments = new ArrayList&lt;&gt;();
 14     private final Thread ownerThread;
 15 
 16     private static final int SCOPE_MASK = MemorySegment.READ | MemorySegment.WRITE; // no terminal operations allowed
 17 
 18     AbstractNativeScope(Thread ownerThread) {
 19         this.ownerThread = ownerThread;
 20     }
 21 
 22     @Override
 23     public Thread ownerThread() {
 24         return ownerThread;
 25     }
 26 
 27     @Override
 28     public void close() {
 29         for (MemorySegment segment : segments) {
 30             try {
 31                 segment.close();
</pre>
</td>
<td>
<hr />
<pre>
  1 package jdk.internal.foreign;
  2 
  3 import jdk.incubator.foreign.MemorySegment;
  4 import jdk.incubator.foreign.NativeScope;
  5 
  6 import java.util.ArrayList;
  7 import java.util.List;
  8 import java.util.Objects;
  9 import java.util.OptionalLong;
 10 
<span class="line-modified"> 11 public abstract class AbstractNativeScope implements NativeScope {</span>
 12 
 13     private final List&lt;MemorySegment&gt; segments = new ArrayList&lt;&gt;();
 14     private final Thread ownerThread;
 15 
 16     private static final int SCOPE_MASK = MemorySegment.READ | MemorySegment.WRITE; // no terminal operations allowed
 17 
 18     AbstractNativeScope(Thread ownerThread) {
 19         this.ownerThread = ownerThread;
 20     }
 21 
 22     @Override
 23     public Thread ownerThread() {
 24         return ownerThread;
 25     }
 26 
 27     @Override
 28     public void close() {
 29         for (MemorySegment segment : segments) {
 30             try {
 31                 segment.close();
</pre>
</td>
</tr>
</table>
<center><a href="../../incubator/foreign/NativeScope.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>