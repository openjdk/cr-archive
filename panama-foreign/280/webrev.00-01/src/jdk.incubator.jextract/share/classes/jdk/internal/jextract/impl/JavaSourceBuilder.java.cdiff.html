<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/jdk.incubator.jextract/share/classes/jdk/internal/jextract/impl/JavaSourceBuilder.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="HeaderBuilder.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="OutputFactory.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.incubator.jextract/share/classes/jdk/internal/jextract/impl/JavaSourceBuilder.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 42,31 ***</span>
      static final String PUB_CLS_MODS = &quot;public final &quot;;
      static final String PUB_MODS = &quot;public static &quot;;
      protected final String className;
      protected final String pkgName;
      protected final ConstantHelper constantHelper;
<span class="line-removed">-     // current line alignment (number of 4-spaces)</span>
<span class="line-removed">-     private int align;</span>
  
      Set&lt;String&gt; nestedClassNames = new HashSet&lt;&gt;();
      int nestedClassNameCount = 0;
  
      JavaSourceBuilder(String className, String pkgName, ConstantHelper constantHelper, int align) {
          this.className = className;
          this.pkgName = pkgName;
          this.constantHelper = constantHelper;
<span class="line-removed">-         this.align = align;</span>
      }
  
      abstract JavaSourceBuilder prev();
  
      abstract void append(String s);
  
      abstract void append(char c);
  
      abstract void append(long l);
  
      JavaSourceBuilder(String className, String pkgName, ConstantHelper constantHelper) {
          this(className, pkgName, constantHelper, 0);
      }
  
      protected String getClassModifiers() {
<span class="line-new-header">--- 42,34 ---</span>
      static final String PUB_CLS_MODS = &quot;public final &quot;;
      static final String PUB_MODS = &quot;public static &quot;;
      protected final String className;
      protected final String pkgName;
      protected final ConstantHelper constantHelper;
  
      Set&lt;String&gt; nestedClassNames = new HashSet&lt;&gt;();
      int nestedClassNameCount = 0;
  
      JavaSourceBuilder(String className, String pkgName, ConstantHelper constantHelper, int align) {
          this.className = className;
          this.pkgName = pkgName;
          this.constantHelper = constantHelper;
      }
  
      abstract JavaSourceBuilder prev();
  
      abstract void append(String s);
  
      abstract void append(char c);
  
      abstract void append(long l);
  
<span class="line-added">+     abstract void indent();</span>
<span class="line-added">+ </span>
<span class="line-added">+     abstract void incrAlign();</span>
<span class="line-added">+ </span>
<span class="line-added">+     abstract void decrAlign();</span>
<span class="line-added">+ </span>
      JavaSourceBuilder(String className, String pkgName, ConstantHelper constantHelper) {
          this(className, pkgName, constantHelper, 0);
      }
  
      protected String getClassModifiers() {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 207,24 ***</span>
  
      protected String addressGetCallString(String javaName, String nativeName, MemoryLayout layout) {
          return getCallString(constantHelper.addAddress(javaName, nativeName, layout));
      }
  
<span class="line-removed">-     protected void indent() {</span>
<span class="line-removed">-         for (int i = 0; i &lt; align; i++) {</span>
<span class="line-removed">-             append(&quot;    &quot;);</span>
<span class="line-removed">-         }</span>
<span class="line-removed">-     }</span>
<span class="line-removed">- </span>
<span class="line-removed">-     protected void incrAlign() {</span>
<span class="line-removed">-         align++;</span>
<span class="line-removed">-     }</span>
<span class="line-removed">- </span>
<span class="line-removed">-     protected void decrAlign() {</span>
<span class="line-removed">-         align--;</span>
<span class="line-removed">-     }</span>
<span class="line-removed">- </span>
      /*
       * We may have case-insensitive name collision! A C program may have
       * defined structs/unions/typedefs with the names FooS, fooS, FoOs, fOOs.
       * Because we map structs/unions/typedefs to nested classes of header classes,
       * such a case-insensitive name collision is problematic. This is because in
<span class="line-new-header">--- 210,10 ---</span>
</pre>
<center><a href="HeaderBuilder.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="OutputFactory.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>